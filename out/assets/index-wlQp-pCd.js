function Hf(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function If(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var Yf={exports:{}},vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=Symbol.for("react.transitional.element"),Ty=Symbol.for("react.fragment");function Ff(e,t,s){var a=null;if(s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),"key"in t){s={};for(var n in t)n!=="key"&&(s[n]=t[n])}else s=t;return t=s.ref,{$$typeof:ky,type:e,key:a,ref:t!==void 0?t:null,props:s}}vo.Fragment=Ty;vo.jsx=Ff;vo.jsxs=Ff;Yf.exports=vo;var r=Yf.exports,Kf={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=Symbol.for("react.transitional.element"),Ay=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),My=Symbol.for("react.consumer"),Uy=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),By=Symbol.for("react.activity"),yh=Symbol.iterator;function qy(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var Qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,Zf={};function xn(e,t,s){this.props=e,this.context=t,this.refs=Zf,this.updater=s||Qf}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wf(){}Wf.prototype=xn.prototype;function Zu(e,t,s){this.props=e,this.context=t,this.refs=Zf,this.updater=s||Qf}var Wu=Zu.prototype=new Wf;Wu.constructor=Zu;Jf(Wu,xn.prototype);Wu.isPureReactComponent=!0;var bh=Array.isArray;function Lc(){}var Oe={H:null,A:null,T:null,S:null},eg=Object.prototype.hasOwnProperty;function ed(e,t,s){var a=s.ref;return{$$typeof:Ju,type:e,key:t,ref:a!==void 0?a:null,props:s}}function Vy(e,t){return ed(e.type,t,e.props)}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ju}function Py(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var vh=/\/+/g;function Po(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Py(""+e.key):t.toString(36)}function Hy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lc,Lc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Tr(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ju:case Ay:l=!0;break;case Xf:return l=e._init,Tr(l(e._payload),t,s,a,n)}}if(l)return n=n(e),l=a===""?"."+Po(e,0):a,bh(n)?(s="",l!=null&&(s=l.replace(vh,"$&/")+"/"),Tr(n,t,s,"",function(u){return u})):n!=null&&(td(n)&&(n=Vy(n,s+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(vh,"$&/")+"/")+l)),t.push(n)),1;l=0;var o=a===""?".":a+":";if(bh(e))for(var c=0;c<e.length;c++)a=e[c],i=o+Po(a,c),l+=Tr(a,t,s,i,n);else if(c=qy(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,i=o+Po(a,c++),l+=Tr(a,t,s,i,n);else if(i==="object"){if(typeof e.then=="function")return Tr(Hy(e),t,s,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Xi(e,t,s){if(e==null)return e;var a=[],n=0;return Tr(e,a,"","",function(i){return t.call(s,i,n++)}),a}function Gy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Iy={map:Xi,forEach:function(e,t,s){Xi(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Xi(e,function(){t++}),t},toArray:function(e){return Xi(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Activity=By;ne.Children=Iy;ne.Component=xn;ne.Fragment=Oy;ne.Profiler=Dy;ne.PureComponent=Zu;ne.StrictMode=Ry;ne.Suspense=zy;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oe;ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Oe.H.useMemoCache(e)}};ne.cache=function(e){return function(){return e.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(e,t,s){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Jf({},e.props),n=e.key;if(t!=null)for(i in t.key!==void 0&&(n=""+t.key),t)!eg.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=s;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];a.children=l}return ed(e.type,n,a)};ne.createContext=function(e){return e={$$typeof:Uy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:My,_context:e},e};ne.createElement=function(e,t,s){var a,n={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)eg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return ed(e,i,n)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Ly,render:e}};ne.isValidElement=td;ne.lazy=function(e){return{$$typeof:Xf,_payload:{_status:-1,_result:e},_init:Gy}};ne.memo=function(e,t){return{$$typeof:$y,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Oe.T,s={};Oe.T=s;try{var a=e(),n=Oe.S;n!==null&&n(s,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Lc,jh)}catch(i){jh(i)}finally{t!==null&&s.types!==null&&(t.types=s.types),Oe.T=t}};ne.unstable_useCacheRefresh=function(){return Oe.H.useCacheRefresh()};ne.use=function(e){return Oe.H.use(e)};ne.useActionState=function(e,t,s){return Oe.H.useActionState(e,t,s)};ne.useCallback=function(e,t){return Oe.H.useCallback(e,t)};ne.useContext=function(e){return Oe.H.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e,t){return Oe.H.useDeferredValue(e,t)};ne.useEffect=function(e,t){return Oe.H.useEffect(e,t)};ne.useEffectEvent=function(e){return Oe.H.useEffectEvent(e)};ne.useId=function(){return Oe.H.useId()};ne.useImperativeHandle=function(e,t,s){return Oe.H.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return Oe.H.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Oe.H.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Oe.H.useMemo(e,t)};ne.useOptimistic=function(e,t){return Oe.H.useOptimistic(e,t)};ne.useReducer=function(e,t,s){return Oe.H.useReducer(e,t,s)};ne.useRef=function(e){return Oe.H.useRef(e)};ne.useState=function(e){return Oe.H.useState(e)};ne.useSyncExternalStore=function(e,t,s){return Oe.H.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return Oe.H.useTransition()};ne.version="19.2.0";Kf.exports=ne;var v=Kf.exports;const tg=Gf(v),Yy=Hf({__proto__:null,default:tg},[v]);var sg={exports:{}},jo={},ag={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,P){var G=$.length;$.push(P);e:for(;0<G;){var ae=G-1>>>1,me=$[ae];if(0<n(me,P))$[ae]=P,$[G]=me,G=ae;else break e}}function s($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var P=$[0],G=$.pop();if(G!==P){$[0]=G;e:for(var ae=0,me=$.length,Ie=me>>>1;ae<Ie;){var Ye=2*(ae+1)-1,$e=$[Ye],ye=Ye+1,ee=$[ye];if(0>n($e,G))ye<me&&0>n(ee,$e)?($[ae]=ee,$[ye]=G,ae=ye):($[ae]=$e,$[Ye]=G,ae=Ye);else if(ye<me&&0>n(ee,G))$[ae]=ee,$[ye]=G,ae=ye;else break e}}return P}function n($,P){var G=$.sortIndex-P.sortIndex;return G!==0?G:$.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],g=1,f=null,d=3,p=!1,w=!1,b=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function m($){for(var P=s(u);P!==null;){if(P.callback===null)a(u);else if(P.startTime<=$)a(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=s(u)}}function N($){if(b=!1,m($),!w)if(s(c)!==null)w=!0,S||(S=!0,O());else{var P=s(u);P!==null&&B(N,P.startTime-$)}}var S=!1,_=-1,T=5,D=-1;function L(){return j?!0:!(e.unstable_now()-D<T)}function R(){if(j=!1,S){var $=e.unstable_now();D=$;var P=!0;try{e:{w=!1,b&&(b=!1,x(_),_=-1),p=!0;var G=d;try{t:{for(m($),f=s(c);f!==null&&!(f.expirationTime>$&&L());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,d=f.priorityLevel;var me=ae(f.expirationTime<=$);if($=e.unstable_now(),typeof me=="function"){f.callback=me,m($),P=!0;break t}f===s(c)&&a(c),m($)}else a(c);f=s(c)}if(f!==null)P=!0;else{var Ie=s(u);Ie!==null&&B(N,Ie.startTime-$),P=!1}}break e}finally{f=null,d=G,p=!1}P=void 0}}finally{P?O():S=!1}}}var O;if(typeof h=="function")O=function(){h(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,z=M.port2;M.port1.onmessage=R,O=function(){z.postMessage(null)}}else O=function(){y(R,0)};function B($,P){_=y(function(){$(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function($){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var G=d;d=P;try{return $()}finally{d=G}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=d;d=$;try{return P()}finally{d=G}},e.unstable_scheduleCallback=function($,P,G){var ae=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=G+me,$={id:g++,callback:P,priorityLevel:$,startTime:G,expirationTime:me,sortIndex:-1},G>ae?($.sortIndex=G,t(u,$),s(c)===null&&$===s(u)&&(b?(x(_),_=-1):b=!0,B(N,G-ae))):($.sortIndex=me,t(c,$),w||p||(w=!0,S||(S=!0,O()))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var P=d;return function(){var G=d;d=P;try{return $.apply(this,arguments)}finally{d=G}}}})(rg);ag.exports=rg;var Fy=ag.exports,ng={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=v;function ig(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zs(){}var vt={d:{f:Zs,r:function(){throw Error(ig(522))},D:Zs,C:Zs,L:Zs,m:Zs,X:Zs,S:Zs,M:Zs},p:0,findDOMNode:null},Xy=Symbol.for("react.portal");function Qy(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xy,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}var Yn=Ky.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;jt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ig(299));return Qy(e,t,null,s)};jt.flushSync=function(e){var t=Yn.T,s=vt.p;try{if(Yn.T=null,vt.p=2,e)return e()}finally{Yn.T=t,vt.p=s,vt.d.f()}};jt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,vt.d.C(e,t))};jt.prefetchDNS=function(e){typeof e=="string"&&vt.d.D(e)};jt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var s=t.as,a=wo(s,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;s==="style"?vt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:i}):s==="script"&&vt.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};jt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var s=wo(t.as,t.crossOrigin);vt.d.M(e,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&vt.d.M(e)};jt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var s=t.as,a=wo(s,t.crossOrigin);vt.d.L(e,s,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};jt.preloadModule=function(e,t){if(typeof e=="string")if(t){var s=wo(t.as,t.crossOrigin);vt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else vt.d.m(e)};jt.requestFormReset=function(e){vt.d.r(e)};jt.unstable_batchedUpdates=function(e,t){return e(t)};jt.useFormState=function(e,t,s){return Yn.H.useFormState(e,t,s)};jt.useFormStatus=function(){return Yn.H.useHostTransitionStatus()};jt.version="19.2.0";function lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lg)}catch(e){console.error(e)}}lg(),ng.exports=jt;var og=ng.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=Fy,cg=v,Jy=og;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ti(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function dg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wh(e){if(Ti(e)!==e)throw Error(U(188))}function Zy(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return wh(n),e;if(i===a)return wh(n),t;i=i.sibling}throw Error(U(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(U(189))}}if(s.alternate!==a)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function mg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=mg(e),t!==null)return t;e=e.sibling}return null}var Re=Object.assign,Wy=Symbol.for("react.element"),Qi=Symbol.for("react.transitional.element"),qn=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),gg=Symbol.for("react.consumer"),zs=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),$c=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),qc=Symbol.for("react.activity"),eb=Symbol.for("react.memo_cache_sentinel"),Nh=Symbol.iterator;function Dn(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var tb=Symbol.for("react.client.reference");function Vc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mr:return"Fragment";case zc:return"Profiler";case fg:return"StrictMode";case $c:return"Suspense";case Bc:return"SuspenseList";case qc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qn:return"Portal";case zs:return e.displayName||"Context";case gg:return(e._context.displayName||"Context")+".Consumer";case sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:Vc(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Vc(e(t))}catch{}}return null}var Vn=Array.isArray,Z=cg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=Jy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qa={pending:!1,data:null,method:null,action:null},Pc=[],Ur=-1;function ws(e){return{current:e}}function it(e){0>Ur||(e.current=Pc[Ur],Pc[Ur]=null,Ur--)}function ke(e,t){Ur++,Pc[Ur]=e.current,e.current=t}var js=ws(null),ci=ws(null),ma=ws(null),zl=ws(null);function $l(e,t){switch(ke(ma,t),ke(ci,e),ke(js,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tm(t),e=Up(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(js),ke(js,e)}function tn(){it(js),it(ci),it(ma)}function Hc(e){e.memoizedState!==null&&ke(zl,e);var t=js.current,s=Up(t,e.type);t!==s&&(ke(ci,e),ke(js,s))}function Bl(e){ci.current===e&&(it(js),it(ci)),zl.current===e&&(it(zl),vi._currentValue=Qa)}var Ho,_h;function qa(e){if(Ho===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||"",_h=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+e+_h}var Go=!1;function Io(e,t){if(!e||Go)return"";Go=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){d=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),l=i[0],o=i[1];if(l&&o){var c=l.split(`
`),u=o.split(`
`);for(n=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(a===c.length||n===u.length)for(a=c.length-1,n=u.length-1;1<=a&&0<=n&&c[a]!==u[n];)n--;for(;1<=a&&0<=n;a--,n--)if(c[a]!==u[n]){if(a!==1||n!==1)do if(a--,n--,0>n||c[a]!==u[n]){var g=`
`+c[a].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=a&&0<=n);break}}}finally{Go=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qa(s):""}function sb(e,t){switch(e.tag){case 26:case 27:case 5:return qa(e.type);case 16:return qa("Lazy");case 13:return e.child!==t&&t!==null?qa("Suspense Fallback"):qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return Io(e.type,!1);case 11:return Io(e.type.render,!1);case 1:return Io(e.type,!0);case 31:return qa("Activity");default:return""}}function Sh(e){try{var t="",s=null;do t+=sb(e,s),s=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Gc=Object.prototype.hasOwnProperty,rd=et.unstable_scheduleCallback,Yo=et.unstable_cancelCallback,ab=et.unstable_shouldYield,rb=et.unstable_requestPaint,qt=et.unstable_now,nb=et.unstable_getCurrentPriorityLevel,xg=et.unstable_ImmediatePriority,pg=et.unstable_UserBlockingPriority,ql=et.unstable_NormalPriority,ib=et.unstable_LowPriority,yg=et.unstable_IdlePriority,lb=et.log,ob=et.unstable_setDisableYieldValue,Ai=null,Vt=null;function oa(e){if(typeof lb=="function"&&ob(e),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Ai,e)}catch{}}var Pt=Math.clz32?Math.clz32:db,cb=Math.log,ub=Math.LN2;function db(e){return e>>>=0,e===0?32:31-(cb(e)/ub|0)|0}var Ji=256,Zi=262144,Wi=4194304;function Va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function No(e,t,s){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=a&134217727;return o!==0?(a=o&~i,a!==0?n=Va(a):(l&=o,l!==0?n=Va(l):s||(s=o&~e,s!==0&&(n=Va(s))))):(o=a&~i,o!==0?n=Va(o):l!==0?n=Va(l):s||(s=a&~e,s!==0&&(n=Va(s)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===32&&(s&4194048)!==0)?t:n}function Oi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function hb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(){var e=Wi;return Wi<<=1,!(Wi&62914560)&&(Wi=4194304),e}function Fo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mb(e,t,s,a,n,i){var l=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(s=l&~s;0<s;){var g=31-Pt(s),f=1<<g;o[g]=0,c[g]=-1;var d=u[g];if(d!==null)for(u[g]=null,g=0;g<d.length;g++){var p=d[g];p!==null&&(p.lane&=-536870913)}s&=~f}a!==0&&vg(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function vg(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Pt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|s&261930}function jg(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Pt(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}function wg(e,t){var s=t&-t;return s=s&42?1:nd(s),s&(e.suspendedLanes|t)?0:s}function nd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function id(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ng(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function Eh(e,t){var s=pe.p;try{return pe.p=e,t()}finally{pe.p=s}}var ka=Math.random().toString(36).slice(2),ct="__reactFiber$"+ka,Tt="__reactProps$"+ka,pn="__reactContainer$"+ka,Ic="__reactEvents$"+ka,fb="__reactListeners$"+ka,gb="__reactHandles$"+ka,Ch="__reactResources$"+ka,Di="__reactMarker$"+ka;function ld(e){delete e[ct],delete e[Tt],delete e[Ic],delete e[fb],delete e[gb]}function Lr(e){var t=e[ct];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pn]||s[ct]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Mm(e);e!==null;){if(s=e[ct])return s;e=Mm(e)}return t}e=s,s=e.parentNode}return null}function yn(e){if(e=e[ct]||e[pn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Yr(e){var t=e[Ch];return t||(t=e[Ch]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Di]=!0}var _g=new Set,Sg={};function lr(e,t){sn(e,t),sn(e+"Capture",t)}function sn(e,t){for(Sg[e]=t,e=0;e<t.length;e++)_g.add(t[e])}var xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kh={},Th={};function pb(e){return Gc.call(Th,e)?!0:Gc.call(kh,e)?!1:xb.test(e)?Th[e]=!0:(kh[e]=!0,!1)}function wl(e,t,s){if(pb(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function el(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function ks(e,t,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+a)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yb(e,t,s){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yc(e){if(!e._valueTracker){var t=Eg(e)?"checked":"value";e._valueTracker=yb(e,t,""+e[t])}}function Cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Eg(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bb=/[\n"\\]/g;function es(e){return e.replace(bb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fc(e,t,s,a,n,i,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jt(t)):e.value!==""+Jt(t)&&(e.value=""+Jt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Kc(e,l,Jt(t)):s!=null?Kc(e,l,Jt(s)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Jt(o):e.removeAttribute("name")}function kg(e,t,s,a,n,i,l,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||s!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Yc(e);return}s=s!=null?""+Jt(s):"",t=t!=null?""+Jt(t):s,o||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Yc(e)}function Kc(e,t,s){t==="number"&&Vl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Fr(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Jt(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Tg(e,t,s){if(t!=null&&(t=""+Jt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Jt(s):""}function Ag(e,t,s,a){if(t==null){if(a!=null){if(s!=null)throw Error(U(92));if(Vn(a)){if(1<a.length)throw Error(U(93));a=a[0]}s=a}s==null&&(s=""),t=s}s=Jt(t),e.defaultValue=s,a=e.textContent,a===s&&a!==""&&a!==null&&(e.value=a),Yc(e)}function an(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var vb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(e,t,s){var a=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,s):typeof s!="number"||s===0||vb.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Og(e,t,s){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&s[n]!==a&&Ah(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&Ah(e,i,t[i])}function od(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return wb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $s(){}var Xc=null;function cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,Kr=null;function Oh(e){var t=yn(e);if(t&&(e=t.stateNode)){var s=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+es(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=a[Tt]||null;if(!n)throw Error(U(90));Fc(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<s.length;t++)a=s[t],a.form===e.form&&Cg(a)}break e;case"textarea":Tg(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Fr(e,!!s.multiple,t,!1)}}}var Ko=!1;function Rg(e,t,s){if(Ko)return e(t,s);Ko=!0;try{var a=e(t);return a}finally{if(Ko=!1,(zr!==null||Kr!==null)&&(Uo(),zr&&(t=zr,e=Kr,Kr=zr=null,Oh(t),e)))for(t=0;t<e.length;t++)Oh(e[t])}}function ui(e,t){var s=e.stateNode;if(s===null)return null;var a=s[Tt]||null;if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(U(231,t,typeof s));return s}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=!1;if(Hs)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Qc=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Qc=!1}var ca=null,ud=null,_l=null;function Dg(){if(_l)return _l;var e,t=ud,s=t.length,a,n="value"in ca?ca.value:ca.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&t[s-a]===n[i-a];a++);return _l=n.slice(e,1<a?1-a:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function Rh(){return!1}function At(e){function t(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tl:Rh,this.isPropagationStopped=Rh,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=At(or),Mi=Re({},or,{view:0,detail:0}),Nb=At(Mi),Xo,Qo,Un,So=Re({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(Xo=e.screenX-Un.screenX,Qo=e.screenY-Un.screenY):Qo=Xo=0,Un=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),Dh=At(So),_b=Re({},So,{dataTransfer:0}),Sb=At(_b),Eb=Re({},Mi,{relatedTarget:0}),Jo=At(Eb),Cb=Re({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=At(Cb),Tb=Re({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ab=At(Tb),Ob=Re({},or,{data:0}),Mh=At(Ob),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ub(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mb[e])?!!t[e]:!1}function dd(){return Ub}var Lb=Re({},Mi,{key:function(e){if(e.key){var t=Rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dd,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zb=At(Lb),$b=Re({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=At($b),Bb=Re({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dd}),qb=At(Bb),Vb=Re({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pb=At(Vb),Hb=Re({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=At(Hb),Ib=Re({},or,{newState:0,oldState:0}),Yb=At(Ib),Fb=[9,13,27,32],hd=Hs&&"CompositionEvent"in window,Fn=null;Hs&&"documentMode"in document&&(Fn=document.documentMode);var Kb=Hs&&"TextEvent"in window&&!Fn,Mg=Hs&&(!hd||Fn&&8<Fn&&11>=Fn),Lh=" ",zh=!1;function Ug(e,t){switch(e){case"keyup":return Fb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function Xb(e,t){switch(e){case"compositionend":return Lg(t);case"keypress":return t.which!==32?null:(zh=!0,Lh);case"textInput":return e=t.data,e===Lh&&zh?null:e;default:return null}}function Qb(e,t){if($r)return e==="compositionend"||!hd&&Ug(e,t)?(e=Dg(),_l=ud=ca=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mg&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function zg(e,t,s,a){zr?Kr?Kr.push(a):Kr=[a]:zr=a,t=no(t,"onChange"),0<t.length&&(s=new _o("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Kn=null,di=null;function Zb(e){Rp(e,0)}function Eo(e){var t=Pn(e);if(Cg(t))return e}function Bh(e,t){if(e==="change")return t}var $g=!1;if(Hs){var Zo;if(Hs){var Wo="oninput"in document;if(!Wo){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Wo=typeof qh.oninput=="function"}Zo=Wo}else Zo=!1;$g=Zo&&(!document.documentMode||9<document.documentMode)}function Vh(){Kn&&(Kn.detachEvent("onpropertychange",Bg),di=Kn=null)}function Bg(e){if(e.propertyName==="value"&&Eo(di)){var t=[];zg(t,di,e,cd(e)),Rg(Zb,t)}}function Wb(e,t,s){e==="focusin"?(Vh(),Kn=t,di=s,Kn.attachEvent("onpropertychange",Bg)):e==="focusout"&&Vh()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(di)}function tv(e,t){if(e==="click")return Eo(t)}function sv(e,t){if(e==="input"||e==="change")return Eo(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:av;function hi(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!Gc.call(t,n)||!Yt(e[n],t[n]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hh(e,t){var s=Ph(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ph(s)}}function qg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vl(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Vl(e.document)}return t}function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var rv=Hs&&"documentMode"in document&&11>=document.documentMode,Br=null,Jc=null,Xn=null,Zc=!1;function Gh(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zc||Br==null||Br!==Vl(a)||(a=Br,"selectionStart"in a&&md(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Xn&&hi(Xn,a)||(Xn=a,a=no(Jc,"onSelect"),0<a.length&&(t=new _o("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Br)))}function za(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var qr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},ec={},Pg={};Hs&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function cr(e){if(ec[e])return ec[e];if(!qr[e])return e;var t=qr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Pg)return ec[e]=t[s];return e}var Hg=cr("animationend"),Gg=cr("animationiteration"),Ig=cr("animationstart"),nv=cr("transitionrun"),iv=cr("transitionstart"),lv=cr("transitioncancel"),Yg=cr("transitionend"),Fg=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function gs(e,t){Fg.set(e,t),lr(t,[e])}var Pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],Vr=0,fd=0;function Co(){for(var e=Vr,t=fd=Vr=0;t<e;){var s=Qt[t];Qt[t++]=null;var a=Qt[t];Qt[t++]=null;var n=Qt[t];Qt[t++]=null;var i=Qt[t];if(Qt[t++]=null,a!==null&&n!==null){var l=a.pending;l===null?n.next=n:(n.next=l.next,l.next=n),a.pending=n}i!==0&&Kg(s,n,i)}}function ko(e,t,s,a){Qt[Vr++]=e,Qt[Vr++]=t,Qt[Vr++]=s,Qt[Vr++]=a,fd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function gd(e,t,s,a){return ko(e,t,s,a),Hl(e)}function ur(e,t){return ko(e,null,null,t),Hl(e)}function Kg(e,t,s){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s);for(var n=!1,i=e.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Pt(s),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=s|536870912),i):null}function Hl(e){if(50<ri)throw ri=0,vu=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pr={};function ov(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,s,a){return new ov(e,t,s,a)}function xd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qs(e,t){var s=e.alternate;return s===null?(s=Lt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Xg(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function El(e,t,s,a,n,i){var l=0;if(a=e,typeof e=="function")xd(e)&&(l=1);else if(typeof e=="string")l=mj(e,s,js.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case qc:return e=Lt(31,s,t,n),e.elementType=qc,e.lanes=i,e;case Mr:return Ja(s.children,n,i,t);case fg:l=8,n|=24;break;case zc:return e=Lt(12,s,t,n|2),e.elementType=zc,e.lanes=i,e;case $c:return e=Lt(13,s,t,n),e.elementType=$c,e.lanes=i,e;case Bc:return e=Lt(19,s,t,n),e.elementType=Bc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zs:l=10;break e;case gg:l=9;break e;case sd:l=11;break e;case ad:l=14;break e;case ta:l=16,a=null;break e}l=29,s=Error(U(130,e===null?"null":typeof e,"")),a=null}return t=Lt(l,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ja(e,t,s,a){return e=Lt(7,e,a,t),e.lanes=s,e}function tc(e,t,s){return e=Lt(6,e,null,t),e.lanes=s,e}function Qg(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function sc(e,t,s){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ih=new WeakMap;function ts(e,t){if(typeof e=="object"&&e!==null){var s=Ih.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Sh(t)},Ih.set(e,t),t)}return{value:e,source:t,stack:Sh(t)}}var Hr=[],Gr=0,Gl=null,mi=0,Zt=[],Wt=0,Na=null,ys=1,bs="";function Ms(e,t){Hr[Gr++]=mi,Hr[Gr++]=Gl,Gl=e,mi=t}function Jg(e,t,s){Zt[Wt++]=ys,Zt[Wt++]=bs,Zt[Wt++]=Na,Na=e;var a=ys;e=bs;var n=32-Pt(a)-1;a&=~(1<<n),s+=1;var i=32-Pt(t)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,ys=1<<32-Pt(t)+n|s<<n|a,bs=i+e}else ys=1<<i|s<<n|a,bs=e}function pd(e){e.return!==null&&(Ms(e,1),Jg(e,1,0))}function yd(e){for(;e===Gl;)Gl=Hr[--Gr],Hr[Gr]=null,mi=Hr[--Gr],Hr[Gr]=null;for(;e===Na;)Na=Zt[--Wt],Zt[Wt]=null,bs=Zt[--Wt],Zt[Wt]=null,ys=Zt[--Wt],Zt[Wt]=null}function Zg(e,t){Zt[Wt++]=ys,Zt[Wt++]=bs,Zt[Wt++]=Na,ys=t.id,bs=t.overflow,Na=e}var ut=null,Ae=null,he=!1,fa=null,ss=!1,eu=Error(U(519));function _a(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fi(ts(t,e)),eu}function Yh(e){var t=e.stateNode,s=e.type,a=e.memoizedProps;switch(t[ct]=e,t[Tt]=a,s){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(s=0;s<yi.length;s++)ce(yi[s],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),kg(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),Ag(t,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||a.suppressHydrationWarning===!0||Mp(t.textContent,s)?(a.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),a.onScroll!=null&&ce("scroll",t),a.onScrollEnd!=null&&ce("scrollend",t),a.onClick!=null&&(t.onclick=$s),t=!0):t=!1,t||_a(e,!0)}function Fh(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:ut=ut.return}}function wr(e){if(e!==ut)return!1;if(!he)return Fh(e),he=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Su(e.type,e.memoizedProps)),s=!s),s&&Ae&&_a(e),Fh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Ae=Dm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Ae=Dm(e)}else t===27?(t=Ae,Ta(e.type)?(e=Tu,Tu=null,Ae=e):Ae=t):Ae=ut?ns(e.stateNode.nextSibling):null;return!0}function tr(){Ae=ut=null,he=!1}function ac(){var e=fa;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),fa=null),e}function fi(e){fa===null?fa=[e]:fa.push(e)}var tu=ws(null),dr=null,Bs=null;function aa(e,t,s){ke(tu,t._currentValue),t._currentValue=s}function Vs(e){e._currentValue=tu.current,it(tu)}function su(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function au(e,t,s,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var l=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),su(i.return,s,e),a||(l=null);break e}i=o.next}}else if(n.tag===18){if(l=n.return,l===null)throw Error(U(341));l.lanes|=s,i=l.alternate,i!==null&&(i.lanes|=s),su(l,s,e),l=null}else l=n.child;if(l!==null)l.return=n;else for(l=n;l!==null;){if(l===e){l=null;break}if(n=l.sibling,n!==null){n.return=l.return,l=n;break}l=l.return}n=l}}function bn(e,t,s,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if(n.flags&524288)i=!0;else if(n.flags&262144)break}if(n.tag===10){var l=n.alternate;if(l===null)throw Error(U(387));if(l=l.memoizedProps,l!==null){var o=n.type;Yt(n.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(n===zl.current){if(l=n.alternate,l===null)throw Error(U(387));l.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}n=n.return}e!==null&&au(t,e,s,a),t.flags|=262144}function Il(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sr(e){dr=e,Bs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Wg(dr,e)}function sl(e,t){return dr===null&&sr(e),Wg(e,t)}function Wg(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Bs===null){if(e===null)throw Error(U(308));Bs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bs=Bs.next=t;return s}var cv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},uv=et.unstable_scheduleCallback,dv=et.unstable_NormalPriority,Qe={$$typeof:zs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new cv,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&uv(dv,function(){e.controller.abort()})}var Qn=null,ru=0,rn=0,Xr=null;function hv(e,t){if(Qn===null){var s=Qn=[];ru=0,rn=Gd(),Xr={status:"pending",value:void 0,then:function(a){s.push(a)}}}return ru++,t.then(Kh,Kh),t}function Kh(){if(--ru===0&&Qn!==null){Xr!==null&&(Xr.status="fulfilled");var e=Qn;Qn=null,rn=0,Xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mv(e,t){var s=[],a={status:"pending",value:null,reason:null,then:function(n){s.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<s.length;n++)(0,s[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<s.length;n++)(0,s[n])(void 0)}),a}var Xh=Z.S;Z.S=function(e,t){mp=qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hv(e,t),Xh!==null&&Xh(e,t)};var Za=ws(null);function vd(){var e=Za.current;return e!==null?e:Ee.pooledCache}function Cl(e,t){t===null?ke(Za,Za.current):ke(Za,t.pool)}function ex(){var e=vd();return e===null?null:{parent:Qe._currentValue,pool:e}}var vn=Error(U(460)),jd=Error(U(474)),To=Error(U(542)),Yl={then:function(){}};function Qh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tx(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then($s,$s),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zh(e),e;default:if(typeof t.status=="string")t.then($s,$s);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zh(e),e}throw Wa=t,vn}}function Pa(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Wa=s,vn):s}}var Wa=null;function Jh(){if(Wa===null)throw Error(U(459));var e=Wa;return Wa=null,e}function Zh(e){if(e===vn||e===To)throw Error(U(483))}var Qr=null,gi=0;function al(e){var t=gi;return gi+=1,Qr===null&&(Qr=[]),tx(Qr,e,t)}function Ln(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rl(e,t){throw t.$$typeof===Wy?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sx(e){function t(y,x){if(e){var h=y.deletions;h===null?(y.deletions=[x],y.flags|=16):h.push(x)}}function s(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function a(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function n(y,x){return y=qs(y,x),y.index=0,y.sibling=null,y}function i(y,x,h){return y.index=h,e?(h=y.alternate,h!==null?(h=h.index,h<x?(y.flags|=67108866,x):h):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function l(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,x,h,m){return x===null||x.tag!==6?(x=tc(h,y.mode,m),x.return=y,x):(x=n(x,h),x.return=y,x)}function c(y,x,h,m){var N=h.type;return N===Mr?g(y,x,h.props.children,m,h.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Pa(N)===x.type)?(x=n(x,h.props),Ln(x,h),x.return=y,x):(x=El(h.type,h.key,h.props,null,y.mode,m),Ln(x,h),x.return=y,x)}function u(y,x,h,m){return x===null||x.tag!==4||x.stateNode.containerInfo!==h.containerInfo||x.stateNode.implementation!==h.implementation?(x=sc(h,y.mode,m),x.return=y,x):(x=n(x,h.children||[]),x.return=y,x)}function g(y,x,h,m,N){return x===null||x.tag!==7?(x=Ja(h,y.mode,m,N),x.return=y,x):(x=n(x,h),x.return=y,x)}function f(y,x,h){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=tc(""+x,y.mode,h),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qi:return h=El(x.type,x.key,x.props,null,y.mode,h),Ln(h,x),h.return=y,h;case qn:return x=sc(x,y.mode,h),x.return=y,x;case ta:return x=Pa(x),f(y,x,h)}if(Vn(x)||Dn(x))return x=Ja(x,y.mode,h,null),x.return=y,x;if(typeof x.then=="function")return f(y,al(x),h);if(x.$$typeof===zs)return f(y,sl(y,x),h);rl(y,x)}return null}function d(y,x,h,m){var N=x!==null?x.key:null;if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return N!==null?null:o(y,x,""+h,m);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qi:return h.key===N?c(y,x,h,m):null;case qn:return h.key===N?u(y,x,h,m):null;case ta:return h=Pa(h),d(y,x,h,m)}if(Vn(h)||Dn(h))return N!==null?null:g(y,x,h,m,null);if(typeof h.then=="function")return d(y,x,al(h),m);if(h.$$typeof===zs)return d(y,x,sl(y,h),m);rl(y,h)}return null}function p(y,x,h,m,N){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return y=y.get(h)||null,o(x,y,""+m,N);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qi:return y=y.get(m.key===null?h:m.key)||null,c(x,y,m,N);case qn:return y=y.get(m.key===null?h:m.key)||null,u(x,y,m,N);case ta:return m=Pa(m),p(y,x,h,m,N)}if(Vn(m)||Dn(m))return y=y.get(h)||null,g(x,y,m,N,null);if(typeof m.then=="function")return p(y,x,h,al(m),N);if(m.$$typeof===zs)return p(y,x,h,sl(x,m),N);rl(x,m)}return null}function w(y,x,h,m){for(var N=null,S=null,_=x,T=x=0,D=null;_!==null&&T<h.length;T++){_.index>T?(D=_,_=null):D=_.sibling;var L=d(y,_,h[T],m);if(L===null){_===null&&(_=D);break}e&&_&&L.alternate===null&&t(y,_),x=i(L,x,T),S===null?N=L:S.sibling=L,S=L,_=D}if(T===h.length)return s(y,_),he&&Ms(y,T),N;if(_===null){for(;T<h.length;T++)_=f(y,h[T],m),_!==null&&(x=i(_,x,T),S===null?N=_:S.sibling=_,S=_);return he&&Ms(y,T),N}for(_=a(_);T<h.length;T++)D=p(_,y,T,h[T],m),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?T:D.key),x=i(D,x,T),S===null?N=D:S.sibling=D,S=D);return e&&_.forEach(function(R){return t(y,R)}),he&&Ms(y,T),N}function b(y,x,h,m){if(h==null)throw Error(U(151));for(var N=null,S=null,_=x,T=x=0,D=null,L=h.next();_!==null&&!L.done;T++,L=h.next()){_.index>T?(D=_,_=null):D=_.sibling;var R=d(y,_,L.value,m);if(R===null){_===null&&(_=D);break}e&&_&&R.alternate===null&&t(y,_),x=i(R,x,T),S===null?N=R:S.sibling=R,S=R,_=D}if(L.done)return s(y,_),he&&Ms(y,T),N;if(_===null){for(;!L.done;T++,L=h.next())L=f(y,L.value,m),L!==null&&(x=i(L,x,T),S===null?N=L:S.sibling=L,S=L);return he&&Ms(y,T),N}for(_=a(_);!L.done;T++,L=h.next())L=p(_,y,T,L.value,m),L!==null&&(e&&L.alternate!==null&&_.delete(L.key===null?T:L.key),x=i(L,x,T),S===null?N=L:S.sibling=L,S=L);return e&&_.forEach(function(O){return t(y,O)}),he&&Ms(y,T),N}function j(y,x,h,m){if(typeof h=="object"&&h!==null&&h.type===Mr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Qi:e:{for(var N=h.key;x!==null;){if(x.key===N){if(N=h.type,N===Mr){if(x.tag===7){s(y,x.sibling),m=n(x,h.props.children),m.return=y,y=m;break e}}else if(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Pa(N)===x.type){s(y,x.sibling),m=n(x,h.props),Ln(m,h),m.return=y,y=m;break e}s(y,x);break}else t(y,x);x=x.sibling}h.type===Mr?(m=Ja(h.props.children,y.mode,m,h.key),m.return=y,y=m):(m=El(h.type,h.key,h.props,null,y.mode,m),Ln(m,h),m.return=y,y=m)}return l(y);case qn:e:{for(N=h.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===h.containerInfo&&x.stateNode.implementation===h.implementation){s(y,x.sibling),m=n(x,h.children||[]),m.return=y,y=m;break e}else{s(y,x);break}else t(y,x);x=x.sibling}m=sc(h,y.mode,m),m.return=y,y=m}return l(y);case ta:return h=Pa(h),j(y,x,h,m)}if(Vn(h))return w(y,x,h,m);if(Dn(h)){if(N=Dn(h),typeof N!="function")throw Error(U(150));return h=N.call(h),b(y,x,h,m)}if(typeof h.then=="function")return j(y,x,al(h),m);if(h.$$typeof===zs)return j(y,x,sl(y,h),m);rl(y,h)}return typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint"?(h=""+h,x!==null&&x.tag===6?(s(y,x.sibling),m=n(x,h),m.return=y,y=m):(s(y,x),m=tc(h,y.mode,m),m.return=y,y=m),l(y)):s(y,x)}return function(y,x,h,m){try{gi=0;var N=j(y,x,h,m);return Qr=null,N}catch(_){if(_===vn||_===To)throw _;var S=Lt(29,_,null,y.mode);return S.lanes=m,S.return=y,S}finally{}}}var ar=sx(!0),ax=sx(!1),sa=!1;function wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,xe&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Hl(e),Kg(e,null,s),t}return ko(e,a,t,s),Hl(e)}function Jn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jg(e,s)}}function rc(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var iu=!1;function Zn(){if(iu){var e=Xr;if(e!==null)throw e}}function Wn(e,t,s,a){iu=!1;var n=e.updateQueue;sa=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==l&&(o===null?g.firstBaseUpdate=u:o.next=u,g.lastBaseUpdate=c))}if(i!==null){var f=n.baseState;l=0,g=u=c=null,o=i;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(de&d)===d:(a&d)===d){d!==0&&d===rn&&(iu=!0),g!==null&&(g=g.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var w=e,b=o;d=t;var j=s;switch(b.tag){case 1:if(w=b.payload,typeof w=="function"){f=w.call(j,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,d=typeof w=="function"?w.call(j,f,d):w,d==null)break e;f=Re({},f,d);break e;case 2:sa=!0}}d=o.callback,d!==null&&(e.flags|=64,p&&(e.flags|=8192),p=n.callbacks,p===null?n.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(u=g=p,c=f):g=g.next=p,l|=d;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;p=o,o=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);g===null&&(c=f),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=g,i===null&&(n.shared.lanes=0),Ea|=l,e.lanes=l,e.memoizedState=f}}function rx(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function nx(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rx(s[e],t)}var nn=ws(null),Fl=ws(0);function Wh(e,t){e=Fs,ke(Fl,e),ke(nn,t),Fs=e|t.baseLanes}function lu(){ke(Fl,Fs),ke(nn,nn.current)}function Nd(){Fs=Fl.current,it(nn),it(Fl)}var Ft=ws(null),rs=null;function ra(e){var t=e.alternate;ke(He,He.current&1),ke(Ft,e),rs===null&&(t===null||nn.current!==null||t.memoizedState!==null)&&(rs=e)}function ou(e){ke(He,He.current),ke(Ft,e),rs===null&&(rs=e)}function ix(e){e.tag===22?(ke(He,He.current),ke(Ft,e),rs===null&&(rs=e)):na()}function na(){ke(He,He.current),ke(Ft,Ft.current)}function Ut(e){it(Ft),rs===e&&(rs=null),it(He)}var He=ws(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Cu(s)||ku(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gs=0,le=null,_e=null,Ke=null,Xl=!1,Jr=!1,rr=!1,Ql=0,xi=0,Zr=null,fv=0;function qe(){throw Error(U(321))}function _d(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Yt(e[s],t[s]))return!1;return!0}function Sd(e,t,s,a,n,i){return Gs=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?zx:Ld,rr=!1,i=s(a,n),rr=!1,Jr&&(i=ox(t,s,a,n)),lx(e),i}function lx(e){Z.H=pi;var t=_e!==null&&_e.next!==null;if(Gs=0,Ke=_e=le=null,Xl=!1,xi=0,Zr=null,t)throw Error(U(300));e===null||Je||(e=e.dependencies,e!==null&&Il(e)&&(Je=!0))}function ox(e,t,s,a){le=e;var n=0;do{if(Jr&&(Zr=null),xi=0,Jr=!1,25<=n)throw Error(U(301));if(n+=1,Ke=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Z.H=$x,i=t(s,a)}while(Jr);return i}function gv(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(le.flags|=1024),t}function Ed(){var e=Ql!==0;return Ql=0,e}function Cd(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function kd(e){if(Xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xl=!1}Gs=0,Ke=_e=le=null,Jr=!1,xi=Ql=0,Zr=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?le.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ge(){if(_e===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ke===null?le.memoizedState:Ke.next;if(t!==null)Ke=t,_e=e;else{if(e===null)throw le.alternate===null?Error(U(467)):Error(U(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ke===null?le.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=xi;return xi+=1,Zr===null&&(Zr=[]),e=tx(Zr,e,t),t=le,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?zx:Ld),e}function Oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===zs)return dt(e)}throw Error(U(438,String(e)))}function Td(e){var t=null,s=le.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var a=le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Ao(),le.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),a=0;a<e;a++)s[a]=eb;return t.index++,s}function Is(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=Ge();return Ad(t,_e,e)}function Ad(e,t,s){var a=e.queue;if(a===null)throw Error(U(311));a.lastRenderedReducer=s;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=l=null,c=null,u=t,g=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(de&f)===f:(Gs&f)===f){var d=u.revertLane;if(d===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===rn&&(g=!0);else if((Gs&d)===d){u=u.next,d===rn&&(g=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,l=i):c=c.next=f,le.lanes|=d,Ea|=d;f=u.action,rr&&s(i,f),i=u.hasEagerState?u.eagerState:s(i,f)}else d={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,l=i):c=c.next=d,le.lanes|=f,Ea|=f;u=u.next}while(u!==null&&u!==t);if(c===null?l=i:c.next=o,!Yt(i,e.memoizedState)&&(Je=!0,g&&(s=Xr,s!==null)))throw s;e.memoizedState=i,e.baseState=l,e.baseQueue=c,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function nc(e){var t=Ge(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Yt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function cx(e,t,s){var a=le,n=Ge(),i=he;if(i){if(s===void 0)throw Error(U(407));s=s()}else s=t();var l=!Yt((_e||n).memoizedState,s);if(l&&(n.memoizedState=s,Je=!0),n=n.queue,Od(hx.bind(null,a,n,e),[e]),n.getSnapshot!==t||l||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,ln(9,{destroy:void 0},dx.bind(null,a,n,s,t),null),Ee===null)throw Error(U(349));i||Gs&127||ux(a,t,s)}return s}function ux(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=le.updateQueue,t===null?(t=Ao(),le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function dx(e,t,s,a){t.value=s,t.getSnapshot=a,mx(t)&&fx(e)}function hx(e,t,s){return s(function(){mx(t)&&fx(e)})}function mx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Yt(e,s)}catch{return!0}}function fx(e){var t=ur(e,2);t!==null&&kt(t,e,2)}function cu(e){var t=yt();if(typeof e=="function"){var s=e;if(e=s(),rr){oa(!0);try{s()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t}function gx(e,t,s,a){return e.baseState=s,Ad(e,_e,typeof a=="function"?a:Is)}function xv(e,t,s,a,n){if(Do(e))throw Error(U(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};Z.T!==null?s(!0):i.isTransition=!1,a(i),s=t.pending,s===null?(i.next=t.pending=i,xx(t,i)):(i.next=s.next,t.pending=s.next=i)}}function xx(e,t){var s=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=Z.T,l={};Z.T=l;try{var o=s(n,a),c=Z.S;c!==null&&c(l,o),em(e,t,o)}catch(u){uu(e,t,u)}finally{i!==null&&l.types!==null&&(i.types=l.types),Z.T=i}}else try{i=s(n,a),em(e,t,i)}catch(u){uu(e,t,u)}}function em(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){tm(e,t,a)},function(a){return uu(e,t,a)}):tm(e,t,s)}function tm(e,t,s){t.status="fulfilled",t.value=s,px(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,xx(e,s)))}function uu(e,t,s){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=s,px(t),t=t.next;while(t!==a)}e.action=null}function px(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yx(e,t){return t}function sm(e,t){if(he){var s=Ee.formState;if(s!==null){e:{var a=le;if(he){if(Ae){t:{for(var n=Ae,i=ss;n.nodeType!==8;){if(!i){n=null;break t}if(n=ns(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Ae=ns(n.nextSibling),a=n.data==="F!";break e}}_a(a)}a=!1}a&&(t=s[0])}}return s=yt(),s.memoizedState=s.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yx,lastRenderedState:t},s.queue=a,s=Mx.bind(null,le,a),a.dispatch=s,a=cu(!1),i=Ud.bind(null,le,!1,a.queue),a=yt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,s=xv.bind(null,le,n,i,s),n.dispatch=s,a.memoizedState=e,[t,s,!1]}function am(e){var t=Ge();return bx(t,_e,e)}function bx(e,t,s){if(t=Ad(e,t,yx)[0],e=kl(Is)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Li(t)}catch(l){throw l===vn?To:l}else a=t;t=Ge();var n=t.queue,i=n.dispatch;return s!==t.memoizedState&&(le.flags|=2048,ln(9,{destroy:void 0},pv.bind(null,n,s),null)),[a,i,e]}function pv(e,t){e.action=t}function rm(e){var t=Ge(),s=_e;if(s!==null)return bx(t,s,e);Ge(),t=t.memoizedState,s=Ge();var a=s.queue.dispatch;return s.memoizedState=e,[t,a,!1]}function ln(e,t,s,a){return e={tag:e,create:s,deps:a,inst:t,next:null},t=le.updateQueue,t===null&&(t=Ao(),le.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function vx(){return Ge().memoizedState}function Tl(e,t,s,a){var n=yt();le.flags|=e,n.memoizedState=ln(1|t,{destroy:void 0},s,a===void 0?null:a)}function Ro(e,t,s,a){var n=Ge();a=a===void 0?null:a;var i=n.memoizedState.inst;_e!==null&&a!==null&&_d(a,_e.memoizedState.deps)?n.memoizedState=ln(t,i,s,a):(le.flags|=e,n.memoizedState=ln(1|t,i,s,a))}function nm(e,t){Tl(8390656,8,e,t)}function Od(e,t){Ro(2048,8,e,t)}function yv(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Ao(),le.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function jx(e){var t=Ge().memoizedState;return yv({ref:t,nextImpl:e}),function(){if(xe&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function wx(e,t){return Ro(4,2,e,t)}function Nx(e,t){return Ro(4,4,e,t)}function _x(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sx(e,t,s){s=s!=null?s.concat([e]):null,Ro(4,4,_x.bind(null,t,e),s)}function Rd(){}function Ex(e,t){var s=Ge();t=t===void 0?null:t;var a=s.memoizedState;return t!==null&&_d(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Cx(e,t){var s=Ge();t=t===void 0?null:t;var a=s.memoizedState;if(t!==null&&_d(t,a[1]))return a[0];if(a=e(),rr){oa(!0);try{e()}finally{oa(!1)}}return s.memoizedState=[a,t],a}function Dd(e,t,s){return s===void 0||Gs&1073741824&&!(de&261930)?e.memoizedState=t:(e.memoizedState=s,e=gp(),le.lanes|=e,Ea|=e,s)}function kx(e,t,s,a){return Yt(s,t)?s:nn.current!==null?(e=Dd(e,s,a),Yt(e,t)||(Je=!0),e):!(Gs&42)||Gs&1073741824&&!(de&261930)?(Je=!0,e.memoizedState=s):(e=gp(),le.lanes|=e,Ea|=e,t)}function Tx(e,t,s,a,n){var i=pe.p;pe.p=i!==0&&8>i?i:8;var l=Z.T,o={};Z.T=o,Ud(e,!1,t,s);try{var c=n(),u=Z.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=mv(c,a);ei(e,t,g,Ht(e))}else ei(e,t,a,Ht(e))}catch(f){ei(e,t,{then:function(){},status:"rejected",reason:f},Ht())}finally{pe.p=i,l!==null&&o.types!==null&&(l.types=o.types),Z.T=l}}function bv(){}function du(e,t,s,a){if(e.tag!==5)throw Error(U(476));var n=Ax(e).queue;Tx(e,n,t,Qa,s===null?bv:function(){return Ox(e),s(a)})}function Ax(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qa,baseState:Qa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:Qa},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ox(e){var t=Ax(e);t.next===null&&(t=e.alternate.memoizedState),ei(e,t.next.queue,{},Ht())}function Md(){return dt(vi)}function Rx(){return Ge().memoizedState}function Dx(){return Ge().memoizedState}function vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ht();e=ga(s);var a=xa(t,e,s);a!==null&&(kt(a,t,s),Jn(a,t,s)),t={cache:bd()},e.payload=t;return}t=t.return}}function jv(e,t,s){var a=Ht();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Do(e)?Ux(t,s):(s=gd(e,t,s,a),s!==null&&(kt(s,e,a),Lx(s,t,a)))}function Mx(e,t,s){var a=Ht();ei(e,t,s,a)}function ei(e,t,s,a){var n={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Do(e))Ux(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,Yt(o,l))return ko(e,t,n,0),Ee===null&&Co(),!1}catch{}finally{}if(s=gd(e,t,n,a),s!==null)return kt(s,e,a),Lx(s,t,a),!0}return!1}function Ud(e,t,s,a){if(a={lane:2,revertLane:Gd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Do(e)){if(t)throw Error(U(479))}else t=gd(e,s,a,2),t!==null&&kt(t,e,2)}function Do(e){var t=e.alternate;return e===le||t!==null&&t===le}function Ux(e,t){Jr=Xl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Lx(e,t,s){if(s&4194048){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jg(e,s)}}var pi={readContext:dt,use:Oo,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};pi.useEffectEvent=qe;var zx={readContext:dt,use:Oo,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:nm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Tl(4194308,4,_x.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){Tl(4,2,e,t)},useMemo:function(e,t){var s=yt();t=t===void 0?null:t;var a=e();if(rr){oa(!0);try{e()}finally{oa(!1)}}return s.memoizedState=[a,t],a},useReducer:function(e,t,s){var a=yt();if(s!==void 0){var n=s(t);if(rr){oa(!0);try{s(t)}finally{oa(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=jv.bind(null,le,e),[a.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=cu(e);var t=e.queue,s=Mx.bind(null,le,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Rd,useDeferredValue:function(e,t){var s=yt();return Dd(s,e,t)},useTransition:function(){var e=cu(!1);return e=Tx.bind(null,le,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var a=le,n=yt();if(he){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),Ee===null)throw Error(U(349));de&127||ux(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,nm(hx.bind(null,a,i,e),[e]),a.flags|=2048,ln(9,{destroy:void 0},dx.bind(null,a,i,s,t),null),s},useId:function(){var e=yt(),t=Ee.identifierPrefix;if(he){var s=bs,a=ys;s=(a&~(1<<32-Pt(a)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Ql++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=fv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Md,useFormState:sm,useActionState:sm,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Ud.bind(null,le,!0,s),s.dispatch=t,[e,t]},useMemoCache:Td,useCacheRefresh:function(){return yt().memoizedState=vv.bind(null,le)},useEffectEvent:function(e){var t=yt(),s={impl:e};return t.memoizedState=s,function(){if(xe&2)throw Error(U(440));return s.impl.apply(void 0,arguments)}}},Ld={readContext:dt,use:Oo,useCallback:Ex,useContext:dt,useEffect:Od,useImperativeHandle:Sx,useInsertionEffect:wx,useLayoutEffect:Nx,useMemo:Cx,useReducer:kl,useRef:vx,useState:function(){return kl(Is)},useDebugValue:Rd,useDeferredValue:function(e,t){var s=Ge();return kx(s,_e.memoizedState,e,t)},useTransition:function(){var e=kl(Is)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:cx,useId:Rx,useHostTransitionStatus:Md,useFormState:am,useActionState:am,useOptimistic:function(e,t){var s=Ge();return gx(s,_e,e,t)},useMemoCache:Td,useCacheRefresh:Dx};Ld.useEffectEvent=jx;var $x={readContext:dt,use:Oo,useCallback:Ex,useContext:dt,useEffect:Od,useImperativeHandle:Sx,useInsertionEffect:wx,useLayoutEffect:Nx,useMemo:Cx,useReducer:nc,useRef:vx,useState:function(){return nc(Is)},useDebugValue:Rd,useDeferredValue:function(e,t){var s=Ge();return _e===null?Dd(s,e,t):kx(s,_e.memoizedState,e,t)},useTransition:function(){var e=nc(Is)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:cx,useId:Rx,useHostTransitionStatus:Md,useFormState:rm,useActionState:rm,useOptimistic:function(e,t){var s=Ge();return _e!==null?gx(s,_e,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Td,useCacheRefresh:Dx};$x.useEffectEvent=jx;function ic(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Re({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hu={enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Ht(),n=ga(a);n.payload=t,s!=null&&(n.callback=s),t=xa(e,n,a),t!==null&&(kt(t,e,a),Jn(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Ht(),n=ga(a);n.tag=1,n.payload=t,s!=null&&(n.callback=s),t=xa(e,n,a),t!==null&&(kt(t,e,a),Jn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ht(),a=ga(s);a.tag=2,t!=null&&(a.callback=t),t=xa(e,a,s),t!==null&&(kt(t,e,s),Jn(t,e,s))}};function im(e,t,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!hi(s,a)||!hi(n,i):!0}function lm(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function nr(e,t){var s=t;if("ref"in t){s={};for(var a in t)a!=="ref"&&(s[a]=t[a])}if(e=e.defaultProps){s===t&&(s=Re({},s));for(var n in e)s[n]===void 0&&(s[n]=e[n])}return s}function Bx(e){Pl(e)}function qx(e){console.error(e)}function Vx(e){Pl(e)}function Jl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function om(e,t,s){try{var a=e.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function mu(e,t,s){return s=ga(s),s.tag=3,s.payload={element:null},s.callback=function(){Jl(e,t)},s}function Px(e){return e=ga(e),e.tag=3,e}function Hx(e,t,s,a){var n=s.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){om(t,s,a)}}var l=s.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){om(t,s,a),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function wv(e,t,s,a,n){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=s.alternate,t!==null&&bn(t,s,n,!0),s=Ft.current,s!==null){switch(s.tag){case 31:case 13:return rs===null?so():s.alternate===null&&Ve===0&&(Ve=3),s.flags&=-257,s.flags|=65536,s.lanes=n,a===Yl?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([a]):t.add(a),pc(e,a,n)),!1;case 22:return s.flags|=65536,a===Yl?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([a]):s.add(a)),pc(e,a,n)),!1}throw Error(U(435,s.tag))}return pc(e,a,n),so(),!1}if(he)return t=Ft.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==eu&&(e=Error(U(422),{cause:a}),fi(ts(e,s)))):(a!==eu&&(t=Error(U(423),{cause:a}),fi(ts(t,s))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=ts(a,s),n=mu(e.stateNode,a,n),rc(e,n),Ve!==4&&(Ve=2)),!1;var i=Error(U(520),{cause:a});if(i=ts(i,s),ai===null?ai=[i]:ai.push(i),Ve!==4&&(Ve=2),t===null)return!0;a=ts(a,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=n&-n,s.lanes|=e,e=mu(s.stateNode,a,e),rc(s,e),!1;case 1:if(t=s.type,i=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(pa===null||!pa.has(i))))return s.flags|=65536,n&=-n,s.lanes|=n,n=Px(n),Hx(n,e,s,a),rc(s,n),!1}s=s.return}while(s!==null);return!1}var zd=Error(U(461)),Je=!1;function lt(e,t,s,a){t.child=e===null?ax(t,null,s,a):ar(t,e.child,s,a)}function cm(e,t,s,a,n){s=s.render;var i=t.ref;if("ref"in a){var l={};for(var o in a)o!=="ref"&&(l[o]=a[o])}else l=a;return sr(t),a=Sd(e,t,s,l,i,n),o=Ed(),e!==null&&!Je?(Cd(e,t,n),Ys(e,t,n)):(he&&o&&pd(t),t.flags|=1,lt(e,t,a,n),t.child)}function um(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!xd(i)&&i.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=i,Gx(e,t,i,a,n)):(e=El(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!$d(e,n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:hi,s(l,a)&&e.ref===t.ref)return Ys(e,t,n)}return t.flags|=1,e=qs(i,a),e.ref=t.ref,e.return=t,t.child=e}function Gx(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(hi(i,a)&&e.ref===t.ref)if(Je=!1,t.pendingProps=a=i,$d(e,n))e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Ys(e,t,n)}return fu(e,t,s,a,n)}function Ix(e,t,s,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|s:s,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return dm(e,t,i,s,a)}if(s&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cl(t,i!==null?i.cachePool:null),i!==null?Wh(t,i):lu(),ix(t);else return a=t.lanes=536870912,dm(e,t,i!==null?i.baseLanes|s:s,s,a)}else i!==null?(Cl(t,i.cachePool),Wh(t,i),na(),t.memoizedState=null):(e!==null&&Cl(t,null),lu(),na());return lt(e,t,n,s),t.child}function Hn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dm(e,t,s,a,n){var i=vd();return i=i===null?null:{parent:Qe._currentValue,pool:i},t.memoizedState={baseLanes:s,cachePool:i},e!==null&&Cl(t,null),lu(),ix(t),e!==null&&bn(e,t,a,!0),t.childLanes=n,null}function Al(e,t){return t=Zl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hm(e,t,s){return ar(t,e.child,null,s),e=Al(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function Nv(e,t,s){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(a.mode==="hidden")return e=Al(t,a),t.lanes=536870912,Hn(null,e);if(ou(t),(e=Ae)?(e=zp(e,ss),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:ys,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},s=Qg(e),s.return=t,t.child=s,ut=t,Ae=null)):e=null,e===null)throw _a(t);return t.lanes=536870912,null}return Al(t,a)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(ou(t),n)if(t.flags&256)t.flags&=-257,t=hm(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Je||bn(e,t,s,!1),n=(s&e.childLanes)!==0,Je||n){if(a=Ee,a!==null&&(l=wg(a,s),l!==0&&l!==i.retryLane))throw i.retryLane=l,ur(e,l),kt(a,e,l),zd;so(),t=hm(e,t,s)}else e=i.treeContext,Ae=ns(l.nextSibling),ut=t,he=!0,fa=null,ss=!1,e!==null&&Zg(t,e),t=Al(t,a),t.flags|=4096;return t}return e=qs(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ol(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(U(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function fu(e,t,s,a,n){return sr(t),s=Sd(e,t,s,a,void 0,n),a=Ed(),e!==null&&!Je?(Cd(e,t,n),Ys(e,t,n)):(he&&a&&pd(t),t.flags|=1,lt(e,t,s,n),t.child)}function mm(e,t,s,a,n,i){return sr(t),t.updateQueue=null,s=ox(t,a,s,n),lx(e),a=Ed(),e!==null&&!Je?(Cd(e,t,i),Ys(e,t,i)):(he&&a&&pd(t),t.flags|=1,lt(e,t,s,i),t.child)}function fm(e,t,s,a,n){if(sr(t),t.stateNode===null){var i=Pr,l=s.contextType;typeof l=="object"&&l!==null&&(i=dt(l)),i=new s(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},wd(t),l=s.contextType,i.context=typeof l=="object"&&l!==null?dt(l):Pr,i.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(ic(t,s,l,a),i.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&hu.enqueueReplaceState(i,i.state,null),Wn(t,a,i,n),Zn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,c=nr(s,o);i.props=c;var u=i.context,g=s.contextType;l=Pr,typeof g=="object"&&g!==null&&(l=dt(g));var f=s.getDerivedStateFromProps;g=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==l)&&lm(t,i,a,l),sa=!1;var d=t.memoizedState;i.state=d,Wn(t,a,i,n),Zn(),u=t.memoizedState,o||d!==u||sa?(typeof f=="function"&&(ic(t,s,f,a),u=t.memoizedState),(c=sa||im(t,s,c,a,d,u,l))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=l,a=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,nu(e,t),l=t.memoizedProps,g=nr(s,l),i.props=g,f=t.pendingProps,d=i.context,u=s.contextType,c=Pr,typeof u=="object"&&u!==null&&(c=dt(u)),o=s.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||d!==c)&&lm(t,i,a,c),sa=!1,d=t.memoizedState,i.state=d,Wn(t,a,i,n),Zn();var p=t.memoizedState;l!==f||d!==p||sa||e!==null&&e.dependencies!==null&&Il(e.dependencies)?(typeof o=="function"&&(ic(t,s,o,a),p=t.memoizedState),(g=sa||im(t,s,g,a,d,p,c)||e!==null&&e.dependencies!==null&&Il(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),i.props=a,i.state=p,i.context=c,a=g):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ol(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ar(t,e.child,null,n),t.child=ar(t,null,s,n)):lt(e,t,s,n),t.memoizedState=i.state,e=t.child):e=Ys(e,t,n),e}function gm(e,t,s,a){return tr(),t.flags|=256,lt(e,t,s,a),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(e){return{baseLanes:e,cachePool:ex()}}function cc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Bt),e}function Yx(e,t,s){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),l&&(n=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(n?ra(t):na(),(e=Ae)?(e=zp(e,ss),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:ys,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},s=Qg(e),s.return=t,t.child=s,ut=t,Ae=null)):e=null,e===null)throw _a(t);return ku(e)?t.lanes=32:t.lanes=536870912,null}var o=a.children;return a=a.fallback,n?(na(),n=t.mode,o=Zl({mode:"hidden",children:o},n),a=Ja(a,n,s,null),o.return=t,a.return=t,o.sibling=a,t.child=o,a=t.child,a.memoizedState=oc(s),a.childLanes=cc(e,l,s),t.memoizedState=lc,Hn(null,a)):(ra(t),gu(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(i)t.flags&256?(ra(t),t.flags&=-257,t=uc(e,t,s)):t.memoizedState!==null?(na(),t.child=e.child,t.flags|=128,t=null):(na(),o=a.fallback,n=t.mode,a=Zl({mode:"visible",children:a.children},n),o=Ja(o,n,s,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,ar(t,e.child,null,s),a=t.child,a.memoizedState=oc(s),a.childLanes=cc(e,l,s),t.memoizedState=lc,t=Hn(null,a));else if(ra(t),ku(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var u=l.dgst;l=u,a=Error(U(419)),a.stack="",a.digest=l,fi({value:a,source:null,stack:null}),t=uc(e,t,s)}else if(Je||bn(e,t,s,!1),l=(s&e.childLanes)!==0,Je||l){if(l=Ee,l!==null&&(a=wg(l,s),a!==0&&a!==c.retryLane))throw c.retryLane=a,ur(e,a),kt(l,e,a),zd;Cu(o)||so(),t=uc(e,t,s)}else Cu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ae=ns(o.nextSibling),ut=t,he=!0,fa=null,ss=!1,e!==null&&Zg(t,e),t=gu(t,a.children),t.flags|=4096);return t}return n?(na(),o=a.fallback,n=t.mode,c=e.child,u=c.sibling,a=qs(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=qs(u,o):(o=Ja(o,n,s,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,Hn(null,a),a=t.child,o=e.child.memoizedState,o===null?o=oc(s):(n=o.cachePool,n!==null?(c=Qe._currentValue,n=n.parent!==c?{parent:c,pool:c}:n):n=ex(),o={baseLanes:o.baseLanes|s,cachePool:n}),a.memoizedState=o,a.childLanes=cc(e,l,s),t.memoizedState=lc,Hn(e.child,a)):(ra(t),s=e.child,e=s.sibling,s=qs(s,{mode:"visible",children:a.children}),s.return=t,s.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=s,t.memoizedState=null,s)}function gu(e,t){return t=Zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zl(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function uc(e,t,s){return ar(t,e.child,null,s),e=gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),su(e.return,t,s)}function dc(e,t,s,a,n,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=n,l.treeForkCount=i)}function Fx(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var l=He.current,o=(l&2)!==0;if(o?(l=l&1|2,t.flags|=128):l&=1,ke(He,l),lt(e,t,a,s),a=he?mi:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,s,t);else if(e.tag===19)xm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Kl(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),dc(t,!1,n,s,i,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Kl(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}dc(t,!0,s,null,i,a);break;case"together":dc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ys(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(s&t.childLanes))if(e!==null){if(bn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=qs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=qs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function $d(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Il(e)))}function _v(e,t,s){switch(t.tag){case 3:$l(t,t.stateNode.containerInfo),aa(t,Qe,e.memoizedState.cache),tr();break;case 27:case 5:Hc(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:aa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ra(t),t.flags|=128,null):s&t.child.childLanes?Yx(e,t,s):(ra(t),e=Ys(e,t,s),e!==null?e.sibling:null);ra(t);break;case 19:var n=(e.flags&128)!==0;if(a=(s&t.childLanes)!==0,a||(bn(e,t,s,!1),a=(s&t.childLanes)!==0),n){if(a)return Fx(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ke(He,He.current),a)break;return null;case 22:return t.lanes=0,Ix(e,t,s,t.pendingProps);case 24:aa(t,Qe,e.memoizedState.cache)}return Ys(e,t,s)}function Kx(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!$d(e,s)&&!(t.flags&128))return Je=!1,_v(e,t,s);Je=!!(e.flags&131072)}else Je=!1,he&&t.flags&1048576&&Jg(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Pa(t.elementType),t.type=e,typeof e=="function")xd(e)?(a=nr(e,a),t.tag=1,t=fm(null,t,e,a,s)):(t.tag=0,t=fu(null,t,e,a,s));else{if(e!=null){var n=e.$$typeof;if(n===sd){t.tag=11,t=cm(null,t,e,a,s);break e}else if(n===ad){t.tag=14,t=um(null,t,e,a,s);break e}}throw t=Vc(e)||e,Error(U(306,t,""))}}return t;case 0:return fu(e,t,t.type,t.pendingProps,s);case 1:return a=t.type,n=nr(a,t.pendingProps),fm(e,t,a,n,s);case 3:e:{if($l(t,t.stateNode.containerInfo),e===null)throw Error(U(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,nu(e,t),Wn(t,a,null,s);var l=t.memoizedState;if(a=l.cache,aa(t,Qe,a),a!==i.cache&&au(t,[Qe],s,!0),Zn(),a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=gm(e,t,a,s);break e}else if(a!==n){n=ts(Error(U(424)),t),fi(n),t=gm(e,t,a,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=ns(e.firstChild),ut=t,he=!0,fa=null,ss=!0,s=ax(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(tr(),a===n){t=Ys(e,t,s);break e}lt(e,t,a,s)}t=t.child}return t;case 26:return Ol(e,t),e===null?(s=Lm(t.type,null,t.pendingProps,null))?t.memoizedState=s:he||(s=t.type,e=t.pendingProps,a=io(ma.current).createElement(s),a[ct]=t,a[Tt]=e,ht(a,s,e),nt(a),t.stateNode=a):t.memoizedState=Lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hc(t),e===null&&he&&(a=t.stateNode=$p(t.type,t.pendingProps,ma.current),ut=t,ss=!0,n=Ae,Ta(t.type)?(Tu=n,Ae=ns(a.firstChild)):Ae=n),lt(e,t,t.pendingProps.children,s),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((n=a=Ae)&&(a=ej(a,t.type,t.pendingProps,ss),a!==null?(t.stateNode=a,ut=t,Ae=ns(a.firstChild),ss=!1,n=!0):n=!1),n||_a(t)),Hc(t),n=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,Su(n,i)?a=null:l!==null&&Su(n,l)&&(t.flags|=32),t.memoizedState!==null&&(n=Sd(e,t,gv,null,null,s),vi._currentValue=n),Ol(e,t),lt(e,t,a,s),t.child;case 6:return e===null&&he&&((e=s=Ae)&&(s=tj(s,t.pendingProps,ss),s!==null?(t.stateNode=s,ut=t,Ae=null,e=!0):e=!1),e||_a(t)),null;case 13:return Yx(e,t,s);case 4:return $l(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ar(t,null,a,s):lt(e,t,a,s),t.child;case 11:return cm(e,t,t.type,t.pendingProps,s);case 7:return lt(e,t,t.pendingProps,s),t.child;case 8:return lt(e,t,t.pendingProps.children,s),t.child;case 12:return lt(e,t,t.pendingProps.children,s),t.child;case 10:return a=t.pendingProps,aa(t,t.type,a.value),lt(e,t,a.children,s),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,sr(t),n=dt(n),a=a(n),t.flags|=1,lt(e,t,a,s),t.child;case 14:return um(e,t,t.type,t.pendingProps,s);case 15:return Gx(e,t,t.type,t.pendingProps,s);case 19:return Fx(e,t,s);case 31:return Nv(e,t,s);case 22:return Ix(e,t,s,t.pendingProps);case 24:return sr(t),a=dt(Qe),e===null?(n=vd(),n===null&&(n=Ee,i=bd(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=s),n=i),t.memoizedState={parent:a,cache:n},wd(t),aa(t,Qe,n)):(e.lanes&s&&(nu(e,t),Wn(t,null,null,s),Zn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),aa(t,Qe,a)):(a=i.cache,aa(t,Qe,a),a!==n.cache&&au(t,[Qe],s,!0))),lt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function Ts(e){e.flags|=4}function hc(e,t,s,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(yp())e.flags|=8192;else throw Wa=Yl,jd}else e.flags&=-16777217}function pm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Vp(t))if(yp())e.flags|=8192;else throw Wa=Yl,jd}function nl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bg():536870912,e.lanes|=t,on|=t)}function zn(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Sv(e,t,s){var a=t.pendingProps;switch(yd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return s=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vs(Qe),tn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wr(t)?Ts(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ac())),Te(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ts(t),i!==null?(Te(t),pm(t,i)):(Te(t),hc(t,n,null,a,s))):i?i!==e.memoizedState?(Ts(t),Te(t),pm(t,i)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ts(t),Te(t),hc(t,n,e,a,s)),null;case 27:if(Bl(t),s=ma.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ts(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return Te(t),null}e=js.current,wr(t)?Yh(t):(e=$p(n,a,s),t.stateNode=e,Ts(t))}return Te(t),null;case 5:if(Bl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ts(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return Te(t),null}if(i=js.current,wr(t))Yh(t);else{var l=io(ma.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}i[ct]=t,i[Tt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(ht(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ts(t)}}return Te(t),hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ts(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(U(166));if(e=ma.current,wr(t)){if(e=t.stateNode,s=t.memoizedProps,a=null,n=ut,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[ct]=t,e=!!(e.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||Mp(e.nodeValue,s)),e||_a(t,!0)}else e=io(e).createTextNode(a),e[ct]=t,t.stateNode=e}return Te(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(a=wr(t),s!==null){if(e===null){if(!a)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[ct]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else s=ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if(t.flags&128)throw Error(U(558))}return Te(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=wr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(U(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(U(317));n[ct]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),n=!1}else n=ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),t.flags&128?(t.lanes=s,t):(s=a!==null,e=e!==null&&e.memoizedState!==null,s&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),nl(t,t.updateQueue),Te(t),null);case 4:return tn(),e===null&&Id(t.stateNode.containerInfo),Te(t),null;case 10:return Vs(t.type),Te(t),null;case 19:if(it(He),a=t.memoizedState,a===null)return Te(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)zn(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kl(e),i!==null){for(t.flags|=128,zn(a,!1),e=i.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Xg(s,e),s=s.sibling;return ke(He,He.current&1|2),he&&Ms(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&qt()>eo&&(t.flags|=128,n=!0,zn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Kl(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!he)return Te(t),null}else 2*qt()-a.renderingStartTime>eo&&s!==536870912&&(t.flags|=128,n=!0,zn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qt(),e.sibling=null,s=He.current,ke(He,n?s&1|2:s&1),he&&Ms(t,a.treeForkCount),e):(Te(t),null);case 22:case 23:return Ut(t),Nd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?s&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),s=t.updateQueue,s!==null&&nl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==s&&(t.flags|=2048),e!==null&&it(Za),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Vs(Qe),Te(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function Ev(e,t){switch(yd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vs(Qe),tn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Bl(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(U(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(He),null;case 4:return tn(),null;case 10:return Vs(t.type),null;case 22:case 23:return Ut(t),Nd(),e!==null&&it(Za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vs(Qe),null;case 25:return null;default:return null}}function Xx(e,t){switch(yd(t),t.tag){case 3:Vs(Qe),tn();break;case 26:case 27:case 5:Bl(t);break;case 4:tn();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:it(He);break;case 10:Vs(t.type);break;case 22:case 23:Ut(t),Nd(),e!==null&&it(Za);break;case 24:Vs(Qe)}}function zi(e,t){try{var s=t.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var n=a.next;s=n;do{if((s.tag&e)===e){a=void 0;var i=s.create,l=s.inst;a=i(),l.destroy=a}s=s.next}while(s!==n)}}catch(o){we(t,t.return,o)}}function Sa(e,t,s){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var l=a.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,n=t;var c=s,u=o;try{u()}catch(g){we(n,c,g)}}}a=a.next}while(a!==i)}}catch(g){we(t,t.return,g)}}function Qx(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{nx(t,s)}catch(a){we(e,e.return,a)}}}function Jx(e,t,s){s.props=nr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){we(e,t,a)}}function ti(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof s=="function"?e.refCleanup=s(a):s.current=a}}catch(n){we(e,t,n)}}function vs(e,t){var s=e.ref,a=e.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(n){we(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(n){we(e,t,n)}else s.current=null}function Zx(e){var t=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(n){we(e,e.return,n)}}function mc(e,t,s){try{var a=e.stateNode;Kv(a,e.type,s,t),a[Tt]=t}catch(n){we(e,e.return,n)}}function Wx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xu(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$s));else if(a!==4&&(a===27&&Ta(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(xu(e,t,s),e=e.sibling;e!==null;)xu(e,t,s),e=e.sibling}function Wl(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(a===27&&Ta(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wl(e,t,s),e=e.sibling;e!==null;)Wl(e,t,s),e=e.sibling}function ep(e){var t=e.stateNode,s=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ht(t,a,s),t[ct]=e,t[Tt]=s}catch(i){we(e,e.return,i)}}var Us=!1,Xe=!1,gc=!1,ym=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Cv(e,t){if(e=e.containerInfo,Nu=uo,e=Vg(e),md(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,u=0,g=0,f=e,d=null;t:for(;;){for(var p;f!==s||n!==0&&f.nodeType!==3||(o=l+n),f!==i||a!==0&&f.nodeType!==3||(c=l+a),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===s&&++u===n&&(o=l),d===i&&++g===a&&(c=l),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(_u={focusedElem:e,selectionRange:s},uo=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)n=e[s],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,s=t,n=i.memoizedProps,i=i.memoizedState,a=s.stateNode;try{var w=nr(s.type,n);e=a.getSnapshotBeforeUpdate(w,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){we(s,s.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Eu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function tp(e,t,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Os(e,s),a&4&&zi(5,s);break;case 1:if(Os(e,s),a&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(l){we(s,s.return,l)}else{var n=nr(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){we(s,s.return,l)}}a&64&&Qx(s),a&512&&ti(s,s.return);break;case 3:if(Os(e,s),a&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{nx(e,t)}catch(l){we(s,s.return,l)}}break;case 27:t===null&&a&4&&ep(s);case 26:case 5:Os(e,s),t===null&&a&4&&Zx(s),a&512&&ti(s,s.return);break;case 12:Os(e,s);break;case 31:Os(e,s),a&4&&rp(e,s);break;case 13:Os(e,s),a&4&&np(e,s),a&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Lv.bind(null,s),sj(e,s))));break;case 22:if(a=s.memoizedState!==null||Us,!a){t=t!==null&&t.memoizedState!==null||Xe,n=Us;var i=Xe;Us=a,(Xe=t)&&!i?Rs(e,s,(s.subtreeFlags&8772)!==0):Os(e,s),Us=n,Xe=i}break;case 30:break;default:Os(e,s)}}function sp(e){var t=e.alternate;t!==null&&(e.alternate=null,sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ld(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,Et=!1;function As(e,t,s){for(s=s.child;s!==null;)ap(e,t,s),s=s.sibling}function ap(e,t,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ai,s)}catch{}switch(s.tag){case 26:Xe||vs(s,t),As(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||vs(s,t);var a=Me,n=Et;Ta(s.type)&&(Me=s.stateNode,Et=!1),As(e,t,s),ni(s.stateNode),Me=a,Et=n;break;case 5:Xe||vs(s,t);case 6:if(a=Me,n=Et,Me=null,As(e,t,s),Me=a,Et=n,Me!==null)if(Et)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(s.stateNode)}catch(i){we(s,t,i)}else try{Me.removeChild(s.stateNode)}catch(i){we(s,t,i)}break;case 18:Me!==null&&(Et?(e=Me,Om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),hn(e)):Om(Me,s.stateNode));break;case 4:a=Me,n=Et,Me=s.stateNode.containerInfo,Et=!0,As(e,t,s),Me=a,Et=n;break;case 0:case 11:case 14:case 15:Sa(2,s,t),Xe||Sa(4,s,t),As(e,t,s);break;case 1:Xe||(vs(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"&&Jx(s,t,a)),As(e,t,s);break;case 21:As(e,t,s);break;case 22:Xe=(a=Xe)||s.memoizedState!==null,As(e,t,s),Xe=a;break;default:As(e,t,s)}}function rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hn(e)}catch(s){we(t,t.return,s)}}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hn(e)}catch(s){we(t,t.return,s)}}function kv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ym),t;default:throw Error(U(435,e.tag))}}function il(e,t){var s=kv(e);t.forEach(function(a){if(!s.has(a)){s.add(a);var n=zv.bind(null,e,a);a.then(n,n)}})}function _t(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a],i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(Ta(o.type)){Me=o.stateNode,Et=!1;break e}break;case 5:Me=o.stateNode,Et=!1;break e;case 3:case 4:Me=o.stateNode.containerInfo,Et=!0;break e}o=o.return}if(Me===null)throw Error(U(160));ap(i,l,n),Me=null,Et=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}var ms=null;function ip(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),St(e),a&4&&(Sa(3,e,e.return),zi(3,e),Sa(5,e,e.return));break;case 1:_t(t,e),St(e),a&512&&(Xe||s===null||vs(s,s.return)),a&64&&Us&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var n=ms;if(_t(t,e),St(e),a&512&&(Xe||s===null||vs(s,s.return)),a&4){var i=s!==null?s.memoizedState:null;if(a=e.memoizedState,s===null)if(a===null)if(e.stateNode===null){e:{a=e.type,s=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Di]||i[ct]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),ht(i,a,s),i[ct]=e,nt(i),a=i;break e;case"link":var l=$m("link","href",n).get(a+(s.href||""));if(l){for(var o=0;o<l.length;o++)if(i=l[o],i.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&i.getAttribute("rel")===(s.rel==null?null:s.rel)&&i.getAttribute("title")===(s.title==null?null:s.title)&&i.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){l.splice(o,1);break t}}i=n.createElement(a),ht(i,a,s),n.head.appendChild(i);break;case"meta":if(l=$m("meta","content",n).get(a+(s.content||""))){for(o=0;o<l.length;o++)if(i=l[o],i.getAttribute("content")===(s.content==null?null:""+s.content)&&i.getAttribute("name")===(s.name==null?null:s.name)&&i.getAttribute("property")===(s.property==null?null:s.property)&&i.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&i.getAttribute("charset")===(s.charSet==null?null:s.charSet)){l.splice(o,1);break t}}i=n.createElement(a),ht(i,a,s),n.head.appendChild(i);break;default:throw Error(U(468,a))}i[ct]=e,nt(i),a=i}e.stateNode=a}else Bm(n,e.type,e.stateNode);else e.stateNode=zm(n,a,e.memoizedProps);else i!==a?(i===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):i.count--,a===null?Bm(n,e.type,e.stateNode):zm(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&mc(e,e.memoizedProps,s.memoizedProps)}break;case 27:_t(t,e),St(e),a&512&&(Xe||s===null||vs(s,s.return)),s!==null&&a&4&&mc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(_t(t,e),St(e),a&512&&(Xe||s===null||vs(s,s.return)),e.flags&32){n=e.stateNode;try{an(n,"")}catch(w){we(e,e.return,w)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,mc(e,n,s!==null?s.memoizedProps:n)),a&1024&&(gc=!0);break;case 6:if(_t(t,e),St(e),a&4){if(e.stateNode===null)throw Error(U(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(w){we(e,e.return,w)}}break;case 3:if(Ml=null,n=ms,ms=lo(t.containerInfo),_t(t,e),ms=n,St(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{hn(t.containerInfo)}catch(w){we(e,e.return,w)}gc&&(gc=!1,lp(e));break;case 4:a=ms,ms=lo(e.stateNode.containerInfo),_t(t,e),St(e),ms=a;break;case 12:_t(t,e),St(e);break;case 31:_t(t,e),St(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,il(e,a)));break;case 13:_t(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Mo=qt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,il(e,a)));break;case 22:n=e.memoizedState!==null;var c=s!==null&&s.memoizedState!==null,u=Us,g=Xe;if(Us=u||n,Xe=g||c,_t(t,e),Xe=g,Us=u,St(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(s===null||c||Us||Xe||Ha(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){c=s=t;try{if(i=c.stateNode,n)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(w){we(c,c.return,w)}}}else if(t.tag===6){if(s===null){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(w){we(c,c.return,w)}}}else if(t.tag===18){if(s===null){c=t;try{var p=c.stateNode;n?Rm(p,!0):Rm(c.stateNode,!1)}catch(w){we(c,c.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,il(e,s))));break;case 19:_t(t,e),St(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,il(e,a)));break;case 30:break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var s,a=e.return;a!==null;){if(Wx(a)){s=a;break}a=a.return}if(s==null)throw Error(U(160));switch(s.tag){case 27:var n=s.stateNode,i=fc(e);Wl(e,i,n);break;case 5:var l=s.stateNode;s.flags&32&&(an(l,""),s.flags&=-33);var o=fc(e);Wl(e,o,l);break;case 3:case 4:var c=s.stateNode.containerInfo,u=fc(e);xu(e,u,c);break;default:throw Error(U(161))}}catch(g){we(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Os(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tp(e,t.alternate,t),t=t.sibling}function Ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),Ha(t);break;case 1:vs(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Jx(t,t.return,s),Ha(t);break;case 27:ni(t.stateNode);case 26:case 5:vs(t,t.return),Ha(t);break;case 22:t.memoizedState===null&&Ha(t);break;case 30:Ha(t);break;default:Ha(t)}e=e.sibling}}function Rs(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Rs(n,i,s),zi(4,i);break;case 1:if(Rs(n,i,s),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(u){we(a,a.return,u)}if(a=i,n=a.updateQueue,n!==null){var o=a.stateNode;try{var c=n.shared.hiddenCallbacks;if(c!==null)for(n.shared.hiddenCallbacks=null,n=0;n<c.length;n++)rx(c[n],o)}catch(u){we(a,a.return,u)}}s&&l&64&&Qx(i),ti(i,i.return);break;case 27:ep(i);case 26:case 5:Rs(n,i,s),s&&a===null&&l&4&&Zx(i),ti(i,i.return);break;case 12:Rs(n,i,s);break;case 31:Rs(n,i,s),s&&l&4&&rp(n,i);break;case 13:Rs(n,i,s),s&&l&4&&np(n,i);break;case 22:i.memoizedState===null&&Rs(n,i,s),ti(i,i.return);break;case 30:break;default:Rs(n,i,s)}t=t.sibling}}function Bd(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ui(s))}function qd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function us(e,t,s,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(e,t,s,a),t=t.sibling}function op(e,t,s,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:us(e,t,s,a),n&2048&&zi(9,t);break;case 1:us(e,t,s,a);break;case 3:us(e,t,s,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(n&2048){us(e,t,s,a),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,o=i.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){we(t,t.return,c)}}else us(e,t,s,a);break;case 31:us(e,t,s,a);break;case 13:us(e,t,s,a);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?us(e,t,s,a):si(e,t):i._visibility&2?us(e,t,s,a):(i._visibility|=2,Ar(e,t,s,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Bd(l,t);break;case 24:us(e,t,s,a),n&2048&&qd(t.alternate,t);break;default:us(e,t,s,a)}}function Ar(e,t,s,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,o=s,c=a,u=l.flags;switch(l.tag){case 0:case 11:case 15:Ar(i,l,o,c,n),zi(8,l);break;case 23:break;case 22:var g=l.stateNode;l.memoizedState!==null?g._visibility&2?Ar(i,l,o,c,n):si(i,l):(g._visibility|=2,Ar(i,l,o,c,n)),n&&u&2048&&Bd(l.alternate,l);break;case 24:Ar(i,l,o,c,n),n&&u&2048&&qd(l.alternate,l);break;default:Ar(i,l,o,c,n)}t=t.sibling}}function si(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,a=t,n=a.flags;switch(a.tag){case 22:si(s,a),n&2048&&Bd(a.alternate,a);break;case 24:si(s,a),n&2048&&qd(a.alternate,a);break;default:si(s,a)}t=t.sibling}}var Gn=8192;function Nr(e,t,s){if(e.subtreeFlags&Gn)for(e=e.child;e!==null;)cp(e,t,s),e=e.sibling}function cp(e,t,s){switch(e.tag){case 26:Nr(e,t,s),e.flags&Gn&&e.memoizedState!==null&&fj(s,ms,e.memoizedState,e.memoizedProps);break;case 5:Nr(e,t,s);break;case 3:case 4:var a=ms;ms=lo(e.stateNode.containerInfo),Nr(e,t,s),ms=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Gn,Gn=16777216,Nr(e,t,s),Gn=a):Nr(e,t,s));break;default:Nr(e,t,s)}}function up(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $n(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];rt=a,hp(a,e)}up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dp(e),e=e.sibling}function dp(e){switch(e.tag){case 0:case 11:case 15:$n(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:$n(e);break;case 12:$n(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rl(e)):$n(e);break;default:$n(e)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var a=t[s];rt=a,hp(a,e)}up(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sa(8,t,t.return),Rl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Rl(t));break;default:Rl(t)}e=e.sibling}}function hp(e,t){for(;rt!==null;){var s=rt;switch(s.tag){case 0:case 11:case 15:Sa(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ui(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,rt=a;else e:for(s=e;rt!==null;){a=rt;var n=a.sibling,i=a.return;if(sp(a),a===s){rt=null;break e}if(n!==null){n.return=i,rt=n;break e}rt=i}}}var Tv={getCacheForType:function(e){var t=dt(Qe),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return dt(Qe).controller.signal}},Av=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ee=null,ue=null,de=0,je=0,Mt=null,ua=!1,jn=!1,Vd=!1,Fs=0,Ve=0,Ea=0,er=0,Pd=0,Bt=0,on=0,ai=null,Ct=null,pu=!1,Mo=0,mp=0,eo=1/0,to=null,pa=null,We=0,ya=null,cn=null,Ps=0,yu=0,bu=null,fp=null,ri=0,vu=null;function Ht(){return xe&2&&de!==0?de&-de:Z.T!==null?Gd():Ng()}function gp(){if(Bt===0)if(!(de&536870912)||he){var e=Zi;Zi<<=1,!(Zi&3932160)&&(Zi=262144),Bt=e}else Bt=536870912;return e=Ft.current,e!==null&&(e.flags|=32),Bt}function kt(e,t,s){(e===Ee&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(un(e,0),da(e,de,Bt,!1)),Ri(e,s),(!(xe&2)||e!==Ee)&&(e===Ee&&(!(xe&2)&&(er|=s),Ve===4&&da(e,de,Bt,!1)),Ns(e))}function xp(e,t,s){if(xe&6)throw Error(U(327));var a=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Oi(e,t),n=a?Dv(e,t):xc(e,t,!0),i=a;do{if(n===0){jn&&!a&&da(e,t,0,!1);break}else{if(s=e.current.alternate,i&&!Ov(s)){n=xc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var o=e;n=ai;var c=o.current.memoizedState.isDehydrated;if(c&&(un(o,l).flags|=256),l=xc(o,l,!1),l!==2){if(Vd&&!c){o.errorRecoveryDisabledLanes|=i,er|=i,n=4;break e}i=Ct,Ct=n,i!==null&&(Ct===null?Ct=i:Ct.push.apply(Ct,i))}n=l}if(i=!1,n!==2)continue}}if(n===1){un(e,0),da(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:da(a,t,Bt,!ua);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(n=Mo+300-qt(),10<n)){if(da(a,t,Bt,!ua),No(a,0,!0)!==0)break e;Ps=t,a.timeoutHandle=Lp(bm.bind(null,a,s,Ct,to,pu,t,Bt,er,on,ua,i,"Throttled",-0,0),n);break e}bm(a,s,Ct,to,pu,t,Bt,er,on,ua,i,null,-0,0)}}break}while(!0);Ns(e)}function bm(e,t,s,a,n,i,l,o,c,u,g,f,d,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$s},cp(t,i,f);var w=(i&62914560)===i?Mo-qt():(i&4194048)===i?mp-qt():0;if(w=gj(f,w),w!==null){Ps=i,e.cancelPendingCommit=w(jm.bind(null,e,t,i,s,a,n,l,o,c,g,f,null,d,p)),da(e,i,l,!u);return}}jm(e,t,i,s,a,n,l,o,c)}function Ov(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!Yt(i(),n))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function da(e,t,s,a){t&=~Pd,t&=~er,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Pt(n),l=1<<i;a[i]=-1,n&=~l}s!==0&&vg(e,s,t)}function Uo(){return xe&6?!0:($i(0),!1)}function Hd(){if(ue!==null){if(je===0)var e=ue.return;else e=ue,Bs=dr=null,kd(e),Qr=null,gi=0,e=ue;for(;e!==null;)Xx(e.alternate,e),e=e.return;ue=null}}function un(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Jv(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ps=0,Hd(),Ee=e,ue=s=qs(e.current,null),de=t,je=0,Mt=null,ua=!1,jn=Oi(e,t),Vd=!1,on=Bt=Pd=er=Ea=Ve=0,Ct=ai=null,pu=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Pt(a),i=1<<n;t|=e[n],a&=~i}return Fs=t,Co(),s}function pp(e,t){le=null,Z.H=pi,t===vn||t===To?(t=Jh(),je=3):t===jd?(t=Jh(),je=4):je=t===zd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,ue===null&&(Ve=1,Jl(e,ts(t,e.current)))}function yp(){var e=Ft.current;return e===null?!0:(de&4194048)===de?rs===null:(de&62914560)===de||de&536870912?e===rs:!1}function bp(){var e=Z.H;return Z.H=pi,e===null?pi:e}function vp(){var e=Z.A;return Z.A=Tv,e}function so(){Ve=4,ua||(de&4194048)!==de&&Ft.current!==null||(jn=!0),!(Ea&134217727)&&!(er&134217727)||Ee===null||da(Ee,de,Bt,!1)}function xc(e,t,s){var a=xe;xe|=2;var n=bp(),i=vp();(Ee!==e||de!==t)&&(to=null,un(e,t)),t=!1;var l=Ve;e:do try{if(je!==0&&ue!==null){var o=ue,c=Mt;switch(je){case 8:Hd(),l=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var u=je;if(je=0,Mt=null,Ir(e,o,c,u),s&&jn){l=0;break e}break;default:u=je,je=0,Mt=null,Ir(e,o,c,u)}}Rv(),l=Ve;break}catch(g){pp(e,g)}while(!0);return t&&e.shellSuspendCounter++,Bs=dr=null,xe=a,Z.H=n,Z.A=i,ue===null&&(Ee=null,de=0,Co()),l}function Rv(){for(;ue!==null;)jp(ue)}function Dv(e,t){var s=xe;xe|=2;var a=bp(),n=vp();Ee!==e||de!==t?(to=null,eo=qt()+500,un(e,t)):jn=Oi(e,t);e:do try{if(je!==0&&ue!==null){t=ue;var i=Mt;t:switch(je){case 1:je=0,Mt=null,Ir(e,t,i,1);break;case 2:case 9:if(Qh(i)){je=0,Mt=null,vm(t);break}t=function(){je!==2&&je!==9||Ee!==e||(je=7),Ns(e)},i.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Qh(i)?(je=0,Mt=null,vm(t)):(je=0,Mt=null,Ir(e,t,i,7));break;case 5:var l=null;switch(ue.tag){case 26:l=ue.memoizedState;case 5:case 27:var o=ue;if(l?Vp(l):o.stateNode.complete){je=0,Mt=null;var c=o.sibling;if(c!==null)ue=c;else{var u=o.return;u!==null?(ue=u,Lo(u)):ue=null}break t}}je=0,Mt=null,Ir(e,t,i,5);break;case 6:je=0,Mt=null,Ir(e,t,i,6);break;case 8:Hd(),Ve=6;break e;default:throw Error(U(462))}}Mv();break}catch(g){pp(e,g)}while(!0);return Bs=dr=null,Z.H=a,Z.A=n,xe=s,ue!==null?0:(Ee=null,de=0,Co(),Ve)}function Mv(){for(;ue!==null&&!ab();)jp(ue)}function jp(e){var t=Kx(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?Lo(e):ue=t}function vm(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=mm(s,t,t.pendingProps,t.type,void 0,de);break;case 11:t=mm(s,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:kd(t);default:Xx(s,t),t=ue=Xg(t,Fs),t=Kx(s,t,Fs)}e.memoizedProps=e.pendingProps,t===null?Lo(e):ue=t}function Ir(e,t,s,a){Bs=dr=null,kd(t),Qr=null,gi=0;var n=t.return;try{if(wv(e,n,t,s,de)){Ve=1,Jl(e,ts(s,e.current)),ue=null;return}}catch(i){if(n!==null)throw ue=n,i;Ve=1,Jl(e,ts(s,e.current)),ue=null;return}t.flags&32768?(he||a===1?e=!0:jn||de&536870912?e=!1:(ua=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ft.current,a!==null&&a.tag===13&&(a.flags|=16384))),wp(t,e)):Lo(t)}function Lo(e){var t=e;do{if(t.flags&32768){wp(t,ua);return}e=t.return;var s=Sv(t.alternate,t,Fs);if(s!==null){ue=s;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Ve===0&&(Ve=5)}function wp(e,t){do{var s=Ev(e.alternate,e);if(s!==null){s.flags&=32767,ue=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=s}while(e!==null);Ve=6,ue=null}function jm(e,t,s,a,n,i,l,o,c){e.cancelPendingCommit=null;do zo();while(We!==0);if(xe&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(i=t.lanes|t.childLanes,i|=fd,mb(e,s,i,l,o,c),e===Ee&&(ue=Ee=null,de=0),cn=t,ya=e,Ps=s,yu=i,bu=n,fp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,$v(ql,function(){return Cp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=Z.T,Z.T=null,n=pe.p,pe.p=2,l=xe,xe|=4;try{Cv(e,t,s)}finally{xe=l,pe.p=n,Z.T=a}}We=1,Np(),_p(),Sp()}}function Np(){if(We===1){We=0;var e=ya,t=cn,s=(t.flags&13878)!==0;if(t.subtreeFlags&13878||s){s=Z.T,Z.T=null;var a=pe.p;pe.p=2;var n=xe;xe|=4;try{ip(t,e);var i=_u,l=Vg(e.containerInfo),o=i.focusedElem,c=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&qg(o.ownerDocument.documentElement,o)){if(c!==null&&md(o)){var u=c.start,g=c.end;if(g===void 0&&(g=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(g,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),w=o.textContent.length,b=Math.min(c.start,w),j=c.end===void 0?b:Math.min(c.end,w);!p.extend&&b>j&&(l=j,j=b,b=l);var y=Hh(o,b),x=Hh(o,j);if(y&&x&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var h=f.createRange();h.setStart(y.node,y.offset),p.removeAllRanges(),b>j?(p.addRange(h),p.extend(x.node,x.offset)):(h.setEnd(x.node,x.offset),p.addRange(h))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var m=f[o];m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}uo=!!Nu,_u=Nu=null}finally{xe=n,pe.p=a,Z.T=s}}e.current=t,We=2}}function _p(){if(We===2){We=0;var e=ya,t=cn,s=(t.flags&8772)!==0;if(t.subtreeFlags&8772||s){s=Z.T,Z.T=null;var a=pe.p;pe.p=2;var n=xe;xe|=4;try{tp(e,t.alternate,t)}finally{xe=n,pe.p=a,Z.T=s}}We=3}}function Sp(){if(We===4||We===3){We=0,rb();var e=ya,t=cn,s=Ps,a=fp;t.subtreeFlags&10256||t.flags&10256?We=5:(We=0,cn=ya=null,Ep(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(pa=null),id(s),t=t.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Z.T,n=pe.p,pe.p=2,Z.T=null;try{for(var i=e.onRecoverableError,l=0;l<a.length;l++){var o=a[l];i(o.value,{componentStack:o.stack})}}finally{Z.T=t,pe.p=n}}Ps&3&&zo(),Ns(e),n=e.pendingLanes,s&261930&&n&42?e===vu?ri++:(ri=0,vu=e):ri=0,$i(0)}}function Ep(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function zo(){return Np(),_p(),Sp(),Cp()}function Cp(){if(We!==5)return!1;var e=ya,t=yu;yu=0;var s=id(Ps),a=Z.T,n=pe.p;try{pe.p=32>s?32:s,Z.T=null,s=bu,bu=null;var i=ya,l=Ps;if(We=0,cn=ya=null,Ps=0,xe&6)throw Error(U(331));var o=xe;if(xe|=4,dp(i.current),op(i,i.current,l,s),xe=o,$i(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ai,i)}catch{}return!0}finally{pe.p=n,Z.T=a,Ep(e,t)}}function wm(e,t,s){t=ts(s,t),t=mu(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(Ri(e,2),Ns(e))}function we(e,t,s){if(e.tag===3)wm(e,e,s);else for(;t!==null;){if(t.tag===3){wm(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pa===null||!pa.has(a))){e=ts(s,e),s=Px(2),a=xa(t,s,2),a!==null&&(Hx(s,a,t,e),Ri(a,2),Ns(a));break}}t=t.return}}function pc(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Av;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(Vd=!0,n.add(s),e=Uv.bind(null,e,t,s),t.then(e,e))}function Uv(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ee===e&&(de&s)===s&&(Ve===4||Ve===3&&(de&62914560)===de&&300>qt()-Mo?!(xe&2)&&un(e,0):Pd|=s,on===de&&(on=0)),Ns(e)}function kp(e,t){t===0&&(t=bg()),e=ur(e,t),e!==null&&(Ri(e,t),Ns(e))}function Lv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),kp(e,s)}function zv(e,t){var s=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(U(314))}a!==null&&a.delete(t),kp(e,s)}function $v(e,t){return rd(e,t)}var ao=null,Or=null,ju=!1,ro=!1,yc=!1,ha=0;function Ns(e){e!==Or&&e.next===null&&(Or===null?ao=Or=e:Or=Or.next=e),ro=!0,ju||(ju=!0,qv())}function $i(e,t){if(!yc&&ro){yc=!0;do for(var s=!1,a=ao;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var l=a.suspendedLanes,o=a.pingedLanes;i=(1<<31-Pt(42|e)+1)-1,i&=n&~(l&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(s=!0,Nm(a,i))}else i=de,i=No(a,a===Ee?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Oi(a,i)||(s=!0,Nm(a,i));a=a.next}while(s);yc=!1}}function Bv(){Tp()}function Tp(){ro=ju=!1;var e=0;ha!==0&&Qv()&&(e=ha);for(var t=qt(),s=null,a=ao;a!==null;){var n=a.next,i=Ap(a,t);i===0?(a.next=null,s===null?ao=n:s.next=n,n===null&&(Or=s)):(s=a,(e!==0||i&3)&&(ro=!0)),a=n}We!==0&&We!==5||$i(e),ha!==0&&(ha=0)}function Ap(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Pt(i),o=1<<l,c=n[l];c===-1?(!(o&s)||o&a)&&(n[l]=hb(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}if(t=Ee,s=de,s=No(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,s===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Yo(a),e.callbackNode=null,e.callbackPriority=0;if(!(s&3)||Oi(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(a!==null&&Yo(a),id(s)){case 2:case 8:s=pg;break;case 32:s=ql;break;case 268435456:s=yg;break;default:s=ql}return a=Op.bind(null,e),s=rd(s,a),e.callbackPriority=t,e.callbackNode=s,t}return a!==null&&a!==null&&Yo(a),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(zo()&&e.callbackNode!==s)return null;var a=de;return a=No(e,e===Ee?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xp(e,a,t),Ap(e,qt()),e.callbackNode!=null&&e.callbackNode===s?Op.bind(null,e):null)}function Nm(e,t){if(zo())return null;xp(e,t,!0)}function qv(){Zv(function(){xe&6?rd(xg,Bv):Tp()})}function Gd(){if(ha===0){var e=rn;e===0&&(e=Ji,Ji<<=1,!(Ji&261888)&&(Ji=256)),ha=e}return ha}function _m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function Sm(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Vv(e,t,s,a,n){if(t==="submit"&&s&&s.stateNode===n){var i=_m((n[Tt]||null).action),l=a.submitter;l&&(t=(t=l[Tt]||null)?_m(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var o=new _o("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ha!==0){var c=l?Sm(n,l):new FormData(n);du(s,{pending:!0,data:c,method:n.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=l?Sm(n,l):new FormData(n),du(s,{pending:!0,data:c,method:n.method,action:i},i,c))},currentTarget:n}]})}}for(var bc=0;bc<Wc.length;bc++){var vc=Wc[bc],Pv=vc.toLowerCase(),Hv=vc[0].toUpperCase()+vc.slice(1);gs(Pv,"on"+Hv)}gs(Hg,"onAnimationEnd");gs(Gg,"onAnimationIteration");gs(Ig,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(nv,"onTransitionRun");gs(iv,"onTransitionStart");gs(lv,"onTransitionCancel");gs(Yg,"onTransitionEnd");sn("onMouseEnter",["mouseout","mouseover"]);sn("onMouseLeave",["mouseout","mouseover"]);sn("onPointerEnter",["pointerout","pointerover"]);sn("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function Rp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=u;try{i(n)}catch(g){Pl(g)}n.currentTarget=null,i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=u;try{i(n)}catch(g){Pl(g)}n.currentTarget=null,i=c}}}}function ce(e,t){var s=t[Ic];s===void 0&&(s=t[Ic]=new Set);var a=e+"__bubble";s.has(a)||(Dp(t,e,2,!1),s.add(a))}function jc(e,t,s){var a=0;t&&(a|=4),Dp(s,e,a,t)}var ll="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[ll]){e[ll]=!0,_g.forEach(function(s){s!=="selectionchange"&&(Gv.has(s)||jc(s,!1,e),jc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ll]||(t[ll]=!0,jc("selectionchange",!1,t))}}function Dp(e,t,s,a){switch(Yp(t)){case 2:var n=yj;break;case 8:n=bj;break;default:n=Xd}s=n.bind(null,t,s,e),n=void 0,!Qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function wc(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===n)return;l=l.return}for(;o!==null;){if(l=Lr(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){a=i=l;continue e}o=o.parentNode}}a=a.return}Rg(function(){var u=i,g=cd(s),f=[];e:{var d=Fg.get(e);if(d!==void 0){var p=_o,w=e;switch(e){case"keypress":if(Sl(s)===0)break e;case"keydown":case"keyup":p=zb;break;case"focusin":w="focus",p=Jo;break;case"focusout":w="blur",p=Jo;break;case"beforeblur":case"afterblur":p=Jo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qb;break;case Hg:case Gg:case Ig:p=kb;break;case Yg:p=Pb;break;case"scroll":case"scrollend":p=Nb;break;case"wheel":p=Gb;break;case"copy":case"cut":case"paste":p=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Uh;break;case"toggle":case"beforetoggle":p=Yb}var b=(t&4)!==0,j=!b&&(e==="scroll"||e==="scrollend"),y=b?d!==null?d+"Capture":null:d;b=[];for(var x=u,h;x!==null;){var m=x;if(h=m.stateNode,m=m.tag,m!==5&&m!==26&&m!==27||h===null||y===null||(m=ui(x,y),m!=null&&b.push(bi(x,m,h))),j)break;x=x.return}0<b.length&&(d=new p(d,w,null,s,g),f.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&s!==Xc&&(w=s.relatedTarget||s.fromElement)&&(Lr(w)||w[pn]))break e;if((p||d)&&(d=g.window===g?g:(d=g.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=s.relatedTarget||s.toElement,p=u,w=w?Lr(w):null,w!==null&&(j=Ti(w),b=w.tag,w!==j||b!==5&&b!==27&&b!==6)&&(w=null)):(p=null,w=u),p!==w)){if(b=Dh,m="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Uh,m="onPointerLeave",y="onPointerEnter",x="pointer"),j=p==null?d:Pn(p),h=w==null?d:Pn(w),d=new b(m,x+"leave",p,s,g),d.target=j,d.relatedTarget=h,m=null,Lr(g)===u&&(b=new b(y,x+"enter",w,s,g),b.target=h,b.relatedTarget=j,m=b),j=m,p&&w)t:{for(b=Iv,y=p,x=w,h=0,m=y;m;m=b(m))h++;m=0;for(var N=x;N;N=b(N))m++;for(;0<h-m;)y=b(y),h--;for(;0<m-h;)x=b(x),m--;for(;h--;){if(y===x||x!==null&&y===x.alternate){b=y;break t}y=b(y),x=b(x)}b=null}else b=null;p!==null&&Em(f,d,p,b,!1),w!==null&&j!==null&&Em(f,j,w,b,!0)}}e:{if(d=u?Pn(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=Bh;else if($h(d))if($g)S=sv;else{S=ev;var _=Wb}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&od(u.elementType)&&(S=Bh):S=tv;if(S&&(S=S(e,u))){zg(f,S,s,g);break e}_&&_(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&Kc(d,"number",d.value)}switch(_=u?Pn(u):window,e){case"focusin":($h(_)||_.contentEditable==="true")&&(Br=_,Jc=u,Xn=null);break;case"focusout":Xn=Jc=Br=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Gh(f,s,g);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":Gh(f,s,g)}var T;if(hd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else $r?Ug(e,s)&&(D="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(D="onCompositionStart");D&&(Mg&&s.locale!=="ko"&&($r||D!=="onCompositionStart"?D==="onCompositionEnd"&&$r&&(T=Dg()):(ca=g,ud="value"in ca?ca.value:ca.textContent,$r=!0)),_=no(u,D),0<_.length&&(D=new Mh(D,e,null,s,g),f.push({event:D,listeners:_}),T?D.data=T:(T=Lg(s),T!==null&&(D.data=T)))),(T=Kb?Xb(e,s):Qb(e,s))&&(D=no(u,"onBeforeInput"),0<D.length&&(_=new Mh("onBeforeInput","beforeinput",null,s,g),f.push({event:_,listeners:D}),_.data=T)),Vv(f,e,u,s,g)}Rp(f,t)})}function bi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function no(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=ui(e,s),n!=null&&a.unshift(bi(e,n,i)),n=ui(e,t),n!=null&&a.push(bi(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Iv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Em(e,t,s,a,n){for(var i=t._reactName,l=[];s!==null&&s!==a;){var o=s,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===a)break;o!==5&&o!==26&&o!==27||u===null||(c=u,n?(u=ui(s,i),u!=null&&l.unshift(bi(s,u,c))):n||(u=ui(s,i),u!=null&&l.push(bi(s,u,c)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var Yv=/\r\n?/g,Fv=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(Fv,"")}function Mp(e,t){return t=Cm(t),Cm(e)===t}function Ne(e,t,s,a,n,i){switch(s){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||an(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&an(e,""+a);break;case"className":el(e,"class",a);break;case"tabIndex":el(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":el(e,s,a);break;case"style":Og(e,a,i);break;case"data":if(t!=="object"){el(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Nl(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(s==="formAction"?(t!=="input"&&Ne(e,t,"name",n.name,n,null),Ne(e,t,"formEncType",n.formEncType,n,null),Ne(e,t,"formMethod",n.formMethod,n,null),Ne(e,t,"formTarget",n.formTarget,n,null)):(Ne(e,t,"encType",n.encType,n,null),Ne(e,t,"method",n.method,n,null),Ne(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(s);break}a=Nl(""+a),e.setAttribute(s,a);break;case"onClick":a!=null&&(e.onclick=$s);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(s=a.__html,s!=null){if(n.children!=null)throw Error(U(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}s=Nl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":a===!0?e.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":ce("beforetoggle",e),ce("toggle",e),wl(e,"popover",a);break;case"xlinkActuate":ks(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ks(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ks(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ks(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ks(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ks(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ks(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ks(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ks(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":wl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=jb.get(s)||s,wl(e,s,a))}}function wu(e,t,s,a,n,i){switch(s){case"style":Og(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(s=a.__html,s!=null){if(n.children!=null)throw Error(U(60));e.innerHTML=s}}break;case"children":typeof a=="string"?an(e,a):(typeof a=="number"||typeof a=="bigint")&&an(e,""+a);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=$s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sg.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(n=s.endsWith("Capture"),t=s.slice(2,n?s.length-7:void 0),i=e[Tt]||null,i=i!=null?i[s]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,a,n);break e}s in e?e[s]=a:a===!0?e.setAttribute(s,""):wl(e,s,a)}}}function ht(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var a=!1,n=!1,i;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];if(l!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Ne(e,t,i,l,s,null)}}n&&Ne(e,t,"srcSet",s.srcSet,s,null),a&&Ne(e,t,"src",s.src,s,null);return;case"input":ce("invalid",e);var o=i=l=n=null,c=null,u=null;for(a in s)if(s.hasOwnProperty(a)){var g=s[a];if(g!=null)switch(a){case"name":n=g;break;case"type":l=g;break;case"checked":c=g;break;case"defaultChecked":u=g;break;case"value":i=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,t));break;default:Ne(e,t,a,g,s,null)}}kg(e,i,o,c,u,l,n,!1);return;case"select":ce("invalid",e),a=l=i=null;for(n in s)if(s.hasOwnProperty(n)&&(o=s[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:Ne(e,t,n,o,s,null)}t=i,s=l,e.multiple=!!a,t!=null?Fr(e,!!a,t,!1):s!=null&&Fr(e,!!a,s,!0);return;case"textarea":ce("invalid",e),i=n=a=null;for(l in s)if(s.hasOwnProperty(l)&&(o=s[l],o!=null))switch(l){case"value":a=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:Ne(e,t,l,o,s,null)}Ag(e,a,n,i);return;case"option":for(c in s)if(s.hasOwnProperty(c)&&(a=s[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ne(e,t,c,a,s,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(a=0;a<yi.length;a++)ce(yi[a],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in s)if(s.hasOwnProperty(u)&&(a=s[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Ne(e,t,u,a,s,null)}return;default:if(od(t)){for(g in s)s.hasOwnProperty(g)&&(a=s[g],a!==void 0&&wu(e,t,g,a,s,void 0));return}}for(o in s)s.hasOwnProperty(o)&&(a=s[o],a!=null&&Ne(e,t,o,a,s,null))}function Kv(e,t,s,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,l=null,o=null,c=null,u=null,g=null;for(p in s){var f=s[p];if(s.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(p)||Ne(e,t,p,null,a,f)}}for(var d in a){var p=a[d];if(f=s[d],a.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":i=p;break;case"name":n=p;break;case"checked":u=p;break;case"defaultChecked":g=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,t));break;default:p!==f&&Ne(e,t,d,p,a,f)}}Fc(e,l,o,c,u,g,i,n);return;case"select":p=l=o=d=null;for(i in s)if(c=s[i],s.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(i)||Ne(e,t,i,null,a,c)}for(n in a)if(i=a[n],c=s[n],a.hasOwnProperty(n)&&(i!=null||c!=null))switch(n){case"value":d=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&Ne(e,t,n,i,a,c)}t=o,s=l,a=p,d!=null?Fr(e,!!s,d,!1):!!a!=!!s&&(t!=null?Fr(e,!!s,t,!0):Fr(e,!!s,s?[]:"",!1));return;case"textarea":p=d=null;for(o in s)if(n=s[o],s.hasOwnProperty(o)&&n!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ne(e,t,o,null,a,n)}for(l in a)if(n=a[l],i=s[l],a.hasOwnProperty(l)&&(n!=null||i!=null))switch(l){case"value":d=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(U(91));break;default:n!==i&&Ne(e,t,l,n,a,i)}Tg(e,d,p);return;case"option":for(var w in s)if(d=s[w],s.hasOwnProperty(w)&&d!=null&&!a.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:Ne(e,t,w,null,a,d)}for(c in a)if(d=a[c],p=s[c],a.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ne(e,t,c,d,a,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in s)d=s[b],s.hasOwnProperty(b)&&d!=null&&!a.hasOwnProperty(b)&&Ne(e,t,b,null,a,d);for(u in a)if(d=a[u],p=s[u],a.hasOwnProperty(u)&&d!==p&&(d!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:Ne(e,t,u,d,a,p)}return;default:if(od(t)){for(var j in s)d=s[j],s.hasOwnProperty(j)&&d!==void 0&&!a.hasOwnProperty(j)&&wu(e,t,j,void 0,a,d);for(g in a)d=a[g],p=s[g],!a.hasOwnProperty(g)||d===p||d===void 0&&p===void 0||wu(e,t,g,d,a,p);return}}for(var y in s)d=s[y],s.hasOwnProperty(y)&&d!=null&&!a.hasOwnProperty(y)&&Ne(e,t,y,null,a,d);for(f in a)d=a[f],p=s[f],!a.hasOwnProperty(f)||d===p||d==null&&p==null||Ne(e,t,f,d,a,p)}function km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var n=s[a],i=n.transferSize,l=n.initiatorType,o=n.duration;if(i&&o&&km(l)){for(l=0,o=n.responseEnd,a+=1;a<s.length;a++){var c=s[a],u=c.startTime;if(u>o)break;var g=c.transferSize,f=c.initiatorType;g&&km(f)&&(c=c.responseEnd,l+=g*(c<o?1:(o-u)/(c-u)))}if(--a,t+=8*(i+l)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nu=null,_u=null;function io(e){return e.nodeType===9?e:e.ownerDocument}function Tm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=null;function Qv(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(Wv)}:Lp;function Wv(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function Om(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"||s==="/&"){if(a===0){e.removeChild(n),hn(t);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")ni(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ni(s);for(var i=s.firstChild;i;){var l=i.nextSibling,o=i.nodeName;i[Di]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||s.removeChild(i),i=l}}else s==="body"&&ni(e.ownerDocument.body);s=n}while(s);hn(t)}function Rm(e,t){var s=e;e=0;do{var a=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=a}while(s)}function Eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Eu(s),ld(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ej(e,t,s,a){for(;e.nodeType===1;){var n=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Di])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ns(e.nextSibling),e===null)break}return null}function tj(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ns(e.nextSibling),e===null))return null;return e}function zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ns(e.nextSibling),e===null))return null;return e}function Cu(e){return e.data==="$?"||e.data==="$~"}function ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sj(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var a=function(){t(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tu=null;function Dm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return ns(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function $p(e,t,s){switch(t=io(s),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ld(e)}var is=new Map,Um=new Set;function lo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ks=pe.d;pe.d={f:aj,r:rj,D:nj,C:ij,L:lj,m:oj,X:uj,S:cj,M:dj};function aj(){var e=Ks.f(),t=Uo();return e||t}function rj(e){var t=yn(e);t!==null&&t.tag===5&&t.type==="form"?Ox(t):Ks.r(e)}var wn=typeof document>"u"?null:document;function Bp(e,t,s){var a=wn;if(a&&typeof t=="string"&&t){var n=es(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof s=="string"&&(n+='[crossorigin="'+s+'"]'),Um.has(n)||(Um.add(n),e={rel:e,crossOrigin:s,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),ht(t,"link",e),nt(t),a.head.appendChild(t)))}}function nj(e){Ks.D(e),Bp("dns-prefetch",e,null)}function ij(e,t){Ks.C(e,t),Bp("preconnect",e,t)}function lj(e,t,s){Ks.L(e,t,s);var a=wn;if(a&&e&&t){var n='link[rel="preload"][as="'+es(t)+'"]';t==="image"&&s&&s.imageSrcSet?(n+='[imagesrcset="'+es(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(n+='[imagesizes="'+es(s.imageSizes)+'"]')):n+='[href="'+es(e)+'"]';var i=n;switch(t){case"style":i=dn(e);break;case"script":i=Nn(e)}is.has(i)||(e=Re({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),is.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Bi(i))||t==="script"&&a.querySelector(qi(i))||(t=a.createElement("link"),ht(t,"link",e),nt(t),a.head.appendChild(t)))}}function oj(e,t){Ks.m(e,t);var s=wn;if(s&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+es(a)+'"][href="'+es(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Nn(e)}if(!is.has(i)&&(e=Re({rel:"modulepreload",href:e},t),is.set(i,e),s.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qi(i)))return}a=s.createElement("link"),ht(a,"link",e),nt(a),s.head.appendChild(a)}}}function cj(e,t,s){Ks.S(e,t,s);var a=wn;if(a&&e){var n=Yr(a).hoistableStyles,i=dn(e);t=t||"default";var l=n.get(i);if(!l){var o={loading:0,preload:null};if(l=a.querySelector(Bi(i)))o.loading=5;else{e=Re({rel:"stylesheet",href:e,"data-precedence":t},s),(s=is.get(i))&&Yd(e,s);var c=l=a.createElement("link");nt(c),ht(c,"link",e),c._p=new Promise(function(u,g){c.onload=u,c.onerror=g}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dl(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:o},n.set(i,l)}}}function uj(e,t){Ks.X(e,t);var s=wn;if(s&&e){var a=Yr(s).hoistableScripts,n=Nn(e),i=a.get(n);i||(i=s.querySelector(qi(n)),i||(e=Re({src:e,async:!0},t),(t=is.get(n))&&Fd(e,t),i=s.createElement("script"),nt(i),ht(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function dj(e,t){Ks.M(e,t);var s=wn;if(s&&e){var a=Yr(s).hoistableScripts,n=Nn(e),i=a.get(n);i||(i=s.querySelector(qi(n)),i||(e=Re({src:e,async:!0,type:"module"},t),(t=is.get(n))&&Fd(e,t),i=s.createElement("script"),nt(i),ht(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Lm(e,t,s,a){var n=(n=ma.current)?lo(n):null;if(!n)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=dn(s.href),s=Yr(n).hoistableStyles,a=s.get(t),a||(a={type:"style",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=dn(s.href);var i=Yr(n).hoistableStyles,l=i.get(e);if(l||(n=n.ownerDocument||n,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=n.querySelector(Bi(e)))&&!i._p&&(l.instance=i,l.state.loading=5),is.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},is.set(e,s),i||hj(n,e,s,l.state))),t&&a===null)throw Error(U(528,""));return l}if(t&&a!==null)throw Error(U(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nn(s),s=Yr(n).hoistableScripts,a=s.get(t),a||(a={type:"script",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function dn(e){return'href="'+es(e)+'"'}function Bi(e){return'link[rel="stylesheet"]['+e+"]"}function qp(e){return Re({},e,{"data-precedence":e.precedence,precedence:null})}function hj(e,t,s,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ht(t,"link",s),nt(t),e.head.appendChild(t))}function Nn(e){return'[src="'+es(e)+'"]'}function qi(e){return"script[async]"+e}function zm(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+es(s.href)+'"]');if(a)return t.instance=a,nt(a),a;var n=Re({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),nt(a),ht(a,"style",n),Dl(a,s.precedence,e),t.instance=a;case"stylesheet":n=dn(s.href);var i=e.querySelector(Bi(n));if(i)return t.state.loading|=4,t.instance=i,nt(i),i;a=qp(s),(n=is.get(n))&&Yd(a,n),i=(e.ownerDocument||e).createElement("link"),nt(i);var l=i;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),ht(i,"link",a),t.state.loading|=4,Dl(i,s.precedence,e),t.instance=i;case"script":return i=Nn(s.src),(n=e.querySelector(qi(i)))?(t.instance=n,nt(n),n):(a=s,(n=is.get(i))&&(a=Re({},s),Fd(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),nt(n),ht(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Dl(a,s.precedence,e));return t.instance}function Dl(e,t,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,l=0;l<a.length;l++){var o=a[l];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ml=null;function $m(e,t,s){if(Ml===null){var a=new Map,n=Ml=new Map;n.set(s,a)}else n=Ml,a=n.get(s),a||(a=new Map,n.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),n=0;n<s.length;n++){var i=s[n];if(!(i[Di]||i[ct]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var o=a.get(l);o?o.push(i):a.set(l,[i])}}return a}function Bm(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function mj(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function fj(e,t,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var n=dn(a.href),i=t.querySelector(Bi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oo.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=i,nt(i);return}i=t.ownerDocument||t,a=qp(a),(n=is.get(n))&&Yd(a,n),i=i.createElement("link"),nt(i);var l=i;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),ht(i,"link",a),s.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&!(s.state.loading&3)&&(e.count++,s=oo.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var _c=0;function gj(e,t){return e.stylesheets&&e.count===0&&Ul(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var a=setTimeout(function(){if(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&_c===0&&(_c=62500*Xv());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>_c?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ul(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var co=null;function Ul(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,co=new Map,t.forEach(xj,e),co=null,oo.call(e))}function xj(e,t){if(!(t.state.loading&4)){var s=co.get(e);if(s)var a=s.get(null);else{s=new Map,co.set(e,s);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var l=n[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(s.set(l.dataset.precedence,l),a=l)}a&&s.set(null,a)}n=t.instance,l=n.getAttribute("data-precedence"),i=s.get(l)||a,i===a&&s.set(null,n),s.set(l,n),this.count++,a=oo.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var vi={$$typeof:zs,Provider:null,Consumer:null,_currentValue:Qa,_currentValue2:Qa,_threadCount:0};function pj(e,t,s,a,n,i,l,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.hiddenUpdates=Fo(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Pp(e,t,s,a,n,i,l,o,c,u,g,f){return e=new pj(e,t,s,l,c,u,g,f,o),t=1,i===!0&&(t|=24),i=Lt(3,null,null,t),e.current=i,i.stateNode=e,t=bd(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:s,cache:t},wd(i),e}function Hp(e){return e?(e=Pr,e):Pr}function Gp(e,t,s,a,n,i){n=Hp(n),a.context===null?a.context=n:a.pendingContext=n,a=ga(t),a.payload={element:s},i=i===void 0?null:i,i!==null&&(a.callback=i),s=xa(e,a,t),s!==null&&(kt(s,e,t),Jn(s,e,t))}function qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Kd(e,t){qm(e,t),(e=e.alternate)&&qm(e,t)}function Ip(e){if(e.tag===13||e.tag===31){var t=ur(e,67108864);t!==null&&kt(t,e,67108864),Kd(e,67108864)}}function Vm(e){if(e.tag===13||e.tag===31){var t=Ht();t=nd(t);var s=ur(e,t);s!==null&&kt(s,e,t),Kd(e,t)}}var uo=!0;function yj(e,t,s,a){var n=Z.T;Z.T=null;var i=pe.p;try{pe.p=2,Xd(e,t,s,a)}finally{pe.p=i,Z.T=n}}function bj(e,t,s,a){var n=Z.T;Z.T=null;var i=pe.p;try{pe.p=8,Xd(e,t,s,a)}finally{pe.p=i,Z.T=n}}function Xd(e,t,s,a){if(uo){var n=Au(a);if(n===null)wc(e,t,a,ho,s),Pm(e,a);else if(jj(n,e,t,s,a))a.stopPropagation();else if(Pm(e,a),t&4&&-1<vj.indexOf(e)){for(;n!==null;){var i=yn(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=Va(i.pendingLanes);if(l!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Pt(l);o.entanglements[1]|=c,l&=~c}Ns(i),!(xe&6)&&(eo=qt()+500,$i(0))}}break;case 31:case 13:o=ur(i,2),o!==null&&kt(o,i,2),Uo(),Kd(i,2)}if(i=Au(a),i===null&&wc(e,t,a,ho,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else wc(e,t,a,null,s)}}function Au(e){return e=cd(e),Qd(e)}var ho=null;function Qd(e){if(ho=null,e=Lr(e),e!==null){var t=Ti(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=dg(t),e!==null)return e;e=null}else if(s===31){if(e=hg(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ho=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nb()){case xg:return 2;case pg:return 8;case ql:case ib:return 32;case yg:return 268435456;default:return 32}default:return 32}}var Ou=!1,ba=null,va=null,ja=null,ji=new Map,wi=new Map,ia=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Bn(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=yn(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function jj(e,t,s,a,n){switch(t){case"focusin":return ba=Bn(ba,e,t,s,a,n),!0;case"dragenter":return va=Bn(va,e,t,s,a,n),!0;case"mouseover":return ja=Bn(ja,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return ji.set(i,Bn(ji.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,wi.set(i,Bn(wi.get(i)||null,e,t,s,a,n)),!0}return!1}function Fp(e){var t=Lr(e.target);if(t!==null){var s=Ti(t);if(s!==null){if(t=s.tag,t===13){if(t=dg(s),t!==null){e.blockedOn=t,Eh(e.priority,function(){Vm(s)});return}}else if(t===31){if(t=hg(s),t!==null){e.blockedOn=t,Eh(e.priority,function(){Vm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Au(e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Xc=a,s.target.dispatchEvent(a),Xc=null}else return t=yn(s),t!==null&&Ip(t),e.blockedOn=s,!1;t.shift()}return!0}function Hm(e,t,s){Ll(e)&&s.delete(t)}function wj(){Ou=!1,ba!==null&&Ll(ba)&&(ba=null),va!==null&&Ll(va)&&(va=null),ja!==null&&Ll(ja)&&(ja=null),ji.forEach(Hm),wi.forEach(Hm)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,wj)))}var cl=null;function Gm(e){cl!==e&&(cl=e,et.unstable_scheduleCallback(et.unstable_NormalPriority,function(){cl===e&&(cl=null);for(var t=0;t<e.length;t+=3){var s=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Qd(a||s)===null)continue;break}var i=yn(s);i!==null&&(e.splice(t,3),t-=3,du(i,{pending:!0,data:n,method:s.method,action:a},a,n))}}))}function hn(e){function t(c){return ol(c,e)}ba!==null&&ol(ba,e),va!==null&&ol(va,e),ja!==null&&ol(ja,e),ji.forEach(t),wi.forEach(t);for(var s=0;s<ia.length;s++){var a=ia[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)Fp(s),s.blockedOn===null&&ia.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var n=s[a],i=s[a+1],l=n[Tt]||null;if(typeof i=="function")l||Gm(s);else if(l){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,l=i[Tt]||null)o=l.formAction;else if(Qd(n)!==null)continue}else o=l.action;typeof o=="function"?s[a+1]=o:(s.splice(a,3),a-=3),Gm(s)}}}function Kp(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return n=l})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Jd(e){this._internalRoot=e}$o.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var s=t.current,a=Ht();Gp(s,a,e,t,null,null)};$o.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gp(e.current,2,null,e,null,null),Uo(),t[pn]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ng();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ia.length&&t!==0&&t<ia[s].priority;s++);ia.splice(s,0,e),s===0&&Fp(e)}};var Im=cg.version;if(Im!=="19.2.0")throw Error(U(527,Im,"19.2.0"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Zy(t),e=e!==null?mg(e):null,e=e===null?null:e.stateNode,e};var Nj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ai=ul.inject(Nj),Vt=ul}catch{}}jo.createRoot=function(e,t){if(!ug(e))throw Error(U(299));var s=!1,a="",n=Bx,i=qx,l=Vx;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Pp(e,1,!1,null,null,s,a,null,n,i,l,Kp),e[pn]=t.current,Id(e),new Jd(t)};jo.hydrateRoot=function(e,t,s){if(!ug(e))throw Error(U(299));var a=!1,n="",i=Bx,l=qx,o=Vx,c=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onUncaughtError!==void 0&&(i=s.onUncaughtError),s.onCaughtError!==void 0&&(l=s.onCaughtError),s.onRecoverableError!==void 0&&(o=s.onRecoverableError),s.formState!==void 0&&(c=s.formState)),t=Pp(e,1,!0,t,s??null,a,n,c,i,l,o,Kp),t.context=Hp(null),s=t.current,a=Ht(),a=nd(a),n=ga(a),n.callback=null,xa(s,n,a),s=a,t.current.lanes=s,Ri(t,s),Ns(t),e[pn]=t.current,Id(e),new $o(t)};jo.version="19.2.0";function Xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xp)}catch(e){console.error(e)}}Xp(),sg.exports=jo;var _j=sg.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ni.apply(this,arguments)}var Ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ka||(Ka={}));const Ym="popstate";function Sj(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return Ru("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:mo(n)}return Cj(t,s,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ej(){return Math.random().toString(36).substr(2,8)}function Fm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ru(e,t,s,a){return s===void 0&&(s=null),Ni({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vi(t):t,{state:s,key:t&&t.key||a||Ej()})}function mo(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Vi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Cj(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=Ka.Pop,c=null,u=g();u==null&&(u=0,l.replaceState(Ni({},l.state,{idx:u}),""));function g(){return(l.state||{idx:null}).idx}function f(){o=Ka.Pop;let j=g(),y=j==null?null:j-u;u=j,c&&c({action:o,location:b.location,delta:y})}function d(j,y){o=Ka.Push;let x=Ru(b.location,j,y);u=g()+1;let h=Fm(x,u),m=b.createHref(x);try{l.pushState(h,"",m)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(m)}i&&c&&c({action:o,location:b.location,delta:1})}function p(j,y){o=Ka.Replace;let x=Ru(b.location,j,y);u=g();let h=Fm(x,u),m=b.createHref(x);l.replaceState(h,"",m),i&&c&&c({action:o,location:b.location,delta:0})}function w(j){let y=n.location.origin!=="null"?n.location.origin:n.location.href,x=typeof j=="string"?j:mo(j);return x=x.replace(/ $/,"%20"),gt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let b={get action(){return o},get location(){return e(n,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Ym,f),c=j,()=>{n.removeEventListener(Ym,f),c=null}},createHref(j){return t(n,j)},createURL:w,encodeLocation(j){let y=w(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(j){return l.go(j)}};return b}var Km;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Km||(Km={}));function kj(e,t,s){return s===void 0&&(s="/"),Tj(e,t,s)}function Tj(e,t,s,a){let n=typeof t=="string"?Vi(t):t,i=Zd(n.pathname||"/",s);if(i==null)return null;let l=Jp(e);Aj(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Pj(i);o=Bj(l[c],u)}return o}function Jp(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=wa([a,c.relativePath]),g=s.concat(c);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jp(i.children,t,g,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zj(u,i.index),routesMeta:g})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of Zp(i.path))n(i,l,c)}),t}function Zp(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=Zp(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Aj(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:$j(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Oj=/^:[\w-]+$/,Rj=3,Dj=2,Mj=1,Uj=10,Lj=-2,Xm=e=>e==="*";function zj(e,t){let s=e.split("/"),a=s.length;return s.some(Xm)&&(a+=Lj),t&&(a+=Dj),s.filter(n=>!Xm(n)).reduce((n,i)=>n+(Oj.test(i)?Rj:i===""?Mj:Uj),a)}function $j(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function Bj(e,t,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],u=o===a.length-1,g=i==="/"?t:t.slice(i.length)||"/",f=qj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},g),d=c.route;if(!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:wa([i,f.pathname]),pathnameBase:Yj(wa([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=wa([i,f.pathnameBase]))}return l}function qj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=Vj(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((u,g,f)=>{let{paramName:d,isOptional:p}=g;if(d==="*"){let b=o[f]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=o[f];return p&&!w?u[d]=void 0:u[d]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Vj(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Qp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Hj(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Vi(e):e;return{pathname:s?s.startsWith("/")?s:Gj(s,t):t,search:Fj(a),hash:Kj(n)}}function Gj(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Sc(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ij(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Wp(e,t){let s=Ij(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function e0(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Vi(e):(n=Ni({},e),gt(!n.pathname||!n.pathname.includes("?"),Sc("?","pathname","search",n)),gt(!n.pathname||!n.pathname.includes("#"),Sc("#","pathname","hash",n)),gt(!n.search||!n.search.includes("#"),Sc("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let f=t.length-1;if(!a&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),f-=1;n.pathname=d.join("/")}o=f>=0?t[f]:"/"}let c=Hj(n,o),u=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||g)&&(c.pathname+="/"),c}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),Yj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t0=["post","put","patch","delete"];new Set(t0);const Qj=["get",...t0];new Set(Qj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fo.apply(this,arguments)}const Wd=v.createContext(null),Jj=v.createContext(null),hr=v.createContext(null),eh=v.createContext(null),Aa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),s0=v.createContext(null);function Zj(e,t){let{relative:s}=t===void 0?{}:t;Pi()||gt(!1);let{basename:a,navigator:n}=v.useContext(hr),{hash:i,pathname:l,search:o}=n0(e,{relative:s}),c=l;return a!=="/"&&(c=l==="/"?a:wa([a,l])),n.createHref({pathname:c,search:o,hash:i})}function Pi(){return v.useContext(eh)!=null}function Oa(){return Pi()||gt(!1),v.useContext(eh).location}function a0(e){v.useContext(hr).static||v.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=v.useContext(Aa);return e?dw():Wj()}function Wj(){Pi()||gt(!1);let e=v.useContext(Wd),{basename:t,future:s,navigator:a}=v.useContext(hr),{matches:n}=v.useContext(Aa),{pathname:i}=Oa(),l=JSON.stringify(Wp(n,s.v7_relativeSplatPath)),o=v.useRef(!1);return a0(()=>{o.current=!0}),v.useCallback(function(u,g){if(g===void 0&&(g={}),!o.current)return;if(typeof u=="number"){a.go(u);return}let f=e0(u,JSON.parse(l),i,g.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wa([t,f.pathname])),(g.replace?a.replace:a.push)(f,g.state,g)},[t,a,l,i,e])}function r0(){let{matches:e}=v.useContext(Aa),t=e[e.length-1];return t?t.params:{}}function n0(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=v.useContext(hr),{matches:n}=v.useContext(Aa),{pathname:i}=Oa(),l=JSON.stringify(Wp(n,a.v7_relativeSplatPath));return v.useMemo(()=>e0(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function ew(e,t){return tw(e)}function tw(e,t,s,a){Pi()||gt(!1);let{navigator:n}=v.useContext(hr),{matches:i}=v.useContext(Aa),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Oa(),g;g=u;let f=g.pathname||"/",d=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=kj(e,{pathname:d});return iw(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:wa([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:wa([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a)}function sw(){let e=uw(),t=Xj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:n},s):null,null)}const aw=v.createElement(sw,null);class rw extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(Aa.Provider,{value:this.props.routeContext},v.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nw(e){let{routeContext:t,match:s,children:a}=e,n=v.useContext(Wd);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Aa.Provider,{value:t},a)}function iw(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let g=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);g>=0||gt(!1),l=l.slice(0,Math.min(l.length,g+1))}let c=!1,u=-1;if(s&&a&&a.v7_partialHydration)for(let g=0;g<l.length;g++){let f=l[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=g),f.route.id){let{loaderData:d,errors:p}=s,w=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((g,f,d)=>{let p,w=!1,b=null,j=null;s&&(p=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||aw,c&&(u<0&&d===0?(hw("route-fallback"),w=!0,j=null):u===d&&(w=!0,j=f.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,d+1)),x=()=>{let h;return p?h=b:w?h=j:f.route.Component?h=v.createElement(f.route.Component,null):f.route.element?h=f.route.element:h=g,v.createElement(nw,{match:f,routeContext:{outlet:g,matches:y,isDataRoute:s!=null},children:h})};return s&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?v.createElement(rw,{location:s.location,revalidation:s.revalidation,component:b,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var i0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(i0||{}),l0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l0||{});function lw(e){let t=v.useContext(Wd);return t||gt(!1),t}function ow(e){let t=v.useContext(Jj);return t||gt(!1),t}function cw(e){let t=v.useContext(Aa);return t||gt(!1),t}function o0(e){let t=cw(),s=t.matches[t.matches.length-1];return s.route.id||gt(!1),s.route.id}function uw(){var e;let t=v.useContext(s0),s=ow(),a=o0();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function dw(){let{router:e}=lw(i0.UseNavigateStable),t=o0(l0.UseNavigateStable),s=v.useRef(!1);return a0(()=>{s.current=!0}),v.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,fo({fromRouteId:t},i)))},[e,t])}const Qm={};function hw(e,t,s){Qm[e]||(Qm[e]=!0)}function mw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fw(e){let{basename:t="/",children:s=null,location:a,navigationType:n=Ka.Pop,navigator:i,static:l=!1,future:o}=e;Pi()&&gt(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:l,future:fo({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Vi(a));let{pathname:g="/",search:f="",hash:d="",state:p=null,key:w="default"}=a,b=v.useMemo(()=>{let j=Zd(g,c);return j==null?null:{location:{pathname:j,search:f,hash:d,state:p,key:w},navigationType:n}},[c,g,f,d,p,w,n]);return b==null?null:v.createElement(hr.Provider,{value:u},v.createElement(eh.Provider,{children:s,value:b}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Du.apply(this,arguments)}function gw(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function xw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pw(e,t){return e.button===0&&(!t||t==="_self")&&!xw(e)}function Mu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function yw(e,t){let s=Mu(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const bw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vw="6";try{window.__reactRouterVersion=vw}catch{}const jw="startTransition",Jm=Yy[jw];function ww(e){let{basename:t,children:s,future:a,window:n}=e,i=v.useRef();i.current==null&&(i.current=Sj({window:n,v5Compat:!0}));let l=i.current,[o,c]=v.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},g=v.useCallback(f=>{u&&Jm?Jm(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>l.listen(g),[l,g]),v.useEffect(()=>mw(a),[a]),v.createElement(fw,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const Nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=v.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:g,viewTransition:f}=t,d=gw(t,bw),{basename:p}=v.useContext(hr),w,b=!1;if(typeof u=="string"&&_w.test(u)&&(w=u,Nw))try{let h=new URL(window.location.href),m=u.startsWith("//")?new URL(h.protocol+u):new URL(u),N=Zd(m.pathname,p);m.origin===h.origin&&N!=null?u=N+m.search+m.hash:b=!0}catch{}let j=Zj(u,{relative:n}),y=Sw(u,{replace:l,state:o,target:c,preventScrollReset:g,relative:n,viewTransition:f});function x(h){a&&a(h),h.defaultPrevented||y(h)}return v.createElement("a",Du({},d,{href:w||j,onClick:b||i?a:x,ref:s,target:c}))});var Zm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zm||(Zm={}));var Wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wm||(Wm={}));function Sw(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=tt(),u=Oa(),g=n0(e,{relative:l});return v.useCallback(f=>{if(pw(f,s)){f.preventDefault();let d=a!==void 0?a:mo(u)===mo(g);c(e,{replace:d,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,g,a,n,s,e,i,l,o])}function Ew(e){let t=v.useRef(Mu(e)),s=v.useRef(!1),a=Oa(),n=v.useMemo(()=>yw(a.search,s.current?null:t.current),[a.search]),i=tt(),l=v.useCallback((o,c)=>{const u=Mu(typeof o=="function"?o(n):o);s.current=!0,i("?"+u,c)},[i,n]);return[n,l]}var Uu=function(e,t){return Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])},Uu(e,t)};function c0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Uu(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var go=function(){return go=Object.assign||function(t){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},go.apply(this,arguments)};function _n(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function u0(e,t,s,a){var n=arguments.length,i=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,s):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(i=(n<3?l(i):n>3?l(t,s,i):l(t,s))||i);return n>3&&i&&Object.defineProperty(t,s,i),i}function d0(e,t){return function(s,a){t(s,a,e)}}function h0(e,t,s,a,n,i){function l(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=a.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,g=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),f,d=!1,p=s.length-1;p>=0;p--){var w={};for(var b in a)w[b]=b==="access"?{}:a[b];for(var b in a.access)w.access[b]=a.access[b];w.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(y||null))};var j=(0,s[p])(o==="accessor"?{get:g.get,set:g.set}:g[c],w);if(o==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(f=l(j.get))&&(g.get=f),(f=l(j.set))&&(g.set=f),(f=l(j.init))&&n.unshift(f)}else(f=l(j))&&(o==="field"?n.unshift(f):g[c]=f)}u&&Object.defineProperty(u,a.name,g),d=!0}function m0(e,t,s){for(var a=arguments.length>2,n=0;n<t.length;n++)s=a?t[n].call(e,s):t[n].call(e);return a?s:void 0}function f0(e){return typeof e=="symbol"?e:"".concat(e)}function g0(e,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function x0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function F(e,t,s,a){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function o(g){try{u(a.next(g))}catch(f){l(f)}}function c(g){try{u(a.throw(g))}catch(f){l(f)}}function u(g){g.done?i(g.value):n(g.value).then(o,c)}u((a=a.apply(e,t||[])).next())})}function p0(e,t){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=o(0),l.throw=o(1),l.return=o(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(u){return function(g){return c([u,g])}}function c(u){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(s=0)),s;)try{if(a=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(g){u=[6,g],n=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Bo=Object.create?function(e,t,s,a){a===void 0&&(a=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,n)}:function(e,t,s,a){a===void 0&&(a=s),e[a]=t[s]};function y0(e,t){for(var s in e)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&Bo(t,e,s)}function xo(e){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&e[t],a=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function th(e,t){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var a=s.call(e),n,i=[],l;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(o){l={error:o}}finally{try{n&&!n.done&&(s=a.return)&&s.call(a)}finally{if(l)throw l.error}}return i}function b0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(th(arguments[t]));return e}function v0(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<s;t++)for(var i=arguments[t],l=0,o=i.length;l<o;l++,n++)a[n]=i[l];return a}function j0(e,t,s){if(s||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function mn(e){return this instanceof mn?(this.v=e,this):new mn(e)}function w0(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(e,t||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",l),n[Symbol.asyncIterator]=function(){return this},n;function l(p){return function(w){return Promise.resolve(w).then(p,f)}}function o(p,w){a[p]&&(n[p]=function(b){return new Promise(function(j,y){i.push([p,b,j,y])>1||c(p,b)})},w&&(n[p]=w(n[p])))}function c(p,w){try{u(a[p](w))}catch(b){d(i[0][3],b)}}function u(p){p.value instanceof mn?Promise.resolve(p.value.v).then(g,f):d(i[0][2],p)}function g(p){c("next",p)}function f(p){c("throw",p)}function d(p,w){p(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function N0(e){var t,s;return t={},a("next"),a("throw",function(n){throw n}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(n,i){t[n]=e[n]?function(l){return(s=!s)?{value:mn(e[n](l)),done:!1}:i?i(l):l}:i}}function _0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],s;return t?t.call(e):(e=typeof xo=="function"?xo(e):e[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(i){s[i]=e[i]&&function(l){return new Promise(function(o,c){l=e[i](l),n(o,c,l.done,l.value)})}}function n(i,l,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},l)}}function S0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Cw=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Lu=function(e){return Lu=Object.getOwnPropertyNames||function(t){var s=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[s.length]=a);return s},Lu(e)};function E0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s=Lu(e),a=0;a<s.length;a++)s[a]!=="default"&&Bo(t,e,s[a]);return Cw(t,e),t}function C0(e){return e&&e.__esModule?e:{default:e}}function k0(e,t,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(e):a?a.value:t.get(e)}function T0(e,t,s,a,n){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?n.call(e,s):n?n.value=s:t.set(e,s),s}function A0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function O0(e,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],s&&(n=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:s})}else s&&e.stack.push({async:!0});return t}var kw=typeof SuppressedError=="function"?SuppressedError:function(e,t,s){var a=new Error(s);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function R0(e){function t(i){e.error=e.hasError?new kw(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var s,a=0;function n(){for(;s=e.stack.pop();)try{if(!s.async&&a===1)return a=0,e.stack.push(s),Promise.resolve().then(n);if(s.dispose){var i=s.dispose.call(s.value);if(s.async)return a|=2,Promise.resolve(i).then(n,function(l){return t(l),n()})}else a|=1}catch(l){t(l)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function D0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,a,n,i,l){return a?t?".jsx":".js":n&&(!i||!l)?s:n+i+"."+l.toLowerCase()+"js"}):e}const Tw={__extends:c0,__assign:go,__rest:_n,__decorate:u0,__param:d0,__esDecorate:h0,__runInitializers:m0,__propKey:f0,__setFunctionName:g0,__metadata:x0,__awaiter:F,__generator:p0,__createBinding:Bo,__exportStar:y0,__values:xo,__read:th,__spread:b0,__spreadArrays:v0,__spreadArray:j0,__await:mn,__asyncGenerator:w0,__asyncDelegator:N0,__asyncValues:_0,__makeTemplateObject:S0,__importStar:E0,__importDefault:C0,__classPrivateFieldGet:k0,__classPrivateFieldSet:T0,__classPrivateFieldIn:A0,__addDisposableResource:O0,__disposeResources:R0,__rewriteRelativeImportExtension:D0},Aw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O0,get __assign(){return go},__asyncDelegator:N0,__asyncGenerator:w0,__asyncValues:_0,__await:mn,__awaiter:F,__classPrivateFieldGet:k0,__classPrivateFieldIn:A0,__classPrivateFieldSet:T0,__createBinding:Bo,__decorate:u0,__disposeResources:R0,__esDecorate:h0,__exportStar:y0,__extends:c0,__generator:p0,__importDefault:C0,__importStar:E0,__makeTemplateObject:S0,__metadata:x0,__param:d0,__propKey:f0,__read:th,__rest:_n,__rewriteRelativeImportExtension:D0,__runInitializers:m0,__setFunctionName:g0,__spread:b0,__spreadArray:j0,__spreadArrays:v0,__values:xo,default:Tw},Symbol.toStringTag,{value:"Module"})),Ow="modulepreload",Rw=function(e){return"/"+e},ef={},Sn=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=Rw(c),c in ef)return;ef[c]=!0;const u=c.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ow,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Dw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Sn(async()=>{const{default:a}=await Promise.resolve().then(()=>mr);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)};class sh extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class tf extends sh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sf extends sh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class af extends sh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zu||(zu={}));class Mw{constructor(t,{headers:s={},customFetch:a,region:n=zu.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=Dw(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return F(this,arguments,void 0,function*(s,a={}){var n;try{const{headers:i,method:l,body:o,signal:c}=a;let u={},{region:g}=a;g||(g=this.region);const f=new URL(`${this.url}/${s}`);g&&g!=="any"&&(u["x-region"]=g,f.searchParams.set("forceFunctionRegion",g));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(u["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(u["Content-Type"]="application/json",d=JSON.stringify(o)):d=o;const p=yield this.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:d,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new tf(y)}),w=p.headers.get("x-relay-error");if(w&&w==="true")throw new sf(p);if(!p.ok)throw new af(p);let b=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield p.json():b==="application/octet-stream"||b==="application/pdf"?j=yield p.blob():b==="text/event-stream"?j=p:b==="multipart/form-data"?j=yield p.formData():j=yield p.text(),{data:j,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new tf(i)}:{data:null,error:i,response:i instanceof af||i instanceof sf?i.context:void 0}}})}}var bt={};const En=If(Aw);var dl={},hl={},ml={},fl={},gl={},Uw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fn=Uw();const Lw=fn.fetch,M0=fn.fetch.bind(fn),U0=fn.Headers,zw=fn.Request,$w=fn.Response,mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:U0,Request:zw,Response:$w,default:M0,fetch:Lw},Symbol.toStringTag,{value:"Module"})),Bw=If(mr);var xl={},rf;function L0(){if(rf)return xl;rf=1,Object.defineProperty(xl,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return xl.default=e,xl}var nf;function z0(){if(nf)return gl;nf=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=En,t=e.__importDefault(Bw),s=e.__importDefault(L0());class a{constructor(i){var l,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var g,f,d,p;let w=null,b=null,j=null,y=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const m=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&N&&N.length>1&&(j=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,y=406,x="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const m=await u.text();try{w=JSON.parse(m),Array.isArray(w)&&u.status===404&&(b=[],w=null,y=200,x="OK")}catch{u.status===404&&m===""?(y=204,x="No Content"):w={message:m}}if(w&&this.isMaybeSingle&&(!((p=w==null?void 0:w.details)===null||p===void 0)&&p.includes("0 rows"))&&(w=null,y=200,x="OK"),w&&this.shouldThrowOnError)throw new s.default(w)}return{error:w,data:b,count:j,status:y,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var g,f,d;return{error:{message:`${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,l)}returns(){return this}overrideTypes(){return this}}return gl.default=a,gl}var lf;function $0(){if(lf)return fl;lf=1,Object.defineProperty(fl,"__esModule",{value:!0});const t=En.__importDefault(z0());class s extends t.default{select(n){let i=!1;const l=(n??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:l,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",g=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${g?`${g},`:""}${n}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,i,{foreignTable:l,referencedTable:o=l}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:l=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var g;const f=[n?"analyze":null,i?"verbose":null,l?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),d=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return fl.default=s,fl}var of;function ah(){if(of)return ml;of=1,Object.defineProperty(ml,"__esModule",{value:!0});const t=En.__importDefault($0()),s=new RegExp("[,()]");class a extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const o=Array.from(new Set(l)).map(c=>typeof c=="string"&&s.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const g=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${g}.${l}`),this}match(i){return Object.entries(i).forEach(([l,o])=>{this.url.searchParams.append(l,`eq.${o}`)}),this}not(i,l,o){return this.url.searchParams.append(i,`not.${l}.${o}`),this}or(i,{foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,l,o){return this.url.searchParams.append(i,`${l}.${o}`),this}}return ml.default=a,ml}var cf;function B0(){if(cf)return hl;cf=1,Object.defineProperty(hl,"__esModule",{value:!0});const t=En.__importDefault(ah());class s{constructor(n,{headers:i={},schema:l,fetch:o}){this.url=n,this.headers=new Headers(i),this.schema=l,this.fetch=o}select(n,i){const{head:l=!1,count:o}=i??{},c=l?"HEAD":"GET";let u=!1;const g=(n??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",g),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:l=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((g,f)=>g.concat(Object.keys(f)),[]);if(u.length>0){const g=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:l=!1,count:o,defaultToNull:c=!0}={}){var u;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(f.length>0){const d=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:i}={}){var l;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:n}={}){var i;const l="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return hl.default=s,hl}var uf;function qw(){if(uf)return dl;uf=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=En,t=e.__importDefault(B0()),s=e.__importDefault(ah());class a{constructor(i,{headers:l={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(l),this.schemaName=o,this.fetch=c}from(i){const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:o=!1,get:c=!1,count:u}={}){var g;let f;const d=new URL(`${this.url}/rpc/${i}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(l).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{d.searchParams.append(b,j)})):(f="POST",p=l);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new s.default({method:f,url:d,headers:w,schema:this.schemaName,body:p,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return dl.default=a,dl}Object.defineProperty(bt,"__esModule",{value:!0});var q0=bt.PostgrestError=Q0=bt.PostgrestBuilder=K0=bt.PostgrestTransformBuilder=Y0=bt.PostgrestFilterBuilder=G0=bt.PostgrestQueryBuilder=P0=bt.PostgrestClient=void 0;const Cn=En,V0=Cn.__importDefault(qw());var P0=bt.PostgrestClient=V0.default;const H0=Cn.__importDefault(B0());var G0=bt.PostgrestQueryBuilder=H0.default;const I0=Cn.__importDefault(ah());var Y0=bt.PostgrestFilterBuilder=I0.default;const F0=Cn.__importDefault($0());var K0=bt.PostgrestTransformBuilder=F0.default;const X0=Cn.__importDefault(z0());var Q0=bt.PostgrestBuilder=X0.default;const J0=Cn.__importDefault(L0());q0=bt.PostgrestError=J0.default;var Z0=bt.default={PostgrestClient:V0.default,PostgrestQueryBuilder:H0.default,PostgrestFilterBuilder:I0.default,PostgrestTransformBuilder:F0.default,PostgrestBuilder:X0.default,PostgrestError:J0.default};const Vw=Hf({__proto__:null,get PostgrestBuilder(){return Q0},get PostgrestClient(){return P0},get PostgrestError(){return q0},get PostgrestFilterBuilder(){return Y0},get PostgrestQueryBuilder(){return G0},get PostgrestTransformBuilder(){return K0},default:Z0},[bt]),{PostgrestClient:Pw,PostgrestQueryBuilder:a2,PostgrestFilterBuilder:r2,PostgrestTransformBuilder:n2,PostgrestBuilder:i2,PostgrestError:l2}=Z0||Vw;class Hw{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Gw="2.77.0",Iw=`realtime-js/${Gw}`,Yw="1.0.0",$u=1e4,Fw=1e3,Kw=100;var ii;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ii||(ii={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fs||(fs={}));var Bu;(function(e){e.websocket="websocket"})(Bu||(Bu={}));var Ia;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ia||(Ia={}));class Xw{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,s,a)}_decodeBroadcast(t,s,a){const n=s.getUint8(1),i=s.getUint8(2);let l=this.HEADER_LENGTH+2;const o=a.decode(t.slice(l,l+n));l=l+n;const c=a.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(a.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class W0{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const df=(e,t,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=Qw(l,e,t,n),i),{}):{}},Qw=(e,t,s,a)=>{const n=t.find(o=>o.name===e),i=n==null?void 0:n.type,l=s[e];return i&&!a.includes(i)?ey(i,l):qu(l)},ey=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return eN(t,s)}switch(e){case Ce.bool:return Jw(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Zw(t);case Ce.json:case Ce.jsonb:return Ww(t);case Ce.timestamp:return tN(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return qu(t);default:return qu(t)}},qu=e=>e,Jw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ww=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eN=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const l=e.slice(1,s);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>ey(t,o))}return e},tN=e=>typeof e=="string"?e.replace(" ","T"):e,ty=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ec{constructor(t,s,a={},n=$u){this.channel=t,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hf||(hf={}));class li{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,n,i,l),this.pendingDiffs.forEach(c=>{this.state=li.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=li.syncDiff(this.state,n,i,l),o())}),this.onJoin((n,i,l)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:l})}),this.onLeave((n,i,l)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,n){const i=this.cloneDeep(t),l=this.transformState(s),o={},c={};return this.map(i,(u,g)=>{l[u]||(c[u]=g)}),this.map(l,(u,g)=>{const f=i[u];if(f){const d=g.map(j=>j.presence_ref),p=f.map(j=>j.presence_ref),w=g.filter(j=>p.indexOf(j.presence_ref)<0),b=f.filter(j=>d.indexOf(j.presence_ref)<0);w.length>0&&(o[u]=w),b.length>0&&(c[u]=b)}else o[u]=g}),this.syncDiff(i,{joins:o,leaves:c},a,n)}static syncDiff(t,s,a,n){const{joins:i,leaves:l}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var u;const g=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),g.length>0){const f=t[o].map(p=>p.presence_ref),d=g.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...d)}a(o,g,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const g=c.map(f=>f.presence_ref);u=u.filter(f=>g.indexOf(f.presence_ref)<0),t[o]=u,n(o,u,c),u.length===0&&delete t[o]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const n=t[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mf||(mf={}));var oi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oi||(oi={}));var Ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ds||(Ds={}));class rh{constructor(t,s={config:{}},a){var n,i;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ec(this,fs.join,this.params,this.timeout),this.rejoinTimer=new W0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new li(this),this.broadcastEndpointURL=ty(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&n!==void 0?n:[],g=!!this.bindings[oi.PRESENCE]&&this.bindings[oi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},d={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:g}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ds.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ds.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(Ds.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,j=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,y=[];for(let x=0;x<j;x++){const h=b[x],{filter:{event:m,schema:N,table:S,filter:_}}=h,T=p&&p[x];if(T&&T.event===m&&T.schema===N&&T.table===S&&T.filter===_)y.push(Object.assign(Object.assign({},h),{id:T.id}));else{this.unsubscribe(),this.state=Ze.errored,t==null||t(Ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ds.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ze.errored,t==null||t(Ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===Ze.joined&&t===oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,s={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Ec(this,fs.leave,{},t),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),l=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),l}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ec(this,t,s,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Kw){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var n,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:g}=fs;if(a&&[o,c,u,g].indexOf(l)>=0&&a!==this._joinRef())return;let d=this._onMessage(l,s,a);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var w,b,j;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(b=p.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(p=>p.callback(d,a)):(i=this.bindings[l])===null||i===void 0||i.filter(p=>{var w,b,j,y,x,h;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const m=p.id,N=(w=p.filter)===null||w===void 0?void 0:w.event;return m&&((b=s.ids)===null||b===void 0?void 0:b.includes(m))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const m=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return m==="*"||m===((h=s==null?void 0:s.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof d=="object"&&"ids"in d){const w=d.data,{schema:b,table:j,commit_timestamp:y,type:x,errors:h}=w;d=Object.assign(Object.assign({},{schema:b,table:j,commit_timestamp:y,eventType:x,new:{},old:{},errors:h}),this._getPayloadRecords(w))}p.callback(d,a)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&rh.isEqual(n.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fs.close,{},t)}_onError(t){this._on(fs.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=df(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=df(t.columns,t.old_record)),s}}const Cc=()=>{},pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sN=[1e3,2e3,5e3,1e4],aN=1e4,rN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nN{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$u,this.transport=null,this.heartbeatIntervalMs=pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cc,this.ref=0,this.reconnectTimer=null,this.logger=Cc,this.conn=null,this.sendBuffer=[],this.serializer=new Xw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...l)=>Sn(async()=>{const{default:o}=await Promise.resolve().then(()=>mr);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Bu.websocket}`,this.httpEndpoint=ty(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yw}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return Ia.Connecting;case ii.open:return Ia.Open;case ii.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new rh(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:a,payload:n,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Fw,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:l}=s,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(n,i,l)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fs.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${a}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([rN],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:Iw};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(fs.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new W0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,n,i,l,o,c,u,g;if(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:$u,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:pl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Cc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>sN[f-1]||aN,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,d)=>d(JSON.stringify(f)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iN extends nh{constructor(t,s,a){super(t),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vu extends nh{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const ih=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Sn(async()=>{const{default:a}=await Promise.resolve().then(()=>mr);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},lN=()=>F(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sn(()=>Promise.resolve().then(()=>mr),void 0)).Response:Response}),Pu=e=>{if(Array.isArray(e))return e.map(s=>Pu(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Pu(a)}),t},oN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cN=(e,t,s)=>F(void 0,void 0,void 0,function*(){const a=yield lN();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{const i=e.status||500,l=(n==null?void 0:n.statusCode)||i+"";t(new iN(kc(n),i,l))}).catch(n=>{t(new Vu(kc(n),n))}):t(new Vu(kc(e),e))}),uN=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(oN(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),s))};function Hi(e,t,s,a,n,i){return F(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(s,uN(t,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>cN(c,o,a))})})}function _i(e,t,s,a){return F(this,void 0,void 0,function*(){return Hi(e,"GET",t,s,a)})}function hs(e,t,s,a,n){return F(this,void 0,void 0,function*(){return Hi(e,"POST",t,a,n,s)})}function Hu(e,t,s,a,n){return F(this,void 0,void 0,function*(){return Hi(e,"PUT",t,a,n,s)})}function dN(e,t,s,a){return F(this,void 0,void 0,function*(){return Hi(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function lh(e,t,s,a,n){return F(this,void 0,void 0,function*(){return Hi(e,"DELETE",t,a,n,s)})}class hN{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}var sy;class mN{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new hN(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}sy=Symbol.toStringTag;const fN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gN{constructor(t,s={},a,n){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=a,this.fetch=ih(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,a,n){return F(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},ff),n);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const u=this._removeEmptyFolders(s),g=this._getFinalPath(u),f=yield(t=="PUT"?Hu:hs)(this.fetch,`${this.url}/object/${g}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}upload(t,s,a){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,n){return F(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:ff.upsert},n),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl)):(c=a,g["cache-control"]=`max-age=${u.cacheControl}`,g["content-type"]=u.contentType);const f=yield Hu(this.fetch,o.toString(),c,{headers:g});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return F(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield hs(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new nh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}update(t,s,a){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return F(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}copy(t,s,a){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,a){return F(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield hs(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,a){return F(this,void 0,void 0,function*(){try{const n=yield hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}download(t,s){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),l=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>_i(this.fetch,`${this.url}/${n}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new mN(c,this.shouldThrowOnError)}info(t){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield _i(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Pu(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}exists(t){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield dN(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a)&&a instanceof Vu){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const o=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${a}${u}`)}}}remove(t){return F(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}list(t,s,a){return F(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},fN),s),{prefix:t||""});return{data:yield hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}listV2(t,s){return F(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield hs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ay="2.77.0",ry={"X-Client-Info":`storage-js/${ay}`};class xN{constructor(t,s={},a,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ry),s),this.fetch=ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return F(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield _i(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}getBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}createBucket(t){return F(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return F(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}emptyBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class pN{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ry),s),this.fetch=ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}listBuckets(t){return F(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const a=s.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield _i(this.fetch,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}}const oh={"X-Client-Info":`storage-js/${ay}`,"Content-Type":"application/json"};class ny extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tc extends ny{constructor(t,s,a){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yN extends ny{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var gf;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gf||(gf={}));const ch=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Sn(async()=>{const{default:a}=await Promise.resolve().then(()=>mr);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},bN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vN=(e,t,s)=>F(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(s!=null&&s.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(l=>{const o=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||n+"";t(new Tc(xf(l),n,o))}).catch(()=>{const l=n+"",o=i.statusText||`HTTP ${n} error`;t(new Tc(o,n,l))});else{const l=n+"",o=i.statusText||`HTTP ${n} error`;t(new Tc(o,n,l))}}else t(new yN(xf(e),e))}),jN=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(bN(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),s)):n};function wN(e,t,s,a,n,i){return F(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(s,jN(t,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>vN(c,o,a))})})}function $t(e,t,s,a,n){return F(this,void 0,void 0,function*(){return wN(e,"POST",t,a,n,s)})}class NN{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),s),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return F(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getIndex(t,s){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(zt(a))return{data:null,error:a};throw a}})}listIndexes(t){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return F(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(zt(a))return{data:null,error:a};throw a}})}}class _N{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),s),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return F(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getVectors(t){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}listVectors(t){return F(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $t(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}queryVectors(t){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteVectors(t){return F(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}}class SN{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),s),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return F(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}listBuckets(){return F(this,arguments,void 0,function*(t={}){try{return{data:yield $t(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}}class EN extends SN{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new CN(this.url,this.headers,t,this.fetch)}}class CN extends NN{constructor(t,s,a,n){super(t,s,n),this.vectorBucketName=a}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kN extends _N{constructor(t,s,a,n,i){super(t,s,i),this.vectorBucketName=a,this.indexName=n}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TN extends xN{constructor(t,s={},a,n){super(t,s,a,n)}from(t){return new gN(this.url,this.headers,t,this.fetch)}get vectors(){return new EN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pN(this.url+"/iceberg",this.headers,this.fetch)}}const AN="2.77.0";let In="";typeof Deno<"u"?In="deno":typeof document<"u"?In="web":typeof navigator<"u"&&navigator.product==="ReactNative"?In="react-native":In="node";const ON={"X-Client-Info":`supabase-js-${In}/${AN}`},RN={headers:ON},DN={schema:"public"},MN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UN={},LN=e=>{let t;return e?t=e:typeof fetch>"u"?t=M0:t=fetch,(...s)=>t(...s)},zN=()=>typeof Headers>"u"?U0:Headers,$N=(e,t,s)=>{const a=LN(s),n=zN();return async(i,l)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new n(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},l),{headers:u}))}};function BN(e){return e.endsWith("/")?e:e+"/"}function qN(e,t){var s,a;const{db:n,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:g,global:f}=t,d={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=o==null?void 0:o.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function VN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iy="2.77.0",Rr=30*1e3,Gu=3,Ac=Gu*Rr,PN="http://localhost:9999",HN="supabase.auth.token",GN={"X-Client-Info":`gotrue-js/${iy}`},Iu="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YN=10*60*1e3;class Si extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class FN extends Si{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function KN(e){return X(e)&&e.name==="AuthApiError"}class Ya extends Si{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ra extends Si{constructor(t,s,a,n){super(t,a,n),this.name=s,this.status=a}}class ea extends Ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XN(e){return X(e)&&e.name==="AuthSessionMissingError"}class _r extends Ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends Ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bl extends Ra{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QN(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class pf extends Ra{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yu extends Ra{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Oc(e){return X(e)&&e.name==="AuthRetryableFetchError"}class yf extends Ra{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Fu extends Ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bf=` 	
\r=`.split(""),JN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bf.length;t+=1)e[bf[t].charCodeAt(0)]=-2;for(let t=0;t<po.length;t+=1)e[po[t].charCodeAt(0)]=t;return e})();function vf(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(po[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(po[a]),t.queuedBits-=6}}function oy(e,t,s){const a=JN[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jf(e){const t=[],s=l=>{t.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=l=>{e_(l,a,s)};for(let l=0;l<e.length;l+=1)oy(e.charCodeAt(l),n,i);return t.join("")}function ZN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WN(e,t){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}ZN(a,t)}}function e_(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Wr(e){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)oy(e.charCodeAt(n),s,a);return new Uint8Array(t)}function t_(e){const t=[];return WN(e,s=>t.push(s)),new Uint8Array(t)}function Xa(e){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>vf(n,s,a)),vf(null,s,a),t.join("")}function s_(e){return Math.round(Date.now()/1e3)+e}function a_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dt=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},cy=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function r_(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{t[n]=a}),t}const uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Sn(async()=>{const{default:a}=await Promise.resolve().then(()=>mr);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},n_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dr=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Ba=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ws=async(e,t)=>{await e.removeItem(t)};class qo{constructor(){this.promise=new qo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}qo.promiseConstructor=Promise;function Rc(e){const t=e.split(".");if(t.length!==3)throw new Fu("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!IN.test(t[a]))throw new Fu("JWT not in base64url format");return{header:JSON.parse(jf(t[0])),payload:JSON.parse(jf(t[1])),signature:Wr(t[2]),raw:{header:t[0],payload:t[1]}}}async function i_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function l_(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){a(l);return}}catch(l){if(!t(i,l)){n(l);return}}})()})}function o_(e){return("0"+e.toString(16)).substr(-2)}function c_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,o_).join("")}async function u_(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function d_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await u_(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(e,t,s=!1){const a=c_();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await Dr(e,`${t}-code-verifier`,n);const i=await d_(a);return[i,a===i?"plain":"s256"]}const h_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m_(e){const t=e.headers.get(Iu);if(!t||!t.match(h_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function f_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(e){if(!x_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dc(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wf(e){return JSON.parse(JSON.stringify(e))}const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p_=[502,503,504];async function Nf(e){var t;if(!n_(e))throw new Yu(Ga(e),0);if(p_.includes(e.status))throw new Yu(Ga(e),e.status);let s;try{s=await e.json()}catch(i){throw new Ya(Ga(i),i)}let a;const n=m_(e);if(n&&n.getTime()>=ly["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new yf(Ga(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new ea}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new yf(Ga(s),e.status,s.weak_password.reasons);throw new FN(Ga(s),e.status||500,a)}const y_=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function te(e,t,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[Iu]||(i[Iu]=ly["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const l=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await b_(e,t,s+o,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function b_(e,t,s,a,n,i){const l=y_(t,a,n,i);let o;try{o=await e(s,Object.assign({},l))}catch(c){throw console.error(c),new Yu(Ga(c),0)}if(o.ok||await Nf(o),a!=null&&a.noResolveJson)return o;try{return await o.json()}catch(c){await Nf(c)}}function ds(e){var t;let s=null;w_(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=s_(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:a},error:null}}function _f(e){const t=ds(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function la(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v_(e){return{data:e,error:null}}function j_(e){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,l=_n(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Sf(e){return e}function w_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mc=["global","local","others"];class N_{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=uy(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Mc[0]){if(Mc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mc.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:la})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=_n(t,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:j_,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:la})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,n,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},g=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Sf});if(g.error)throw g.error;const f=await g.json(),d=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=g.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Er(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:la})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Er(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:la})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){Er(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:la})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Er(t.userId);try{const{data:s,error:a}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Er(t.userId),Er(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,n,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},g=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Sf});if(g.error)throw g.error;const f=await g.json(),d=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=g.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}}function Ef(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const Cr={debug:!!(globalThis&&cy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class __ extends dy{}async function S_(e,t,s){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new __(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function E_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function C_(e){return parseInt(e,16)}function k_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function T_(e){var t;const{chainId:s,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:l,notBefore:o,requestId:c,resources:u,scheme:g,uri:f,version:d}=e;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=hy(e.address),w=g?`${g}://${a}`:a,b=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${p}

${b}`;let y=`URI: ${f}
Version: ${d}
Chain ID: ${s}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(n&&(y+=`
Expiration Time: ${n.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const h of u){if(!h||typeof h!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${h}`);x+=`
- ${h}`}y+=x}return`${j}
${y}`}class Fe extends Error{constructor({message:t,code:s,cause:a,name:n}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class yo extends Fe{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function A_({error:e,options:t}){var s,a,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(my(l)){if(i.rp.id!==l)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function O_({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(my(a)){if(s.rpId!==a)return new Fe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class R_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const D_=new R_;function M_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:a}=e,n=_n(e,["challenge","user","excludeCredentials"]),i=Wr(t).buffer,l=Object.assign(Object.assign({},s),{id:Wr(s.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:i,user:l});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function U_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,a=_n(e,["challenge","allowCredentials"]),n=Wr(t).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const o=s[l];i.allowCredentials[l]=Object.assign(Object.assign({},o),{id:Wr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function L_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xa(new Uint8Array(n.authenticatorData)),clientDataJSON:Xa(new Uint8Array(n.clientDataJSON)),signature:Xa(new Uint8Array(n.signature)),userHandle:n.userHandle?Xa(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function my(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cf(){var e,t;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",t)}:{data:null,error:new yo("Empty credential response",t)}}catch(t){return{data:null,error:A_({error:t,options:e})}}}async function B_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",t)}:{data:null,error:new yo("Empty credential response",t)}}catch(t){return{data:null,error:O_({error:t,options:e})}}}const q_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},V_={userVerification:"preferred",hints:["security-key"]};function bo(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of e)if(n)for(const i in n){const l=n[i];if(l!==void 0)if(Array.isArray(l))a[i]=l;else if(s(l))a[i]=l;else if(t(l)){const o=a[i];t(o)?a[i]=bo(o,l):a[i]=bo(l)}else a[i]=l}return a}function P_(e,t){return bo(q_,e,t||{})}function H_(e,t){return bo(V_,e,t||{})}class G_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:n},i){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!l)return{data:null,error:o};const c=n??D_.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=P_(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:f}=await $_({publicKey:u,signal:c});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}case"request":{const u=H_(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:f}=await B_(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:c}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}}}catch(l){return X(l)?{data:null,error:l}:{data:null,error:new Ya("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!s)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Cf())return{data:null,error:new Ya("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:n},{request:i});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:a,credential_response:c.credential_response}})}catch(l){return X(l)?{data:null,error:l}:{data:null,error:new Ya("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!s)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Cf())return{data:null,error:new Ya("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var f;return(f=g.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:n},{create:i});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(l){return X(l)?{data:null,error:l}:{data:null,error:new Ya("Unexpected error in register",l)}}}}E_();const I_={url:PN,storageKey:HN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kf(e,t,s){return await s()}const kr={};class Ei{get jwks(){var t,s;return(s=(t=kr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=kr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:t})}constructor(t){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ei.nextInstanceID,Ei.nextInstanceID+=1,this.instanceID>0&&Dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},I_),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new N_({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=uy(n.fetch),this.lock=n.lock||kf,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Dt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=S_:this.lock=kf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new G_(this)},this.persistSession?(n.storage?this.storage=n.storage:cy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=r_(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),Dt()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QN(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?{error:s}:{error:new Ya("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,n;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:ds}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,a,n;try{let i;if("email"in t){const{email:g,password:f,options:d}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Sr(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:g,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:w},xform:ds})}else if("phone"in t){const{phone:g,password:f,options:d}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:f,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ds})}else throw new yl("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:l,options:o}=t;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_f})}else if("phone"in t){const{phone:i,password:l,options:o}=t;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_f})}else throw new yl("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new _r}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,n,i,l,o,c,u,g,f,d;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:b,wallet:j,statement:y,options:x}=t;let h;if(Dt())if(typeof j=="object")h=j;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")h=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=j}const m=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href),N=await h.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=hy(N[0]);let _=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!_){const D=await h.request({method:"eth_chainId"});_=C_(D)}const T={domain:m.host,address:S,statement:y,uri:m.href,version:"1",chainId:_,nonce:(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(l=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(g=x==null?void 0:x.signInWithEthereum)===null||g===void 0?void 0:g.resources};p=T_(T),w=await h.request({method:"personal_sign",params:[k_(p),S]})}try{const{data:b,error:j}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ds});if(j)throw j;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new _r}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:j})}catch(b){if(X(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var s,a,n,i,l,o,c,u,g,f,d,p;let w,b;if("message"in t)w=t.message,b=t.signature;else{const{chain:j,wallet:y,statement:x,options:h}=t;let m;if(Dt())if(typeof y=="object")m=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))m=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=y}const N=new URL((s=h==null?void 0:h.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in m&&m.signIn){const S=await m.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)w=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in m)||typeof m.signMessage!="function"||!("publicKey"in m)||typeof m!="object"||!m.publicKey||!("toBase58"in m.publicKey)||typeof m.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,m.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(a=h==null?void 0:h.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(g=h==null?void 0:h.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await m.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:j,error:y}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Xa(b)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ds});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new _r}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(X(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const s=await Ba(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ds});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _r}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:l})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:a,token:n,access_token:i,nonce:l}=t,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ds}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _r}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,a,n,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,g=null;this.flowType==="pkce"&&([u,g]=await Sr(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:g},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:g}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:g}}throw new yl("You must provide either an email or phone number.")}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var s,a;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ds});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,a,n;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Sr(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:v_})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new ea;const{error:n}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:l}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:l,error:o}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new yl("You must provide either an email or phone number and a type")}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ac:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const l=await Ba(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Dc()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,g)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,g))})}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:la}):await this._useSession(async s=>{var a,n,i;const{data:l,error:o}=s;if(o)throw o;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:la})})}catch(s){if(X(s))return XN(s)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new ea;const l=n.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Sr(this.storage,this.storageKey));const{data:u,error:g}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:la});if(g)throw g;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ea;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:l}=Rc(t.access_token);if(l.exp&&(a=l.exp,n=a<=s),n){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(X(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:l,error:o}=s;if(o)throw o;t=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new ea;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Dt())throw new bl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new pf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pf("No code detected.");const{data:x,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const m=new URL(window.location.href);return m.searchParams.delete("code"),window.history.replaceState(window.history.state,"",m.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new bl("No session defined in URL");const g=Math.round(Date.now()/1e3),f=parseInt(o);let d=g+f;c&&(d=parseInt(c));const p=d-g;p*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=d-f;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,d,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,d,g);const{data:b,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:d,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(a){if(X(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const l=(a=n.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(KN(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=a_(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:l}=s;if(l)throw l;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await Sr(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var l,o,c,u,g;const{data:f,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(g=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&g!==void 0?g:void 0})});if(n)throw n;return Dt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(X(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:l,provider:o,token:c,access_token:u,nonce:g}=t,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:o,id_token:c,access_token:u,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ds}),{data:d,error:p}=f;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new _r}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:p})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:l}=s;if(l)throw l;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await l_(async n=>(n>0&&await i_(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ds})),(n,i)=>{const l=200*Math.pow(2,n);return i&&Oc(i)&&Date.now()+l-a<Rr})}catch(a){if(this._debug(s,"error",a),X(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),Dt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Ba(this.storage,this.storageKey);if(n&&this.userStorage){let l=await Ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:n.user},await Dr(this.userStorage,this.storageKey+"-user",l)),n.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Dc()}else if(n&&!n.user&&!n.user){const l=await Ba(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(n.user=l.user,await Ws(this.storage,this.storageKey+"-user"),await Dr(this.storage,this.storageKey,n)):n.user=Dc()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ac;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Ac}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),Oc(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(n.access_token);!o&&(l!=null&&l.user)?(n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qo;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new ea;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),X(i)){const l={data:null,error:i};return Oc(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Dr(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=wf(n);await Dr(this.storage,this.storageKey,i)}else{const n=wf(s);await Dr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await Ws(this.storage,this.storageKey+"-code-verifier"),await Ws(this.storage,this.storageKey+"-user"),this.userStorage&&await Ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Gu} ticks`),n<=Gu&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,l]=await Sr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});n.push(o.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:l}=s;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?L_(t.webauthn.credential_response):z_(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const l=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:M_(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:U_(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,a;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rc(n.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const g=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(o=>o.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+YN>n)return a;const{data:i,error:l}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(o=>o.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};a=p.session.access_token}const{header:n,payload:i,signature:l,raw:{header:o,payload:c}}=Rc(a);s!=null&&s.allowExpired||f_(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:l},error:null}}const g=g_(n.alg),f=await crypto.subtle.importKey("jwk",u,g,!0,["verify"]);if(!await crypto.subtle.verify(g,f,l,t_(`${o}.${c}`)))throw new Fu("Invalid JWT signature");return{data:{claims:i,header:n,signature:l},error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}}}Ei.nextInstanceID=0;const Y_=Ei;class F_ extends Y_{constructor(t){super(t)}}class K_{constructor(t,s,a){var n,i,l;this.supabaseUrl=t,this.supabaseKey=s;const o=VN(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:DN,realtime:UN,auth:Object.assign(Object.assign({},MN),{storageKey:c}),global:RN},g=qN(a??{},u);this.storageKey=(n=g.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=$N(s,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Pw(new URL("rest/v1",o).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new TN(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Mw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,s;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:l,flowType:o,lock:c,debug:u},g,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F_({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),g),storageKey:l,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,userStorage:i,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const X_=(e,t,s)=>new K_(e,t,s);function Q_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Q_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fy="https://mzfqbhumzvajrbohyjgz.supabase.co",J_="sb_publishable_9x-dJknR6kXLpGnGR9HwkA_RgG6k-hr";console.log(" Supabase Configuration:");console.log("URL:",fy);console.log("Key exists:",!0);const V=X_(fy,J_,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}});function ls(){const[e,t]=v.useState(null),[s,a]=v.useState(!0),[n,i]=v.useState(!1);v.useEffect(()=>{let d=!0;(async()=>{try{const{data:{session:b}}=await V.auth.getSession();if(b!=null&&b.user&&b.user.email_confirmed_at){const{data:j}=await V.from("users").select("*").eq("email",b.user.email).eq("status","active").single();j&&d&&t(j)}else{const j=localStorage.getItem("user_data");if(j&&d){const y=JSON.parse(j);t(y)}}}catch(b){console.warn("Session check failed:",b),localStorage.removeItem("user_data"),d&&t(null)}finally{d&&(a(!1),i(!0))}})();const{data:{subscription:w}}=V.auth.onAuthStateChange(async(b,j)=>{if(d)if(b==="SIGNED_IN"&&(j!=null&&j.user.email_confirmed_at)){const{data:y}=await V.from("users").select("*").eq("email",j.user.email).eq("status","active").single();y&&(localStorage.setItem("user_data",JSON.stringify(y)),t(y))}else b==="SIGNED_OUT"&&(localStorage.removeItem("user_data"),t(null))});return()=>{d=!1,w.unsubscribe()}},[]);const l=async(d,p)=>{try{a(!0);const{data:w,error:b}=await V.auth.signInWithPassword({email:d.trim().toLowerCase(),password:p});if(b)return{data:null,error:b};if(!w.user)return{data:null,error:new Error("Invalid credentials")};if(!w.user.email_confirmed_at)return{data:null,error:new Error("Please verify your email before signing in")};const{data:j,error:y}=await V.from("users").select("*").eq("email",d.trim().toLowerCase()).eq("status","active").single();return y||!j?(await V.auth.signOut(),{data:null,error:new Error("User account not found or inactive")}):(localStorage.setItem("user_data",JSON.stringify(j)),t(j),{data:j,error:null})}catch(w){return{data:null,error:w}}finally{a(!1)}},o=async(d,p,w,b)=>{var j,y;try{if(a(!0),!w)return{data:null,error:new Error("User metadata is required")};const x=b||(window.location.hostname==="localhost"?"http://localhost:5173/login?verified=true":"https://voiter.in/login?verified=true"),{data:h,error:m}=await V.auth.signUp({email:d.trim().toLowerCase(),password:p,options:{emailRedirectTo:x,data:{name:w.name,phone:w.phone}}});if(m)return{data:null,error:m};const{data:N,error:S}=await V.from("users").insert([{auth_id:(j=h.user)==null?void 0:j.id,name:w.name.trim(),email:d.trim().toLowerCase(),phone:((y=w.phone)==null?void 0:y.trim())||null,role:"buyer",status:"pending",created_at:new Date().toISOString()}]).select().single();return S?{data:null,error:S}:{data:{user:N,session:h.session},error:null}}catch(x){return{data:null,error:x}}finally{a(!1)}},c=async()=>{a(!0),await V.auth.signOut(),localStorage.removeItem("user_data"),t(null),a(!1)},u=async d=>{if(!e)return{data:null,error:new Error("Not authenticated")};try{a(!0);const{data:p,error:w}=await V.from("users").update(d).eq("id",e.id).select().single();return w?{data:null,error:w}:(localStorage.setItem("user_data",JSON.stringify(p)),t(p),{data:p,error:null})}catch(p){return{data:null,error:p}}finally{a(!1)}};return{user:e,loading:s,initialized:n,signIn:l,signUp:o,signOut:c,updateProfile:u,changePassword:async(d,p)=>{if(!e)return{data:null,error:new Error("Not authenticated")};try{a(!0);const{error:w}=await V.auth.updateUser({password:p});return w?{data:null,error:w}:{data:{success:!0},error:null}}catch(w){return{data:null,error:w}}finally{a(!1)}},uploadProfilePicture:async d=>{if(!e)return{data:null,error:new Error("Not authenticated")};try{if(a(!0),!d.type.startsWith("image/"))return{data:null,error:new Error("Please select an image file")};if(d.size>5*1024*1024)return{data:null,error:new Error("Image size must be less than 5MB")};const p=d.name.split(".").pop(),b=`profile-pictures/${`${e.id}-${Date.now()}.${p}`}`,{data:j,error:y}=await V.storage.from("user-uploads").upload(b,d,{cacheControl:"3600",upsert:!1});if(y)return{data:null,error:y};const{data:{publicUrl:x}}=V.storage.from("user-uploads").getPublicUrl(b),h=await u({profile_picture:x});return h.error?{data:null,error:h.error}:{data:{url:x},error:null}}catch(p){return{data:null,error:p}}finally{a(!1)}}}}function Tf({className:e=""}){const{user:t}=ls(),[s,a]=v.useState([]),[n,i]=v.useState(!1),[l,o]=v.useState(!1);v.useEffect(()=>{t&&(c(),u())},[t]);const c=async()=>{if(t)try{o(!0);const{data:x,error:h}=await V.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);if(h)throw h;x&&a(x)}catch(x){console.error("Error fetching notifications:",x)}finally{o(!1)}},u=()=>{if(!t)return;const x=V.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},h=>{const m=h.new;a(N=>[m,...N.slice(0,19)]),Notification.permission==="granted"&&new Notification("Voiture.in",{body:m.message,icon:"/favicon.ico"})}).subscribe();return()=>{x.unsubscribe()}},g=async x=>{try{const{error:h}=await V.from("notifications").update({status:"seen"}).eq("id",x);h||a(m=>m.map(N=>N.id===x?{...N,status:"seen"}:N))}catch(h){console.error("Error marking notification as read:",h)}},f=async()=>{if(t)try{const{error:x}=await V.from("notifications").update({status:"seen"}).eq("user_id",t.id).eq("status","unseen");x||a(h=>h.map(m=>({...m,status:"seen"})))}catch(x){console.error("Error marking all notifications as read:",x)}},d=async x=>{try{const{error:h}=await V.from("notifications").delete().eq("id",x);h||a(m=>m.filter(N=>N.id!==x))}catch(h){console.error("Error deleting notification:",h)}},p=x=>{switch(x){case"vehicle_match":return"ri-car-line";case"vehicle_inquiry":return"ri-message-2-line";case"requirement_match":return"ri-file-list-line";case"system":return"ri-information-line";default:return"ri-notification-2-line"}},w=x=>{switch(x){case"vehicle_match":return"text-green-600 bg-green-100";case"vehicle_inquiry":return"text-blue-600 bg-blue-100";case"requirement_match":return"text-purple-600 bg-purple-100";case"system":return"text-gray-600 bg-gray-100";default:return"text-blue-600 bg-blue-100"}},b=x=>{const h=new Date(x),N=new Date().getTime()-h.getTime(),S=Math.floor(N/6e4),_=Math.floor(N/36e5),T=Math.floor(N/864e5);return S<1?"Just now":S<60?`${S}m ago`:_<24?`${_}h ago`:T<7?`${T}d ago`:h.toLocaleDateString()},j=x=>typeof x=="string"?x:typeof x=="object"&&x!==null?x.for_user&&x.vehicle_title?`New match for ${x.vehicle_title}`:x.text?x.text:x.content?x.content:"New notification":String(x||"New notification"),y=s.filter(x=>x.status==="unseen").length;return t?r.jsxs("div",{className:`relative ${e}`,children:[r.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:[r.jsx("i",{className:"ri-notification-2-line text-xl"}),y>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:y>99?"99+":y})]}),n&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-20 max-h-96 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),y>0&&r.jsx("button",{onClick:f,className:"text-blue-600 hover:text-blue-700 text-sm font-medium cursor-pointer",children:"Mark all read"})]})}),r.jsx("div",{className:"overflow-y-auto max-h-80",children:l?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):s.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("i",{className:"ri-notification-2-line text-gray-300 text-3xl mb-2"}),r.jsx("p",{className:"text-gray-600",children:"No notifications yet"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:s.map(x=>r.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${x.status==="unseen"?"bg-blue-50":""}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w(x.related_type)}`,children:r.jsx("i",{className:`${p(x.related_type)} text-sm`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm text-gray-900 leading-relaxed",children:j(x.message)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b(x.created_at)})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[x.status==="unseen"&&r.jsx("button",{onClick:()=>g(x.id),className:"text-blue-600 hover:text-blue-700 p-1 cursor-pointer",title:"Mark as read",children:r.jsx("i",{className:"ri-check-line text-xs"})}),r.jsx("button",{onClick:()=>d(x.id),className:"text-gray-400 hover:text-red-600 p-1 cursor-pointer",title:"Delete",children:r.jsx("i",{className:"ri-close-line text-xs"})})]})]})},x.id))})})]})]})]}):null}function Ci({currentPicture:e,name:t="User",size:s="md",editable:a=!1,onUpdate:n,onUpload:i,src:l}){const[o,c]=v.useState(!1),[u,g]=v.useState(0),[f,d]=v.useState(null),p=v.useRef(null),w={sm:"w-8 h-8 text-sm",md:"w-12 h-12 text-lg",lg:"w-16 h-16 text-xl",xl:"w-24 h-24 text-2xl"},b=m=>{var S;const N=(S=m.target.files)==null?void 0:S[0];!N||!i||(d(null),j(N))},j=async m=>{var N;if(i)try{c(!0),g(25);const S=await i(m);if(g(75),S.error)throw S.error;(N=S.data)!=null&&N.url&&(g(100),n&&n(S.data.url),console.log(" Profile picture updated successfully"))}catch(S){console.error(" Error uploading profile picture:",S.message),d(S.message||"Failed to upload profile picture")}finally{c(!1),setTimeout(()=>{g(0),d(null)},2e3)}},y=m=>typeof m!="string"?"U":m.trim().split(" ").filter(N=>N.length>0).map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2)||"U",x=l||e,h=t||"User";return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`${w[s]} rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold relative`,children:[x?r.jsx("img",{src:x,alt:h,className:"w-full h-full object-cover",onError:m=>{var S;const N=m.target;N.style.display="none",(S=N.nextElementSibling)==null||S.classList.remove("hidden")}}):r.jsx("span",{children:y(h)}),r.jsx("span",{className:`absolute inset-0 flex items-center justify-center ${x?"hidden":""}`,children:y(h)}),o&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xs",children:u<100?`${u}%`:""})})]}),a&&i&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{var m;return(m=p.current)==null?void 0:m.click()},disabled:o,className:"absolute -bottom-1 -right-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-full p-1.5 shadow-lg transition-colors cursor-pointer",title:"Change profile picture",children:r.jsx("i",{className:"ri-camera-line text-xs"})}),r.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:b,className:"hidden"})]}),f&&r.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-red-50 border border-red-200 text-red-600 text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:f})]})}function Gt(){const{user:e,signOut:t,initialized:s}=ls(),a=tt(),n=Oa(),[i,l]=v.useState(!1),[o,c]=v.useState(!1);v.useEffect(()=>{l(!1),c(!1)},[n.pathname]);const u=async()=>{try{await t(),a("/")}catch(w){console.error("Sign out error:",w)}finally{c(!1),l(!1)}},g=w=>n.pathname===w||n.pathname.startsWith(w+"/"),f=[{path:"/",label:"Home",icon:"ri-home-line"},{path:"/vehicles",label:"Browse Vehicles",icon:"ri-car-line"},{path:"/requirements",label:"Requirements",icon:"ri-file-list-line"}],d=()=>{a(e?"/vehicles/post":"/login"),l(!1),c(!1)},p=()=>{l(!1),c(!1)};return r.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:r.jsxs("div",{className:"w-full px-3 sm:px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[r.jsx(se,{to:"/",className:"flex items-center flex-shrink-0",onClick:p,children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-7 sm:h-8 lg:h-10 w-auto object-contain"})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-4 xl:space-x-6",children:f.map(w=>r.jsxs(se,{to:w.path,className:`flex items-center space-x-1 px-2 xl:px-3 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer ${g(w.path)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[r.jsx("i",{className:w.icon}),r.jsx("span",{className:"hidden xl:inline",children:w.label}),r.jsx("span",{className:"xl:hidden",children:w.label.split(" ")[0]})]},w.path))}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[r.jsxs("button",{onClick:d,className:"hidden sm:flex bg-blue-600 hover:bg-blue-700 text-white px-2 sm:px-3 lg:px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap items-center space-x-1 text-xs sm:text-sm",children:[r.jsx("i",{className:"ri-add-line text-sm"}),r.jsx("span",{className:"hidden md:inline",children:"Post Vehicle"}),r.jsx("span",{className:"md:hidden",children:"Post"})]}),s&&e?r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(Tf,{})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>c(!o),className:"flex items-center space-x-1 sm:space-x-2 p-1 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[r.jsx(Ci,{src:e.profile_picture||null,name:e.name,size:"sm"}),r.jsxs("div",{className:"hidden lg:block text-left max-w-24 xl:max-w-none",children:[r.jsx("p",{className:"text-xs xl:text-sm font-medium text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]}),r.jsx("i",{className:"ri-arrow-down-s-line text-gray-400 text-sm"})]}),o&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 sm:w-64 bg-white rounded-xl shadow-xl border border-gray-200 z-20 py-2",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 lg:hidden",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.name}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.email})]}),r.jsxs("div",{className:"py-2",children:[r.jsxs(se,{to:"/dashboard",onClick:()=>c(!1),className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors cursor-pointer text-sm",children:[r.jsx("i",{className:"ri-dashboard-line w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs("button",{onClick:d,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors cursor-pointer w-full text-left text-sm",children:[r.jsx("i",{className:"ri-car-line w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:"Post Vehicle"})]})]}),r.jsx("div",{className:"border-t border-gray-200 py-2",children:r.jsxs("button",{onClick:u,className:"flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 transition-colors cursor-pointer w-full text-left text-sm",children:[r.jsx("i",{className:"ri-logout-circle-line w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:"Sign Out"})]})})]})]})]})]}):s?r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[r.jsx(se,{to:"/login",className:"text-gray-700 hover:text-blue-600 font-medium transition-colors cursor-pointer text-xs sm:text-sm px-2 py-1",children:"Sign In"}),r.jsx(se,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-2 sm:px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-xs sm:text-sm",children:"Sign Up"})]}):r.jsx("div",{className:"w-20 h-8 bg-gray-200 animate-pulse rounded"}),r.jsx("button",{onClick:()=>l(!i),className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors cursor-pointer ml-1",children:r.jsx("i",{className:`${i?"ri-close-line":"ri-menu-line"} text-lg`})})]})]}),i&&r.jsx("div",{className:"lg:hidden border-t border-gray-200 py-3 bg-white",children:r.jsxs("nav",{className:"space-y-1",children:[f.map(w=>r.jsxs(se,{to:w.path,onClick:p,className:`flex items-center space-x-3 px-3 py-3 rounded-lg font-medium transition-colors cursor-pointer text-sm ${g(w.path)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[r.jsx("i",{className:w.icon}),r.jsx("span",{children:w.label})]},w.path)),s&&e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 mb-2",children:[r.jsx(Ci,{src:e.profile_picture||null,name:e.name,size:"sm"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.email})]})]})}),r.jsxs(se,{to:"/dashboard",onClick:p,className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-700 hover:text-blue-600 hover:bg-gray-50 font-medium transition-colors cursor-pointer text-sm",children:[r.jsx("i",{className:"ri-dashboard-line"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs("button",{onClick:d,className:"flex items-center space-x-3 px-3 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium transition-colors cursor-pointer w-full text-left text-sm",children:[r.jsx("i",{className:"ri-add-line"}),r.jsx("span",{children:"Post Vehicle"})]}),r.jsx("div",{className:"md:hidden px-3 py-2",children:r.jsx(Tf,{})}),r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("button",{onClick:u,className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-red-600 hover:bg-red-50 font-medium transition-colors cursor-pointer w-full text-left text-sm",children:[r.jsx("i",{className:"ri-logout-circle-line"}),r.jsx("span",{children:"Sign Out"})]})})]}):s?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3 space-y-1",children:[r.jsxs(se,{to:"/login",onClick:p,className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-700 hover:text-blue-600 hover:bg-gray-50 font-medium transition-colors cursor-pointer text-sm",children:[r.jsx("i",{className:"ri-login-circle-line"}),r.jsx("span",{children:"Sign In"})]}),r.jsxs(se,{to:"/register",onClick:p,className:"flex items-center space-x-3 px-3 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium transition-colors cursor-pointer text-sm",children:[r.jsx("i",{className:"ri-user-add-line"}),r.jsx("span",{children:"Sign Up"})]})]})}):r.jsx("div",{className:"px-3 py-3",children:r.jsx("div",{className:"h-8 bg-gray-200 animate-pulse rounded"})})]})})]})})}function It(){const e=new Date().getFullYear(),t={company:[{name:"About Us",href:"/about"},{name:"Contact",href:"/contact-support"},{name:"Careers",href:"/careers"},{name:"Press",href:"/press"}],services:[{name:"Browse Vehicles",href:"/vehicles"},{name:"Post Vehicle",href:"/vehicles/post"},{name:"Requirements",href:"/requirements"},{name:"Dashboard",href:"/dashboard"}],support:[{name:"Help Center",href:"/help"},{name:"Safety Tips",href:"/safety"},{name:"Terms of Service",href:"/terms"},{name:"Privacy Policy",href:"/privacy"}]};return r.jsx("footer",{className:"bg-gray-900 text-white",children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 lg:gap-12",children:[r.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[r.jsx(se,{to:"/",className:"flex items-center mb-4 sm:mb-6",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-8 sm:h-10 w-auto object-contain"})}),r.jsx("p",{className:"text-gray-300 mb-4 sm:mb-6 text-sm sm:text-base leading-relaxed",children:"Your trusted platform for buying and selling premium vehicles. Connect with verified dealers and individual sellers across India."}),r.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("i",{className:"ri-facebook-fill text-lg sm:text-xl"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("i",{className:"ri-twitter-fill text-lg sm:text-xl"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("i",{className:"ri-instagram-line text-lg sm:text-xl"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("i",{className:"ri-linkedin-fill text-lg sm:text-xl"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Company"}),r.jsx("ul",{className:"space-y-2 sm:space-y-3",children:t.company.map(s=>r.jsx("li",{children:r.jsx(se,{to:s.href,className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:s.name})},s.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Services"}),r.jsx("ul",{className:"space-y-2 sm:space-y-3",children:t.services.map(s=>r.jsx("li",{children:r.jsx(se,{to:s.href,className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:s.name})},s.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Support"}),r.jsx("ul",{className:"space-y-2 sm:space-y-3",children:t.support.map(s=>r.jsx("li",{children:r.jsx(se,{to:s.href,className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:s.name})},s.name))})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-8 sm:mt-12 pt-6 sm:pt-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 sm:gap-6",children:[r.jsxs("div",{className:"lg:max-w-md",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"Stay Updated"}),r.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Get the latest vehicle listings and market updates delivered to your inbox."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 lg:max-w-md lg:flex-1",children:[r.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400 text-sm sm:text-base"}),r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base",children:"Subscribe"})]})]})}),r.jsx("div",{className:"border-t border-gray-800 mt-6 sm:mt-8 pt-6 sm:pt-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[" ",e," Voiture.in. All rights reserved."]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6",children:[r.jsx(se,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm",children:"Terms"}),r.jsx(se,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm",children:"Privacy"}),r.jsx(se,{to:"/cookies",className:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm",children:"Cookies"}),r.jsx("a",{href:"https://readdy.ai/?origin=logo",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm",children:"Website Builder"})]})]})})]})})})}function Z_({onPostRequirement:e}){const t=tt();return r.jsx("div",{className:"relative min-h-screen bg-cover bg-center bg-no-repeat flex items-center",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://readdy.ai/api/search-image?query=Modern%20luxury%20car%20showroom%20with%20premium%20vehicles%20displayed%20in%20bright%20lighting%2C%20sleek%20automotive%20dealership%20interior%2C%20professional%20photography%2C%20clean%20minimalist%20design%2C%20glass%20windows%2C%20contemporary%20architecture&width=1920&height=1080&seq=hero_bg&orientation=landscape')"},children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"text-left text-white",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold mb-4 sm:mb-6 leading-tight",children:["Find Your Perfect",r.jsx("br",{}),r.jsx("span",{className:"text-blue-400",children:"Voiture"})]}),r.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-6 sm:mb-8 max-w-xl lg:max-w-2xl opacity-90 leading-relaxed",children:"Discover thousands of premium cars and bikes from verified dealers and individual sellers. Your dream ride is just a click away."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsxs("button",{onClick:()=>t("/vehicles"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 lg:px-8 py-3 sm:py-4 rounded-lg text-sm sm:text-base lg:text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer flex items-center justify-center",children:[r.jsx("i",{className:"ri-search-line mr-2"}),"Browse Vehicles"]}),r.jsxs("button",{onClick:e,className:"bg-transparent border-2 border-white hover:bg-white hover:text-gray-900 text-white px-4 sm:px-6 lg:px-8 py-3 sm:py-4 rounded-lg text-sm sm:text-base lg:text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer flex items-center justify-center",children:[r.jsx("i",{className:"ri-add-line mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Post Your Requirement"}),r.jsx("span",{className:"sm:hidden",children:"Post Requirement"})]})]})]})})})})}function W_(){const e=tt(),[t,s]=v.useState("all"),[a,n]=v.useState(""),[i,l]=v.useState(""),[o,c]=v.useState(""),[u,g]=v.useState(!1),[f,d]=v.useState(!1),p={car:{Toyota:["Innova","Fortuner","Camry","Corolla","Prius","Etios","Yaris"],Honda:["City","Civic","Accord","CR-V","Jazz","WR-V","Amaze"],BMW:["3 Series","5 Series","X1","X3","X5","Z4","7 Series"],Mercedes:["C-Class","E-Class","GLC","GLE","A-Class","S-Class"],Audi:["A3","A4","A6","Q3","Q5","Q7","A8"],Ford:["EcoSport","Endeavour","Figo","Aspire","Mustang","Freestyle"],Hyundai:["i20","Creta","Verna","Venue","Tucson","Elantra"],"Maruti Suzuki":["Alto","Swift","Baleno","Dzire","Vitara Brezza","Ertiga","Ciaz"]},bike:{Honda:["Activa","CB Shine","Dio","CBR","Unicorn","Grazia"],Yamaha:["FZ","R15","MT-15","Fascino","Ray ZR","FZ25"],Bajaj:["Pulsar","Avenger","Dominar","CT100","Platina","KTM Duke"],TVS:["Apache","Jupiter","XL100","Ntorq","Sport","Radeon"],KTM:["Duke 200","Duke 390","RC 200","RC 390","Adventure 390"],"Royal Enfield":["Classic 350","Bullet 350","Himalayan","Interceptor 650","Continental GT","Meteor 350"],Hero:["Splendor","HF Deluxe","Passion Pro","Xtreme","Maestro","Destini"],Suzuki:["Access","Gixxer","Burgman","Hayabusa","V-Strom"]}},w=Object.keys(p.car),b=Object.keys(p.bike),j=[...new Set([...w,...b])].sort(),x=(t==="all"?j:t==="bike"?b:w).filter(O=>O.toLowerCase().includes(a.toLowerCase())),N=(()=>{if(!a)return[];const O=[];if(t==="all"){const M=p.car[a];M&&O.push(...M);const z=p.bike[a];z&&O.push(...z)}else if(t==="car"){const M=p.car[a];M&&O.push(...M)}else if(t==="bike"){const M=p.bike[a];M&&O.push(...M)}return[...new Set(O)]})().filter(O=>O.toLowerCase().includes(i.toLowerCase())),S=O=>{n(O),g(!0)},_=O=>{n(O),l(""),g(!1)},T=O=>{l(O),d(!0)},D=O=>{l(O),d(!1)},L=O=>{s(O),n(""),l("")},R=()=>{const O=new URLSearchParams;t!=="all"&&O.set("vehicleType",t),a&&O.set("make",a),i&&O.set("model",i),o&&O.set("search",o),e(`/vehicles?${O.toString()}`)};return r.jsx("div",{className:"bg-gray-50 py-12 sm:py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Find Your Vehicle"}),r.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Use our advanced filters to find exactly what you're looking for"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-8 relative",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>L("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${t==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),r.jsxs("button",{onClick:()=>L("car"),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${t==="car"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-car-line mr-1"}),"Cars"]}),r.jsxs("button",{onClick:()=>L("bike"),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${t==="bike"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-motorbike-line mr-1"}),"Bikes"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make"}),r.jsx("input",{type:"text",value:a,onChange:O=>S(O.target.value),onFocus:()=>g(!0),onBlur:()=>setTimeout(()=>g(!1),200),placeholder:"Type or select make",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),u&&x.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:x.map((O,M)=>r.jsx("button",{type:"button",onClick:()=>_(O),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:O},M))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),r.jsx("input",{type:"text",value:i,onChange:O=>T(O.target.value),onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:"Type or select model",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),f&&N.length>0&&a&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:N.map((O,M)=>r.jsx("button",{type:"button",onClick:()=>D(O),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:O},M))})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:R,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base",children:[r.jsx("i",{className:"ri-search-line mr-2"}),"Search"]})})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Vehicle"}),r.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),placeholder:"Search by vehicle name, model, features, or any specific details...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Example: "Swift Dzire", "automatic transmission", "sunroof", "diesel engine"'})]})]})]})})}function eS(){const[e,t]=v.useState([]),[s,a]=v.useState(!0),[n,i]=v.useState(null);v.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),i(null);const{data:c,error:u}=await V.from("vehicle_listings").select(`
          id,
          title,
          make,
          model,
          year,
          price,
          images,
          location,
          mileage,
          fuel_type,
          premium
        `).eq("status","active").order("created_at",{ascending:!1}).limit(6);if(u)throw u;t(c||[])}catch(c){console.error("Error fetching vehicles:",c.message),i("Failed to load vehicles")}finally{a(!1)}},o=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(c);return s?r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured Vehicles"}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover our handpicked selection of premium vehicles"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((c,u)=>r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-64 bg-gray-300"}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),r.jsx("div",{className:"h-6 bg-gray-300 rounded mb-4"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"}),r.jsx("div",{className:"h-6 bg-gray-300 rounded w-24"})]})]})]},u))})]})}):n?r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 max-w-md mx-auto",children:[r.jsx("i",{className:"ri-error-warning-line text-4xl text-red-500 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Failed to Load Vehicles"}),r.jsx("p",{className:"text-red-600 mb-4",children:n}),r.jsxs("button",{onClick:l,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-refresh-line mr-2"}),"Try Again"]})]})})})}):r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured Vehicles"}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover our handpicked selection of premium vehicles"})]}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-car-line text-6xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Vehicles Available"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"There are currently no featured vehicles to display."}),r.jsxs(se,{to:"/vehicles/post",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Post Your Vehicle"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>r.jsxs(se,{to:`/vehicles/${c.id}`,className:"group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer",children:[r.jsxs("div",{className:"relative h-64 overflow-hidden",children:[c.images&&c.images.length>0?r.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:u=>{const g=u.target;g.src=`https://readdy.ai/api/search-image?query=modern%20$%7Bvehicle.make%7D%20$%7Bvehicle.model%7D%20$%7Bvehicle.year%7D%20car%20elegant%20studio%20lighting%20professional%20photography%20clean%20background%20automotive&width=400&height=300&seq=${c.id}&orientation=landscape`}}):r.jsx("img",{src:`https://readdy.ai/api/search-image?query=modern%20$%7Bvehicle.make%7D%20$%7Bvehicle.model%7D%20$%7Bvehicle.year%7D%20car%20elegant%20studio%20lighting%20professional%20photography%20clean%20background%20automotive&width=400&height=300&seq=${c.id}&orientation=landscape`,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),c.premium&&r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[r.jsx("i",{className:"ri-vip-crown-line mr-1"}),"Premium"]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:c.title}),r.jsx("span",{className:"text-xl font-bold text-blue-600",children:o(c.price)})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[r.jsx("i",{className:"ri-calendar-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:c.year}),c.mileage&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-2",children:""}),r.jsx("i",{className:"ri-dashboard-line mr-1 w-4 h-4 flex items-center justify-center"}),r.jsxs("span",{children:[c.mileage.toLocaleString()," km"]})]})]}),c.fuel_type&&r.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[r.jsx("i",{className:"ri-gas-station-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{className:"capitalize",children:c.fuel_type})]}),c.location&&r.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[r.jsx("i",{className:"ri-map-pin-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:c.location})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"View Details"}),r.jsx("i",{className:"ri-arrow-right-line text-blue-600 group-hover:translate-x-1 transition-transform"})]})]})]},c.id))}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs(se,{to:"/vehicles",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:["View All Vehicles",r.jsx("i",{className:"ri-arrow-right-line ml-2"})]})})]})})}function fr(){const e=async m=>{try{console.log(" Starting activity log:",m.action);const{data:{session:N}}=await V.auth.getSession();if(!N){console.warn(" No session found for activity logging");return}const{data:{user:S}}=await V.auth.getUser();if(!S){console.warn(" No user found for activity logging");return}console.log(" User found for logging:",S.email);const{data:_,error:T}=await V.from("admin_users").select("*").eq("email",S.email).eq("status","active").single(),{data:D,error:L}=await V.from("users").select("*").eq("email",S.email).single(),R=!!_&&!T,O=R?_:D;if(console.log(" User type determined:",{isAdmin:R,hasAdminUser:!!_,hasRegularUser:!!D,adminError:T==null?void 0:T.message,userError:L==null?void 0:L.message}),!O){console.warn(" User not found in database for activity logging");return}const M=navigator.userAgent||"Unknown",z=new Date().toISOString(),B={action:m.action,target_type:m.target_type||null,target_id:m.target_id||null,details:{...m.details,user_name:O.name,user_email:O.email,timestamp:z,user_agent:M,action_context:m.user_type||(R?"admin":"user")},user_type:R?"admin":"user",admin_id:R?O.id:null,user_id:R?null:O.id,user_name:O.name,user_email:O.email,ip_address:null,user_agent:M,created_at:z};console.log(" Prepared log entry:",{action:B.action,user_type:B.user_type,user_name:B.user_name,target_type:B.target_type});const{data:$,error:P}=await V.from("activity_logs").insert([B]).select().single();if(P){console.warn(" Direct insert failed, trying edge function:",P.message);try{const G=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/log-activity",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify({...m,user_type:R?"admin":"user"})});if(G.ok){const ae=await G.json();console.log(" Activity logged via edge function:",ae)}else{const ae=await G.text();console.warn(" Edge function also failed:",ae)}}catch(G){console.warn(" Edge function error:",G)}}else console.log(" Activity logged successfully via direct insert:",$)}catch(N){console.warn(" Activity logging error:",N)}},t=(m,N,S,_)=>{e({action:m,target_type:N,target_id:S,details:{..._,action_type:"admin_action",timestamp:new Date().toISOString()},user_type:"admin"})};return{logActivity:e,logAdminAction:t,logVehicleApproval:(m,N,S)=>{t(`Vehicle ${S?"approved":"rejected"}: ${N.title}`,"vehicle_listing",m,{action_type:S?"vehicle_approval":"vehicle_rejection",vehicle_title:N.title,vehicle_make:N.make,vehicle_model:N.model,vehicle_price:N.price,seller_name:N.seller_name,seller_email:N.seller_email})},logVehicleEdit:(m,N,S)=>{t(`Vehicle edited: ${N.title}`,"vehicle_listing",m,{action_type:"vehicle_edit",vehicle_title:N.title,changes:S,edited_by_admin:!0})},logRequirementEdit:(m,N,S)=>{t(`Requirement edited: ${N.vehicle_type} - ${N.make||"Any"}`,"requirement",m,{action_type:"requirement_edit",vehicle_type:N.vehicle_type,make:N.make,changes:S,edited_by_admin:!0})},logAdminLogin:m=>{t(`Admin logged in: ${m.name}`,"admin_user",m.id,{action_type:"admin_login",admin_name:m.name,admin_email:m.email,is_super_admin:m.is_super_admin})},logDataDeletion:(m,N,S)=>{t(`${m} deleted: ${S.title||S.name||N}`,m,N,{action_type:"data_deletion",deleted_item_type:m,deleted_item_details:S})},logUserRegistration:(m,N)=>{e({action:`New user registered: ${N.name}`,target_type:"user",target_id:m,details:{action_type:"registration",user_name:N.name,user_email:N.email,user_phone:N.phone,user_city:N.city},user_type:"user"})},logUserLogin:m=>{e({action:`User logged in: ${m.name}`,target_type:"user",target_id:m.id,details:{action_type:"login",user_name:m.name,user_email:m.email},user_type:"user"})},logVehiclePosted:(m,N)=>{e({action:`Vehicle posted: ${N.title}`,target_type:"vehicle_listing",target_id:m,details:{action_type:"vehicle_post",vehicle_title:N.title,vehicle_make:N.make,vehicle_model:N.model,vehicle_price:N.price,vehicle_year:N.year,location:N.location},user_type:"user"})},logVehicleUpdated:(m,N,S)=>{e({action:`Vehicle updated: ${N.title}`,target_type:"vehicle_listing",target_id:m,details:{action_type:"vehicle_update",vehicle_title:N.title,changes:S},user_type:"user"})},logVehicleDeleted:(m,N)=>{e({action:`Vehicle deleted: ${N.title}`,target_type:"vehicle_listing",target_id:m,details:{action_type:"vehicle_delete",vehicle_title:N.title,vehicle_make:N.make,vehicle_model:N.model},user_type:"user"})},logRequirementPosted:(m,N)=>{e({action:`Requirement posted: ${N.vehicle_type} - ${N.make}`,target_type:"requirement",target_id:m,details:{action_type:"requirement_post",vehicle_type:N.vehicle_type,make:N.make,location:N.location,price_range_min:N.price_range_min,price_range_max:N.price_range_max},user_type:"user"})},logRequirementUpdated:(m,N)=>{e({action:`Requirement updated: ${N.vehicle_type} - ${N.make}`,target_type:"requirement",target_id:m,details:{action_type:"requirement_update",vehicle_type:N.vehicle_type,make:N.make,location:N.location},user_type:"user"})},logFavoriteAdded:(m,N)=>{e({action:`Vehicle added to favorites: ${N.title}`,target_type:"favorite",target_id:m,details:{action_type:"favorite_add",vehicle_title:N.title,vehicle_make:N.make,vehicle_model:N.model},user_type:"user"})},logFavoriteRemoved:(m,N)=>{e({action:`Vehicle removed from favorites: ${N.title}`,target_type:"favorite",target_id:m,details:{action_type:"favorite_remove",vehicle_title:N.title,vehicle_make:N.make,vehicle_model:N.model},user_type:"user"})},logPasswordChange:m=>{e({action:"User changed password",target_type:"user",target_id:m,details:{action_type:"password_change"},user_type:"user"})},logProfileUpdate:(m,N,S)=>{e({action:`Profile updated: ${N.name}`,target_type:"user",target_id:m,details:{action_type:"profile_update",user_name:N.name,changes:S},user_type:"user"})},logContactFormSubmission:(m,N)=>{e({action:`Contact form submitted: ${m}`,target_type:"contact_form",target_id:null,details:{action_type:"contact_form_submit",form_type:m,...N},user_type:"user"})},logPageView:(m,N)=>{e({action:`Page viewed: ${m}`,target_type:"page_view",target_id:null,details:{action_type:"page_view",page_name:m,page_url:N},user_type:"user"})}}}function gy({isOpen:e,onClose:t,onSuccess:s}){const{user:a}=ls(),[n,i]=v.useState(!1),[l,o]=v.useState(null),[c,u]=v.useState(!1),[g,f]=v.useState(!1),[d,p]=v.useState({vehicleType:"car",make:"",model:"",yearFrom:"",yearTo:"",priceFrom:"",priceTo:"",location:"",description:"",fullName:"",contactNumber:"",email:(a==null?void 0:a.email)||"",urgency:"moderate",paymentMethod:"cash",inspectionLocation:"",additionalRequirements:"",budgetFlexibility:"10",timeframe:"1-month"}),b={car:{Toyota:["Innova","Fortuner","Camry","Corolla","Prius","Etios","Yaris"],Honda:["City","Civic","Accord","CR-V","Jazz","WR-V","Amaze"],Ford:["EcoSport","Endeavour","Figo","Aspire","Mustang","Freestyle"],BMW:["3 Series","5 Series","X1","X3","X5","Z4","7 Series"],Mercedes:["C-Class","E-Class","GLC","GLE","A-Class","S-Class"],Audi:["A3","A4","A6","Q3","Q5","Q7","A8"],"Maruti Suzuki":["Alto","Swift","Baleno","Dzire","Vitara Brezza","Ertiga","Ciaz"],Mahindra:["Scorpio","XUV500","Bolero","Thar","KUV100","XUV300"],Tata:["Nexon","Harrier","Safari","Altroz","Tigor","Tiago"],Hyundai:["i20","Creta","Verna","Venue","Tucson","Elantra"],Kia:["Seltos","Sonet","Carnival","Rio"],Nissan:["Magnite","Kicks","Terrano","Sunny"],Chevrolet:["Beat","Spark","Cruze","Trailblazer"],Volkswagen:["Polo","Vento","Tiguan","Passat"],Skoda:["Rapid","Octavia","Superb","Kodiaq"]},bike:{"Royal Enfield":["Classic 350","Bullet 350","Himalayan","Interceptor 650","Continental GT","Meteor 350"],Bajaj:["Pulsar","Avenger","Dominar","CT100","Platina","KTM Duke"],KTM:["Duke 200","Duke 390","RC 200","RC 390","Adventure 390"],Yamaha:["FZ","R15","MT-15","Fascino","Ray ZR","FZ25"],Hero:["Splendor","HF Deluxe","Passion Pro","Xtreme","Maestro","Destini"],TVS:["Apache","Jupiter","XL100","Ntorq","Sport","Radeon"],Honda:["Activa","CB Shine","Dio","CBR","Unicorn","Grazia"],Suzuki:["Access","Gixxer","Burgman","Hayabusa","V-Strom"],Kawasaki:["Ninja 300","Ninja 650","Z650","Versys 650"],"Harley Davidson":["Iron 883","Street 750","Forty Eight","Street Bob"],BMW:["G310R","G310GS","S1000RR","R1250GS"],Ducati:["Panigale","Monster","Scrambler","Multistrada"]}}[d.vehicleType],j=Object.keys(b),y=d.make?b[d.make]||[]:[],x=T=>{p({...d,make:T,model:""}),u(!1)},h=T=>{p({...d,model:T}),f(!1)},m=j.filter(T=>T.toLowerCase().includes(d.make.toLowerCase())),N=y.filter(T=>T.toLowerCase().includes(d.model.toLowerCase())),{logRequirementPosted:S}=fr(),_=async T=>{if(T.preventDefault(),!a){alert("Please login to post a requirement");return}i(!0),o(null);try{const D={vehicle_type:d.vehicleType,make:d.make,model:d.model||null,year_range_min:d.yearFrom?parseInt(d.yearFrom):null,year_range_max:d.yearTo?parseInt(d.yearTo):null,price_range_min:d.priceFrom?parseInt(d.priceFrom):null,price_range_max:d.priceTo?parseInt(d.priceTo):null,location:d.location,description:d.description,contact_number:d.contactNumber,posted_by:a.id,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:L,error:R}=await V.from("requirements").insert([D]).select().single();if(R)throw R;S(L.id,D),alert("Requirement posted successfully! Dealers will contact you if they have matching vehicles."),s==null||s(),t(),p({vehicleType:"car",make:"",model:"",yearFrom:"",yearTo:"",priceFrom:"",priceTo:"",location:"",description:"",fullName:"",contactNumber:"",email:(a==null?void 0:a.email)||"",urgency:"moderate",paymentMethod:"cash",inspectionLocation:"",additionalRequirements:"",budgetFlexibility:"10",timeframe:"1-month"})}catch(D){console.error("Error posting requirement:",D),o(D.message||"Failed to post requirement. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b sticky top-0 bg-white",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Post Your Requirement"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl w-6 h-6 flex items-center justify-center"})})]}),!a&&r.jsx("div",{className:"p-4 sm:p-6 bg-blue-50 border-b",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("i",{className:"ri-information-line text-blue-600 text-xl"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 font-medium",children:"Login Required"}),r.jsx("p",{className:"text-blue-600 text-sm",children:"Please login to post your vehicle requirement"})]})]})}),l&&r.jsx("div",{className:"p-4 sm:p-6 bg-red-50 border-b",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("i",{className:"ri-error-warning-line text-red-600 text-xl"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Error"}),r.jsx("p",{className:"text-red-600 text-sm",children:l})]})]})}),r.jsxs("form",{onSubmit:_,className:"p-4 sm:p-6 space-y-6",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("i",{className:"ri-shield-user-line text-yellow-600 mr-2"}),r.jsx("h3",{className:"font-semibold text-yellow-800",children:"Contact Information (Admin Only)"})]}),r.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"This information is only visible to admin for contact purposes"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",required:!0,value:d.fullName,onChange:T=>p({...d,fullName:T.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number *"}),r.jsx("input",{type:"tel",required:!0,value:d.contactNumber,onChange:T=>p({...d,contactNumber:T.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"10-digit mobile number",pattern:"[6-9][0-9]{9}",maxLength:10})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:d.email,onChange:T=>p({...d,email:T.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Your email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),r.jsxs("select",{value:d.urgency,onChange:T=>p({...d,urgency:T.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm pr-8",children:[r.jsx("option",{value:"low",children:"Low - Just browsing"}),r.jsx("option",{value:"moderate",children:"Moderate - Planning to buy"}),r.jsx("option",{value:"high",children:"High - Need urgently"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Vehicle Type *"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>p({...d,vehicleType:"car",make:"",model:""}),className:`flex-1 px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d.vehicleType==="car"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Car"]}),r.jsxs("button",{type:"button",onClick:()=>p({...d,vehicleType:"bike",make:"",model:""}),className:`flex-1 px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${d.vehicleType==="bike"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-motorbike-line mr-2"}),"Bike"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make"}),r.jsx("input",{type:"text",value:d.make,onChange:T=>{p({...d,make:T.target.value,model:""}),u(!0)},onFocus:()=>u(!0),onBlur:()=>setTimeout(()=>u(!1),200),placeholder:"Type or select make",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),c&&m.length>0&&r.jsxs("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:[m.slice(0,10).map((T,D)=>r.jsx("button",{type:"button",onClick:()=>x(T),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:T},D)),m.length>10&&r.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 bg-gray-50",children:["...and ",m.length-10," more"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),r.jsx("input",{type:"text",value:d.model,onChange:T=>{p({...d,model:T.target.value}),f(!0)},onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),placeholder:"Type or select model",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:!d.make}),g&&N.length>0&&d.make&&r.jsxs("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:[N.slice(0,10).map((T,D)=>r.jsx("button",{type:"button",onClick:()=>h(T),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:T},D)),N.length>10&&r.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 bg-gray-50",children:["...and ",N.length-10," more"]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Range"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",value:d.yearFrom,onChange:T=>p({...d,yearFrom:T.target.value}),placeholder:"From year",min:"1990",max:"2024",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("input",{type:"number",value:d.yearTo,onChange:T=>p({...d,yearTo:T.target.value}),placeholder:"To year",min:"1990",max:"2024",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range ()"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",value:d.priceFrom,onChange:T=>p({...d,priceFrom:T.target.value}),placeholder:"From price",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("input",{type:"number",value:d.priceTo,onChange:T=>p({...d,priceTo:T.target.value}),placeholder:"To price",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Location"}),r.jsx("input",{type:"text",value:d.location,onChange:T=>p({...d,location:T.target.value}),placeholder:"Enter city or area",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements Description"}),r.jsx("textarea",{value:d.description,onChange:T=>p({...d,description:T.target.value}),placeholder:"Describe what you're looking for...",rows:4,maxLength:500,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.description.length,"/500 characters"]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("i",{className:"ri-information-line text-blue-600 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium",children:"Website Posting"}),r.jsx("p",{children:"Your requirement will be posted on the website for dealers to see and contact you."})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:n||!d.fullName.trim()||!d.contactNumber.trim()||!d.email.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:n?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Posting..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Post Requirement"]})})]})]})]})})}function tS(){const e=tt(),t=Oa(),{user:s}=ls(),[a,n]=v.useState(!1);v.useEffect(()=>{document.title="Voiture.in - Premium Vehicle Marketplace | Buy & Sell Cars & Bikes Online";const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content","Discover and sell premium vehicles on Voiture.in - India's trusted platform for buying and selling cars and bikes with confidence. Browse thousands of verified listings, post requirements, and connect with genuine sellers.");const c={"@context":"https://schema.org","@type":"WebPage",name:"Voiture.in - Premium Vehicle Marketplace",description:"India's trusted platform for buying and selling premium cars and bikes online",url:"https://voiture.in",mainEntity:{"@type":"ItemList",name:"Featured Vehicles",description:"Premium cars and bikes available for sale"}},u=document.createElement("script");return u.type="application/ld+json",u.textContent=JSON.stringify(c),document.head.appendChild(u),()=>{var f;const g=document.querySelector('script[type="application/ld+json"]');g&&((f=g.textContent)!=null&&f.includes("WebPage"))&&document.head.removeChild(g)}},[]),v.useEffect(()=>{var o;(o=t.state)!=null&&o.openRequirementForm&&(n(!0),e(t.pathname,{replace:!0,state:void 0}))},[t.state,e,t.pathname]),v.useEffect(()=>{const o=()=>{n(!0)};return window.addEventListener("openRequirementForm",o),()=>{window.removeEventListener("openRequirementForm",o)}},[]);const i=()=>{n(!0)},l=()=>{e(s?"/vehicles/post":"/login")};return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[r.jsx(Gt,{}),r.jsx(Z_,{onPostRequirement:i}),r.jsx(W_,{}),r.jsx(eS,{}),r.jsx("section",{className:"py-12 sm:py-20 bg-white",itemScope:!0,itemType:"https://schema.org/HowTo",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",itemProp:"name",children:"How It Works"}),r.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600",itemProp:"description",children:"Simple steps to buy or sell your vehicle on India's trusted marketplace"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[r.jsxs("div",{className:"text-center",itemScope:!0,itemType:"https://schema.org/HowToStep",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:r.jsx("i",{className:"ri-search-line text-xl sm:text-2xl text-blue-600"})}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",itemProp:"name",children:"Browse & Search"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",itemProp:"text",children:"Find the perfect vehicle from thousands of verified listings or post your requirements to get matched with sellers"})]}),r.jsxs("div",{className:"text-center",itemScope:!0,itemType:"https://schema.org/HowToStep",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:r.jsx("i",{className:"ri-message-2-line text-xl sm:text-2xl text-green-600"})}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",itemProp:"name",children:"Connect & Negotiate"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",itemProp:"text",children:"Contact verified sellers directly, schedule vehicle inspections, and negotiate the best price with confidence"})]}),r.jsxs("div",{className:"text-center sm:col-span-2 lg:col-span-1",itemScope:!0,itemType:"https://schema.org/HowToStep",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:r.jsx("i",{className:"ri-car-line text-xl sm:text-2xl text-purple-600"})}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",itemProp:"name",children:"Complete Deal"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",itemProp:"text",children:"Verify all documents, complete the transaction safely with our guidance, and drive away happy with your new vehicle"})]})]})]})}),r.jsx("section",{className:"py-12 sm:py-20 bg-gradient-to-r from-blue-600 to-blue-700",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-6",children:"Ready to Get Started?"}),r.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-blue-100 mb-6 sm:mb-8 max-w-3xl mx-auto",children:"Join thousands of satisfied buyers and sellers who trust our platform for their vehicle needs across India"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center max-w-md sm:max-w-none mx-auto",children:[r.jsxs("button",{onClick:()=>e("/vehicles"),className:"w-full sm:w-auto bg-white text-blue-600 hover:bg-gray-100 px-6 sm:px-8 py-3 sm:py-4 rounded-lg text-base sm:text-lg font-semibold transition-colors cursor-pointer whitespace-nowrap","aria-label":"Browse available vehicles for sale",children:[r.jsx("i",{className:"ri-search-line mr-2"}),"Browse Vehicles"]}),r.jsxs("button",{onClick:i,className:"w-full sm:w-auto bg-transparent border-2 border-white hover:bg-white hover:text-gray-900 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-lg text-base sm:text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer","aria-label":"Post your vehicle requirement to find matching sellers",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Post Your Requirement"]})]}),r.jsxs("div",{className:"mt-6 sm:mt-8 text-center",children:[r.jsx("p",{className:"text-blue-100 text-sm mb-3 sm:mb-4",children:"For sellers:"}),r.jsxs("button",{onClick:l,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap","aria-label":"List your vehicle for sale on our marketplace",children:[r.jsx("i",{className:"ri-car-line mr-2"}),"List Your Vehicle"]})]})]})}),r.jsx(It,{}),a&&r.jsx(gy,{onClose:()=>n(!1)})]})}function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function sS(e,t){if(Ca(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(Ca(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aS(e){var t=sS(e,"string");return Ca(t)=="symbol"?t:t+""}function as(e,t,s){return(t=aS(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Af(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ft(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(s),!0).forEach(function(a){as(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Af(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function rS(e){if(Array.isArray(e))return Ku(e)}function nS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xy(e,t){if(e){if(typeof e=="string")return Ku(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ku(e,t):void 0}}function iS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ls(e){return rS(e)||nS(e)||xy(e)||iS()}function lS(e){if(Array.isArray(e))return e}function oS(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,l,o=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(a=i.call(s)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(g){u=!0,n=g}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(u)throw n}}return o}}function cS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(e,t){return lS(e)||oS(e,t)||xy(e,t)||cS()}var py={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function s(){for(var i="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(i=n(i,a(o)))}return i}function a(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return s.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var o in i)t.call(i,o)&&i[o]&&(l=n(l,o));return l}function n(i,l){return l?i?i+" "+l:i+l:i}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(py);var uS=py.exports;const ir=Gf(uS);function en(e){var t=v.useRef();t.current=e;var s=v.useCallback(function(){for(var a,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(i))},[]);return s}function dS(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Of=dS()?v.useLayoutEffect:v.useEffect,yy=function(t,s){var a=v.useRef(!0);Of(function(){return t(a.current)},s),Of(function(){return a.current=!1,function(){a.current=!0}},[])},Rf=function(t,s){yy(function(a){if(!a)return t()},s)};function Df(e){var t=v.useRef(!1),s=v.useState(e),a=ot(s,2),n=a[0],i=a[1];v.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function l(o,c){c&&t.current||i(o)}return[n,l]}function Uc(e){return e!==void 0}function hS(e,t){var s=t||{},a=s.defaultValue,n=s.value,i=s.onChange,l=s.postState,o=Df(function(){return Uc(n)?n:Uc(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),c=ot(o,2),u=c[0],g=c[1],f=n!==void 0?n:u,d=l?l(f):f,p=en(i),w=Df([f]),b=ot(w,2),j=b[0],y=b[1];Rf(function(){var h=j[0];u!==h&&p(u,h)},[j]),Rf(function(){Uc(n)||g(n)},[n]);var x=en(function(h,m){g(h,m),y([f],m)});return[d,x]}var Xu={},mS=function(t){};function fS(e,t){}function gS(e,t){}function xS(){Xu={}}function by(e,t,s){!t&&!Xu[s]&&(e(!1,s),Xu[s]=!0)}function gn(e,t){by(fS,e,t)}function pS(e,t){by(gS,e,t)}gn.preMessage=mS;gn.resetWarned=xS;gn.noteOnce=pS;function yS(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function n(i,l){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=a.has(i);if(gn(!c,"Warning: There may be circular references"),c)return!1;if(i===l)return!0;if(s&&o>1)return!1;a.add(i);var u=o+1;if(Array.isArray(i)){if(!Array.isArray(l)||i.length!==l.length)return!1;for(var g=0;g<i.length;g++)if(!n(i[g],l[g],u))return!1;return!0}if(i&&l&&Ca(i)==="object"&&Ca(l)==="object"){var f=Object.keys(i);return f.length!==Object.keys(l).length?!1:f.every(function(d){return n(i[d],l[d],u)})}return!1}return n(e,t)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ki.apply(null,arguments)}function bS(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function vy(e,t){if(e==null)return{};var s,a,n=bS(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qu(e,t,s){return(e-t)/(s-t)}function uh(e,t,s,a){var n=Qu(t,s,a),i={};switch(e){case"rtl":i.right="".concat(n*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(n*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(n*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(n*100,"%"),i.transform="translateX(-50%)";break}return i}function Fa(e,t){return Array.isArray(e)?e[t]:e}var at={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},gr=v.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),vS=v.createContext({}),jS=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Mf=v.forwardRef(function(e,t){var s=e.prefixCls,a=e.value,n=e.valueIndex,i=e.onStartMove,l=e.onDelete,o=e.style,c=e.render,u=e.dragging,g=e.draggingDelete,f=e.onOffsetChange,d=e.onChangeComplete,p=e.onFocus,w=e.onMouseEnter,b=vy(e,jS),j=v.useContext(gr),y=j.min,x=j.max,h=j.direction,m=j.disabled,N=j.keyboard,S=j.range,_=j.tabIndex,T=j.ariaLabelForHandle,D=j.ariaLabelledByForHandle,L=j.ariaRequired,R=j.ariaValueTextFormatterForHandle,O=j.styles,M=j.classNames,z="".concat(s,"-handle"),B=function(ee){m||i(ee,n)},$=function(ee){p==null||p(ee,n)},P=function(ee){w(ee,n)},G=function(ee){if(!m&&N){var oe=null;switch(ee.which||ee.keyCode){case at.LEFT:oe=h==="ltr"||h==="btt"?-1:1;break;case at.RIGHT:oe=h==="ltr"||h==="btt"?1:-1;break;case at.UP:oe=h!=="ttb"?1:-1;break;case at.DOWN:oe=h!=="ttb"?-1:1;break;case at.HOME:oe="min";break;case at.END:oe="max";break;case at.PAGE_UP:oe=2;break;case at.PAGE_DOWN:oe=-2;break;case at.BACKSPACE:case at.DELETE:l==null||l(n);break}oe!==null&&(ee.preventDefault(),f(oe,n))}},ae=function(ee){switch(ee.which||ee.keyCode){case at.LEFT:case at.RIGHT:case at.UP:case at.DOWN:case at.HOME:case at.END:case at.PAGE_UP:case at.PAGE_DOWN:d==null||d();break}},me=uh(h,a,y,x),Ie={};if(n!==null){var Ye;Ie={tabIndex:m?null:Fa(_,n),role:"slider","aria-valuemin":y,"aria-valuemax":x,"aria-valuenow":a,"aria-disabled":m,"aria-label":Fa(T,n),"aria-labelledby":Fa(D,n),"aria-required":Fa(L,n),"aria-valuetext":(Ye=Fa(R,n))===null||Ye===void 0?void 0:Ye(a),"aria-orientation":h==="ltr"||h==="rtl"?"horizontal":"vertical",onMouseDown:B,onTouchStart:B,onFocus:$,onMouseEnter:P,onKeyDown:G,onKeyUp:ae}}var $e=v.createElement("div",ki({ref:t,className:ir(z,as(as(as({},"".concat(z,"-").concat(n+1),n!==null&&S),"".concat(z,"-dragging"),u),"".concat(z,"-dragging-delete"),g),M.handle),style:ft(ft(ft({},me),o),O.handle)},Ie,b));return c&&($e=c($e,{index:n,prefixCls:s,value:a,dragging:u,draggingDelete:g})),$e}),wS=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],NS=v.forwardRef(function(e,t){var s=e.prefixCls,a=e.style,n=e.onStartMove,i=e.onOffsetChange,l=e.values,o=e.handleRender,c=e.activeHandleRender,u=e.draggingIndex,g=e.draggingDelete,f=e.onFocus,d=vy(e,wS),p=v.useRef({}),w=v.useState(!1),b=ot(w,2),j=b[0],y=b[1],x=v.useState(-1),h=ot(x,2),m=h[0],N=h[1],S=function(R){N(R),y(!0)},_=function(R,O){S(O),f==null||f(R)},T=function(R,O){S(O)};v.useImperativeHandle(t,function(){return{focus:function(R){var O;(O=p.current[R])===null||O===void 0||O.focus()},hideHelp:function(){og.flushSync(function(){y(!1)})}}});var D=ft({prefixCls:s,onStartMove:n,onOffsetChange:i,render:o,onFocus:_,onMouseEnter:T},d);return v.createElement(v.Fragment,null,l.map(function(L,R){var O=u===R;return v.createElement(Mf,ki({ref:function(z){z?p.current[R]=z:delete p.current[R]},dragging:O,draggingDelete:O&&g,style:Fa(a,R),key:R,value:L,valueIndex:R},D))}),c&&j&&v.createElement(Mf,ki({key:"a11y"},D,{value:l[m],valueIndex:null,dragging:u!==-1,draggingDelete:g,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),_S=function(t){var s=t.prefixCls,a=t.style,n=t.children,i=t.value,l=t.onClick,o=v.useContext(gr),c=o.min,u=o.max,g=o.direction,f=o.includedStart,d=o.includedEnd,p=o.included,w="".concat(s,"-text"),b=uh(g,i,c,u);return v.createElement("span",{className:ir(w,as({},"".concat(w,"-active"),p&&f<=i&&i<=d)),style:ft(ft({},b),a),onMouseDown:function(y){y.stopPropagation()},onClick:function(){l(i)}},n)},SS=function(t){var s=t.prefixCls,a=t.marks,n=t.onClick,i="".concat(s,"-mark");return a.length?v.createElement("div",{className:i},a.map(function(l){var o=l.value,c=l.style,u=l.label;return v.createElement(_S,{key:o,prefixCls:i,style:c,value:o,onClick:n},u)})):null},ES=function(t){var s=t.prefixCls,a=t.value,n=t.style,i=t.activeStyle,l=v.useContext(gr),o=l.min,c=l.max,u=l.direction,g=l.included,f=l.includedStart,d=l.includedEnd,p="".concat(s,"-dot"),w=g&&f<=a&&a<=d,b=ft(ft({},uh(u,a,o,c)),typeof n=="function"?n(a):n);return w&&(b=ft(ft({},b),typeof i=="function"?i(a):i)),v.createElement("span",{className:ir(p,as({},"".concat(p,"-active"),w)),style:b})},CS=function(t){var s=t.prefixCls,a=t.marks,n=t.dots,i=t.style,l=t.activeStyle,o=v.useContext(gr),c=o.min,u=o.max,g=o.step,f=v.useMemo(function(){var d=new Set;if(a.forEach(function(w){d.add(w.value)}),n&&g!==null)for(var p=c;p<=u;)d.add(p),p+=g;return Array.from(d)},[c,u,g,n,a]);return v.createElement("div",{className:"".concat(s,"-step")},f.map(function(d){return v.createElement(ES,{prefixCls:s,key:d,value:d,style:i,activeStyle:l})}))},Uf=function(t){var s=t.prefixCls,a=t.style,n=t.start,i=t.end,l=t.index,o=t.onStartMove,c=t.replaceCls,u=v.useContext(gr),g=u.direction,f=u.min,d=u.max,p=u.disabled,w=u.range,b=u.classNames,j="".concat(s,"-track"),y=Qu(n,f,d),x=Qu(i,f,d),h=function(_){!p&&o&&o(_,-1)},m={};switch(g){case"rtl":m.right="".concat(y*100,"%"),m.width="".concat(x*100-y*100,"%");break;case"btt":m.bottom="".concat(y*100,"%"),m.height="".concat(x*100-y*100,"%");break;case"ttb":m.top="".concat(y*100,"%"),m.height="".concat(x*100-y*100,"%");break;default:m.left="".concat(y*100,"%"),m.width="".concat(x*100-y*100,"%")}var N=c||ir(j,as(as({},"".concat(j,"-").concat(l+1),l!==null&&w),"".concat(s,"-track-draggable"),o),b.track);return v.createElement("div",{className:N,style:ft(ft({},m),a),onMouseDown:h,onTouchStart:h})},kS=function(t){var s=t.prefixCls,a=t.style,n=t.values,i=t.startPoint,l=t.onStartMove,o=v.useContext(gr),c=o.included,u=o.range,g=o.min,f=o.styles,d=o.classNames,p=v.useMemo(function(){if(!u){if(n.length===0)return[];var b=i??g,j=n[0];return[{start:Math.min(b,j),end:Math.max(b,j)}]}for(var y=[],x=0;x<n.length-1;x+=1)y.push({start:n[x],end:n[x+1]});return y},[n,u,i,g]);if(!c)return null;var w=p!=null&&p.length&&(d.tracks||f.tracks)?v.createElement(Uf,{index:null,prefixCls:s,start:p[0].start,end:p[p.length-1].end,replaceCls:ir(d.tracks,"".concat(s,"-tracks")),style:f.tracks}):null;return v.createElement(v.Fragment,null,w,p.map(function(b,j){var y=b.start,x=b.end;return v.createElement(Uf,{index:j,prefixCls:s,style:ft(ft({},Fa(a,j)),f.track),start:y,end:x,key:j,onStartMove:l})}))},TS=130;function Lf(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function AS(e,t,s,a,n,i,l,o,c,u,g){var f=v.useState(null),d=ot(f,2),p=d[0],w=d[1],b=v.useState(-1),j=ot(b,2),y=j[0],x=j[1],h=v.useState(!1),m=ot(h,2),N=m[0],S=m[1],_=v.useState(s),T=ot(_,2),D=T[0],L=T[1],R=v.useState(s),O=ot(R,2),M=O[0],z=O[1],B=v.useRef(null),$=v.useRef(null),P=v.useRef(null),G=v.useContext(vS),ae=G.onDragStart,me=G.onDragChange;yy(function(){y===-1&&L(s)},[s,y]),v.useEffect(function(){return function(){document.removeEventListener("mousemove",B.current),document.removeEventListener("mouseup",$.current),P.current&&(P.current.removeEventListener("touchmove",B.current),P.current.removeEventListener("touchend",$.current))}},[]);var Ie=function(oe,A,C){A!==void 0&&w(A),L(oe);var q=oe;C&&(q=oe.filter(function(J,k){return k!==y})),l(q),me&&me({rawValues:oe,deleteIndex:C?y:-1,draggingIndex:y,draggingValue:A})},Ye=en(function(ee,oe,A){if(ee===-1){var C=M[0],q=M[M.length-1],J=a-C,k=n-q,H=oe*(n-a);H=Math.max(H,J),H=Math.min(H,k);var Y=i(C+H);H=Y-C;var W=M.map(function(be){return be+H});Ie(W)}else{var ie=(n-a)*oe,ge=Ls(D);ge[ee]=M[ee];var re=c(ge,ie,ee,"dist");Ie(re.values,re.value,A)}}),$e=function(oe,A,C){oe.stopPropagation();var q=C||s,J=q[A];x(A),w(J),z(q),L(q),S(!1);var k=Lf(oe),H=k.pageX,Y=k.pageY,W=!1;ae&&ae({rawValues:q,draggingIndex:A,draggingValue:J});var ie=function(be){be.preventDefault();var Ue=Lf(be),Be=Ue.pageX,xt=Ue.pageY,De=Be-H,pt=xt-Y,mt=e.current.getBoundingClientRect(),Kt=mt.width,xs=mt.height,Xt,ps;switch(t){case"btt":Xt=-pt/xs,ps=De;break;case"ttb":Xt=pt/xs,ps=De;break;case"rtl":Xt=-De/Kt,ps=pt;break;default:Xt=De/Kt,ps=pt}W=u?Math.abs(ps)>TS&&g<D.length:!1,S(W),Ye(A,Xt,W)},ge=function re(be){be.preventDefault(),document.removeEventListener("mouseup",re),document.removeEventListener("mousemove",ie),P.current&&(P.current.removeEventListener("touchmove",B.current),P.current.removeEventListener("touchend",$.current)),B.current=null,$.current=null,P.current=null,o(W),x(-1),S(!1)};document.addEventListener("mouseup",ge),document.addEventListener("mousemove",ie),oe.currentTarget.addEventListener("touchend",ge),oe.currentTarget.addEventListener("touchmove",ie),B.current=ie,$.current=ge,P.current=oe.currentTarget},ye=v.useMemo(function(){var ee=Ls(s).sort(function(J,k){return J-k}),oe=Ls(D).sort(function(J,k){return J-k}),A={};oe.forEach(function(J){A[J]=(A[J]||0)+1}),ee.forEach(function(J){A[J]=(A[J]||0)-1});var C=u?1:0,q=Object.values(A).reduce(function(J,k){return J+Math.abs(k)},0);return q<=C?D:s},[s,D,u]);return[y,p,N,ye,$e]}function OS(e,t,s,a,n,i){var l=v.useCallback(function(p){return Math.max(e,Math.min(t,p))},[e,t]),o=v.useCallback(function(p){if(s!==null){var w=e+Math.round((l(p)-e)/s)*s,b=function(h){return(String(h).split(".")[1]||"").length},j=Math.max(b(s),b(t),b(e)),y=Number(w.toFixed(j));return e<=y&&y<=t?y:null}return null},[s,e,t,l]),c=v.useCallback(function(p){var w=l(p),b=a.map(function(x){return x.value});s!==null&&b.push(o(p)),b.push(e,t);var j=b[0],y=t-e;return b.forEach(function(x){var h=Math.abs(w-x);h<=y&&(j=x,y=h)}),j},[e,t,a,s,l,o]),u=function p(w,b,j){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof b=="number"){var x,h=w[j],m=h+b,N=[];a.forEach(function(L){N.push(L.value)}),N.push(e,t),N.push(o(h));var S=b>0?1:-1;y==="unit"?N.push(o(h+S*s)):N.push(o(m)),N=N.filter(function(L){return L!==null}).filter(function(L){return b<0?L<=h:L>=h}),y==="unit"&&(N=N.filter(function(L){return L!==h}));var _=y==="unit"?h:m;x=N[0];var T=Math.abs(x-_);if(N.forEach(function(L){var R=Math.abs(L-_);R<T&&(x=L,T=R)}),x===void 0)return b<0?e:t;if(y==="dist")return x;if(Math.abs(b)>1){var D=Ls(w);return D[j]=x,p(D,b-S,j,y)}return x}else{if(b==="min")return e;if(b==="max")return t}},g=function(w,b,j){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w[j],h=u(w,b,j,y);return{value:h,changed:h!==x}},f=function(w){return i===null&&w===0||typeof i=="number"&&w<i},d=function(w,b,j){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",x=w.map(c),h=x[j],m=u(x,b,j,y);if(x[j]=m,n===!1){var N=i||0;j>0&&x[j-1]!==h&&(x[j]=Math.max(x[j],x[j-1]+N)),j<x.length-1&&x[j+1]!==h&&(x[j]=Math.min(x[j],x[j+1]-N))}else if(typeof i=="number"||i===null){for(var S=j+1;S<x.length;S+=1)for(var _=!0;f(x[S]-x[S-1])&&_;){var T=g(x,1,S);x[S]=T.value,_=T.changed}for(var D=j;D>0;D-=1)for(var L=!0;f(x[D]-x[D-1])&&L;){var R=g(x,-1,D-1);x[D-1]=R.value,L=R.changed}for(var O=x.length-1;O>0;O-=1)for(var M=!0;f(x[O]-x[O-1])&&M;){var z=g(x,-1,O-1);x[O-1]=z.value,M=z.changed}for(var B=0;B<x.length-1;B+=1)for(var $=!0;f(x[B+1]-x[B])&&$;){var P=g(x,1,B+1);x[B+1]=P.value,$=P.changed}}return{value:x[j],values:x}};return[c,d]}function RS(e){return v.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,s=e.draggableTrack,a=e.minCount,n=e.maxCount;return[!0,t,!t&&s,a||0,n]},[e])}var zf=v.forwardRef(function(e,t){var s=e.prefixCls,a=s===void 0?"rc-slider":s,n=e.className,i=e.style,l=e.classNames,o=e.styles,c=e.id,u=e.disabled,g=u===void 0?!1:u,f=e.keyboard,d=f===void 0?!0:f,p=e.autoFocus,w=e.onFocus,b=e.onBlur,j=e.min,y=j===void 0?0:j,x=e.max,h=x===void 0?100:x,m=e.step,N=m===void 0?1:m,S=e.value,_=e.defaultValue,T=e.range,D=e.count,L=e.onChange,R=e.onBeforeChange,O=e.onAfterChange,M=e.onChangeComplete,z=e.allowCross,B=z===void 0?!0:z,$=e.pushable,P=$===void 0?!1:$,G=e.reverse,ae=e.vertical,me=e.included,Ie=me===void 0?!0:me,Ye=e.startPoint,$e=e.trackStyle,ye=e.handleStyle,ee=e.railStyle,oe=e.dotStyle,A=e.activeDotStyle,C=e.marks,q=e.dots,J=e.handleRender,k=e.activeHandleRender,H=e.track,Y=e.tabIndex,W=Y===void 0?0:Y,ie=e.ariaLabelForHandle,ge=e.ariaLabelledByForHandle,re=e.ariaRequired,be=e.ariaValueTextFormatterForHandle,Ue=v.useRef(null),Be=v.useRef(null),xt=v.useMemo(function(){return ae?G?"ttb":"btt":G?"rtl":"ltr"},[G,ae]),De=RS(T),pt=ot(De,5),mt=pt[0],Kt=pt[1],xs=pt[2],Xt=pt[3],ps=pt[4],wt=v.useMemo(function(){return isFinite(y)?y:0},[y]),Xs=v.useMemo(function(){return isFinite(h)?h:100},[h]),_s=v.useMemo(function(){return N!==null&&N<=0?1:N},[N]),kn=v.useMemo(function(){return typeof P=="boolean"?P?_s:!1:P>=0?P:!1},[P,_s]),Da=v.useMemo(function(){return Object.keys(C||{}).map(function(ve){var Q=C[ve],Se={value:Number(ve)};return Q&&Ca(Q)==="object"&&!v.isValidElement(Q)&&("label"in Q||"style"in Q)?(Se.style=Q.style,Se.label=Q.label):Se.label=Q,Se}).filter(function(ve){var Q=ve.label;return Q||typeof Q=="number"}).sort(function(ve,Q){return ve.value-Q.value})},[C]),Gi=OS(wt,Xs,_s,Da,B,kn),xr=ot(Gi,2),os=xr[0],pr=xr[1],Tn=hS(_,{value:S}),An=ot(Tn,2),cs=An[0],E=An[1],I=v.useMemo(function(){var ve=cs==null?[]:Array.isArray(cs)?cs:[cs],Q=ot(ve,1),Se=Q[0],Le=Se===void 0?wt:Se,st=cs===null?[]:[Le];if(mt){if(st=Ls(ve),D||cs===void 0){var Qs=D>=0?D+1:2;for(st=st.slice(0,Qs);st.length<Qs;){var Ss;st.push((Ss=st[st.length-1])!==null&&Ss!==void 0?Ss:wt)}}st.sort(function(Es,Cs){return Es-Cs})}return st.forEach(function(Es,Cs){st[Cs]=os(Es)}),st},[cs,mt,wt,D,os]),K=function(Q){return mt?Q:Q[0]},Pe=en(function(ve){var Q=Ls(ve).sort(function(Se,Le){return Se-Le});L&&!yS(Q,I,!0)&&L(K(Q)),E(Q)}),Ii=en(function(ve){ve&&Ue.current.hideHelp();var Q=K(I);O==null||O(Q),gn(!O,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),M==null||M(Q)}),Vo=function(Q){if(!(g||!Kt||I.length<=Xt)){var Se=Ls(I);Se.splice(Q,1),R==null||R(K(Se)),Pe(Se);var Le=Math.max(0,Q-1);Ue.current.hideHelp(),Ue.current.focus(Le)}},Yi=AS(Be,xt,I,wt,Xs,os,Pe,Ii,pr,Kt,Xt),Ma=ot(Yi,5),Ua=Ma[0],On=Ma[1],Fi=Ma[2],yr=Ma[3],br=Ma[4],fe=function(Q,Se){if(!g){var Le=Ls(I),st=0,Qs=0,Ss=Xs-wt;I.forEach(function(Js,Ki){var ph=Math.abs(Q-Js);ph<=Ss&&(Ss=ph,st=Ki),Js<Q&&(Qs=Ki)});var Es=st;Kt&&Ss!==0&&(!ps||I.length<ps)?(Le.splice(Qs+1,0,Q),Es=Qs+1):Le[st]=Q,mt&&!I.length&&D===void 0&&Le.push(Q);var Cs=K(Le);if(R==null||R(Cs),Pe(Le),Se){var La,jr;(La=document.activeElement)===null||La===void 0||(jr=La.blur)===null||jr===void 0||jr.call(La),Ue.current.focus(Es),br(Se,Es,Le)}else O==null||O(Cs),gn(!O,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),M==null||M(Cs)}},Ot=function(Q){Q.preventDefault();var Se=Be.current.getBoundingClientRect(),Le=Se.width,st=Se.height,Qs=Se.left,Ss=Se.top,Es=Se.bottom,Cs=Se.right,La=Q.clientX,jr=Q.clientY,Js;switch(xt){case"btt":Js=(Es-jr)/st;break;case"ttb":Js=(jr-Ss)/st;break;case"rtl":Js=(Cs-La)/Le;break;default:Js=(La-Qs)/Le}var Ki=wt+Js*(Xs-wt);fe(os(Ki),Q)},Rt=v.useState(null),Nt=ot(Rt,2),vr=Nt[0],dh=Nt[1],_y=function(Q,Se){if(!g){var Le=pr(I,Q,Se);R==null||R(K(I)),Pe(Le.values),dh(Le.value)}};v.useEffect(function(){if(vr!==null){var ve=I.indexOf(vr);ve>=0&&Ue.current.focus(ve)}dh(null)},[vr]);var Sy=v.useMemo(function(){return xs&&_s===null?!1:xs},[xs,_s]),hh=en(function(ve,Q){br(ve,Q),R==null||R(K(I))}),mh=Ua!==-1;v.useEffect(function(){if(!mh){var ve=I.lastIndexOf(On);Ue.current.focus(ve)}},[mh]);var Rn=v.useMemo(function(){return Ls(yr).sort(function(ve,Q){return ve-Q})},[yr]),Ey=v.useMemo(function(){return mt?[Rn[0],Rn[Rn.length-1]]:[wt,Rn[0]]},[Rn,mt,wt]),fh=ot(Ey,2),gh=fh[0],xh=fh[1];v.useImperativeHandle(t,function(){return{focus:function(){Ue.current.focus(0)},blur:function(){var Q,Se=document,Le=Se.activeElement;(Q=Be.current)!==null&&Q!==void 0&&Q.contains(Le)&&(Le==null||Le.blur())}}}),v.useEffect(function(){p&&Ue.current.focus(0)},[]);var Cy=v.useMemo(function(){return{min:wt,max:Xs,direction:xt,disabled:g,keyboard:d,step:_s,included:Ie,includedStart:gh,includedEnd:xh,range:mt,tabIndex:W,ariaLabelForHandle:ie,ariaLabelledByForHandle:ge,ariaRequired:re,ariaValueTextFormatterForHandle:be,styles:o||{},classNames:l||{}}},[wt,Xs,xt,g,d,_s,Ie,gh,xh,mt,W,ie,ge,re,be,o,l]);return v.createElement(gr.Provider,{value:Cy},v.createElement("div",{ref:Be,className:ir(a,n,as(as(as(as({},"".concat(a,"-disabled"),g),"".concat(a,"-vertical"),ae),"".concat(a,"-horizontal"),!ae),"".concat(a,"-with-marks"),Da.length)),style:i,onMouseDown:Ot,id:c},v.createElement("div",{className:ir("".concat(a,"-rail"),l==null?void 0:l.rail),style:ft(ft({},ee),o==null?void 0:o.rail)}),H!==!1&&v.createElement(kS,{prefixCls:a,style:$e,values:I,startPoint:Ye,onStartMove:Sy?hh:void 0}),v.createElement(CS,{prefixCls:a,marks:Da,dots:q,style:oe,activeStyle:A}),v.createElement(NS,{ref:Ue,prefixCls:a,style:ye,values:yr,draggingIndex:Ua,draggingDelete:Fi,onStartMove:hh,onOffsetChange:_y,onFocus:w,onBlur:b,handleRender:J,activeHandleRender:k,onChangeComplete:Ii,onDelete:Kt?Vo:void 0}),v.createElement(SS,{prefixCls:a,marks:Da,onClick:fe})))});function DS({filters:e,onFiltersChange:t}){const s=(b,j)=>{t({...e,[b]:j})},a=typeof e.priceMin=="number"?e.priceMin:1e5,n=typeof e.priceMax=="number"?e.priceMax:1e8,i=new Date().getFullYear(),l=typeof e.yearFrom=="number"?e.yearFrom:1990,o=typeof e.yearTo=="number"?e.yearTo:i,c=b=>b>=1e7?`${(b/1e7).toFixed(2).replace(/\.00$/,"")}Cr`:b>=1e5?`${(b/1e5).toFixed(2).replace(/\.00$/,"")}L`:`${b.toLocaleString("en-IN")}`,u=b=>{if(Array.isArray(b)){const[j,y]=b,x=Math.min(j,y),h=Math.max(j,y);t({...e,priceMin:x,priceMax:h,priceRange:void 0})}},g=b=>{if(Array.isArray(b)){const[j,y]=b,x=Math.min(j,y),h=Math.max(j,y);t({...e,yearFrom:x,yearTo:h})}},f=["Maruti Suzuki","Hyundai","Tata","Mahindra","Toyota","Honda","Ford","Renault","Nissan","Volkswagen","Skoda","Chevrolet","Kia","MG","Jeep","BMW","Mercedes-Benz","Audi","Jaguar","Land Rover","Volvo","Mitsubishi","Isuzu","Force"],d=["Hero","Honda","Bajaj","TVS","Royal Enfield","Yamaha","Suzuki","KTM","Kawasaki","Harley-Davidson","Ducati","BMW","Triumph","Benelli","Jawa","Mahindra","Aprilia","Vespa","Ather","Ola Electric","Revolt"],w=e.vehicleType==="car"?f:e.vehicleType==="bike"?d:[...f,...d].sort();return r.jsxs("div",{className:"bg-white rounded-lg border p-4 sm:p-6 space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Vehicle"}),r.jsx("input",{type:"text",value:e.search||"",onChange:b=>s("search",b.target.value),placeholder:"Search by name, model, features...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'e.g., "Swift Dzire", "automatic", "sunroof", "diesel"'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),r.jsxs("select",{value:e.vehicleType||"all",onChange:b=>s("vehicleType",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm pr-8",children:[r.jsx("option",{value:"all",children:"All Vehicles"}),r.jsx("option",{value:"car",children:"Cars"}),r.jsx("option",{value:"bike",children:"Bikes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make/Brand"}),r.jsxs("select",{value:e.make||"all",onChange:b=>s("make",b.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-5

focus:border-transparent text-sm pr-8`,children:[r.jsx("option",{value:"all",children:"All Makes"}),w.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[r.jsx("span",{children:c(a)}),r.jsx("span",{children:c(n)})]}),r.jsx(zf,{range:!0,min:1e5,max:1e8,step:1e5,value:[a,n],onChange:u,allowCross:!1})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Range"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[r.jsx("span",{children:l}),r.jsx("span",{children:o})]}),r.jsx(zf,{range:!0,min:1990,max:i,step:1,value:[l,o],onChange:g,allowCross:!1})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuel Type"}),r.jsxs("select",{value:e.fuelType||"all",onChange:b=>s("fuelType",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm pr-8",children:[r.jsx("option",{value:"all",children:"All Fuel Types"}),r.jsx("option",{value:"petrol",children:"Petrol"}),r.jsx("option",{value:"diesel",children:"Diesel"}),r.jsx("option",{value:"cng",children:"CNG"}),r.jsx("option",{value:"electric",children:"Electric"}),r.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmission"}),r.jsxs("select",{value:e.transmission||"all",onChange:b=>s("transmission",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm pr-8",children:[r.jsx("option",{value:"all",children:"All Transmissions"}),r.jsx("option",{value:"manual",children:"Manual"}),r.jsx("option",{value:"automatic",children:"Automatic"}),r.jsx("option",{value:"cvt",children:"CVT"})]})]})]})}function MS({vehicle:e}){const t=tt(),{user:s}=ls(),[a,n]=v.useState(!1),[i,l]=v.useState(!1);v.useEffect(()=>{(async()=>{if(s)try{const{data:d,error:p}=await V.from("favorites").select("id").eq("user_id",s.id).eq("vehicle_id",e.id).single();!p&&d&&n(!0)}catch{n(!1)}})()},[s,e.id]);const o=async f=>{if(f.stopPropagation(),!s){t("/login");return}l(!0);try{if(a){const{error:d}=await V.from("favorites").delete().eq("user_id",s.id).eq("vehicle_id",e.id);d?console.error("Error removing favorite:",d):n(!1)}else{const{error:d}=await V.from("favorites").insert({user_id:s.id,vehicle_id:e.id});d?console.error("Error adding favorite:",d):n(!0)}}catch(d){console.error("Error updating favorite:",d)}finally{l(!1)}},c=()=>{t(`/vehicles/${e.id}`)},u=f=>f>=1e7?`${(f/1e7).toFixed(1)} Cr`:f>=1e5?`${(f/1e5).toFixed(1)} L`:f>=1e3?`${(f/1e3).toFixed(0)}K`:`${f.toLocaleString()}`,g=()=>e.images&&e.images.length>0?e.images[0]:`https://readdy.ai/api/search-image?query=Modern%20$%7Bvehicle.vehicle_type%7D%20$%7Bvehicle.make%7D%20$%7Bvehicle.model%7D%20professional%20automotive%20photography%20clean%20background&width=400&height=300&seq=${e.id}&orientation=landscape`;return r.jsxs("div",{onClick:c,className:"bg-white rounded-lg border hover:shadow-lg transition-all duration-200 cursor-pointer group overflow-hidden",children:[r.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[r.jsx("img",{src:g(),alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}),r.jsx("button",{onClick:o,disabled:i,className:`absolute top-2 sm:top-3 right-2 sm:right-3 w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center transition-all duration-200 ${a?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500"} ${i?"opacity-50":""}`,children:r.jsx("i",{className:`${a?"ri-heart-fill":"ri-heart-line"} text-sm sm:text-base`})}),r.jsx("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3",children:r.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium capitalize",children:e.vehicle_type})})]}),r.jsxs("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-2 group-hover:text-blue-600 transition-colors",children:e.title}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 text-xs sm:text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx("i",{className:"ri-calendar-line text-xs sm:text-sm"}),r.jsx("span",{children:e.year})]}),e.mileage&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:""}),r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx("i",{className:"ri-gas-station-line text-xs sm:text-sm"}),r.jsxs("span",{children:[e.mileage.toLocaleString()," km"]})]})]})]}),(e.fuel_type||e.transmission)&&r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 text-xs sm:text-sm text-gray-600",children:[e.fuel_type&&r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx("i",{className:"ri-fuel-percent-line text-xs sm:text-sm"}),r.jsx("span",{children:e.fuel_type})]}),e.fuel_type&&e.transmission&&r.jsx("span",{className:"text-gray-300",children:""}),e.transmission&&r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx("i",{className:"ri-settings-3-line text-xs sm:text-sm"}),r.jsx("span",{children:e.transmission})]})]}),e.location&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs sm:text-sm text-gray-600",children:[r.jsx("i",{className:"ri-map-pin-line text-xs sm:text-sm"}),r.jsx("span",{className:"truncate",children:e.location})]}),r.jsxs("div",{className:"flex items-center justify-between pt-1 sm:pt-2",children:[r.jsx("div",{className:"text-lg sm:text-xl font-bold text-blue-600",children:u(e.price)}),r.jsxs("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap",children:["View Details",r.jsx("i",{className:"ri-arrow-right-line ml-1"})]})]})]})]})}function US({vehicles:e,loading:t,onResetFilters:s}){const[a,n]=v.useState("newest"),i=[...e].sort((l,o)=>{switch(a){case"price-low":return l.price-o.price;case"price-high":return o.price-l.price;case"year-new":return o.year-l.year;case"year-old":return l.year-o.year;case"newest":default:return new Date(o.created_at).getTime()-new Date(l.created_at).getTime()}});return t?r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 sm:h-6 bg-gray-200 rounded w-32 sm:w-48 animate-pulse"}),r.jsx("div",{className:"h-8 sm:h-10 bg-gray-200 rounded w-24 sm:w-32 animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[...Array(6)].map((l,o)=>r.jsxs("div",{className:"bg-white rounded-lg border p-4 animate-pulse",children:[r.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]},o))})]}):e.length===0?r.jsx("div",{className:"text-center py-8 sm:py-12 lg:py-16",children:r.jsxs("div",{className:"bg-white rounded-lg border p-6 sm:p-8 lg:p-12 max-w-md mx-auto",children:[r.jsx("i",{className:"ri-car-line text-4xl sm:text-5xl lg:text-6xl text-gray-400 mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 mb-2",children:"No vehicles found"}),r.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-xs sm:text-sm lg:text-base",children:"Try adjusting your filters or search criteria to find more vehicles."}),r.jsx("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-xs sm:text-sm lg:text-base",children:"Reset Filters"})]})}):r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900",children:[e.length," Vehicle",e.length!==1?"s":""," Found"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:"Sort by:"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:a,onChange:l=>n(l.target.value),className:"px-2 sm:px-3 py-1 sm:py-2 pr-6 sm:pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm appearance-none bg-white min-w-0",children:[r.jsx("option",{value:"newest",children:"Newest First"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"}),r.jsx("option",{value:"year-new",children:"Year: Newest First"}),r.jsx("option",{value:"year-old",children:"Year: Oldest First"})]}),r.jsx("i",{className:"ri-arrow-down-s-line absolute right-1 sm:right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none text-xs sm:text-sm"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:i.map(l=>r.jsx(MS,{vehicle:l},l.id))}),e.length>0&&e.length%12===0&&r.jsx("div",{className:"text-center pt-4 sm:pt-6 lg:pt-8",children:r.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 sm:px-6 lg:px-8 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-xs sm:text-sm lg:text-base",children:"Load More Vehicles"})})]})}function LS(){const e=tt(),[t]=Ew(),[s,a]=v.useState([]),[n,i]=v.useState([]),[l,o]=v.useState(!0),[c,u]=v.useState(null),[g,f]=v.useState(!1),[d,p]=v.useState(!1),[w,b]=v.useState(!1),[j,y]=v.useState({search:"",vehicleType:"all",make:"all",priceRange:[0,1e8],yearRange:[1990,new Date().getFullYear()],location:"",fuelType:"all",transmission:"all"}),x=n.length;v.useEffect(()=>{d||h()},[d]),v.useEffect(()=>{if(d&&!w){const S=t.get("vehicleType")||"all",_=t.get("make")||"all",T=t.get("priceRange")||"",D=t.get("search")||"";let L=0,R=1e8;if(T)if(T.includes("-")){const[O,M]=T.split("-").map(z=>parseInt(z));L=O,R=M}else T.includes("+")&&(L=parseInt(T.replace("+","")),R=1e8);m({search:D,vehicleType:S,make:_,priceRange:[L,R],yearRange:[1990,new Date().getFullYear()],location:"",fuelType:"all",transmission:"all"}),b(!0)}},[d,w,t]);const h=async()=>{try{o(!0),u(null);const{data:S,error:_}=await V.from("vehicle_listings").select("*").eq("status","active").order("created_at",{ascending:!1});if(_){console.error("Error fetching vehicles:",_),u("Failed to load vehicles");return}a(S||[]),i(S||[]),p(!0)}catch(S){console.error("Unexpected error:",S),u("Failed to load vehicles")}finally{o(!1)}},m=S=>{y(S);let _=[...s];if(S.search){const T=S.search.toLowerCase();_=_.filter(D=>{var L;return D.title.toLowerCase().includes(T)||D.make.toLowerCase().includes(T)||D.model.toLowerCase().includes(T)||((L=D.location)==null?void 0:L.toLowerCase().includes(T))})}S.vehicleType&&S.vehicleType!=="all"&&(_=_.filter(T=>T.vehicle_type===S.vehicleType)),S.make&&S.make!=="all"&&(_=_.filter(T=>T.make.toLowerCase()===S.make.toLowerCase())),S.priceRange&&(_=_.filter(T=>T.price>=S.priceRange[0]&&T.price<=S.priceRange[1])),S.yearRange&&(_=_.filter(T=>T.year>=S.yearRange[0]&&T.year<=S.yearRange[1])),S.location&&(_=_.filter(T=>{var D;return(D=T.location)==null?void 0:D.toLowerCase().includes(S.location.toLowerCase())})),S.fuelType&&S.fuelType!=="all"&&(_=_.filter(T=>{var D;return((D=T.fuel_type)==null?void 0:D.toLowerCase())===S.fuelType.toLowerCase()})),S.transmission&&S.transmission!=="all"&&(_=_.filter(T=>{var D;return((D=T.transmission)==null?void 0:D.toLowerCase())===S.transmission.toLowerCase()})),i(_)},N=()=>{const S={search:"",vehicleType:"all",make:"all",priceRange:[0,1e8],yearRange:[1990,new Date().getFullYear()],location:"",fuelType:"all",transmission:"all"};y(S),i(s),e("/vehicles",{replace:!0})};return v.useEffect(()=>{const S=j.vehicleType==="car"?"Cars":j.vehicleType==="bike"?"Bikes":"Vehicles",_=j.make?` ${j.make}`:"",T=j.location?` in ${j.location}`:" in India";document.title=`${S}${_} for Sale${T} | Voiture.in`;const D=document.querySelector('meta[name="description"]');if(D){const O=`Browse ${S.toLowerCase()}${_.toLowerCase()} for sale${T}. Find verified listings, compare prices, and connect with genuine sellers on India's trusted vehicle marketplace.`;D.setAttribute("content",O)}const L={"@context":"https://schema.org","@type":"CollectionPage",name:`${S}${_} for Sale${T}`,description:`Browse and buy ${S.toLowerCase()}${_.toLowerCase()} for sale${T}`,url:`https://voiture.in/vehicles${window.location.search}`,mainEntity:{"@type":"ItemList",name:`${S} Listings`,numberOfItems:x}},R=document.createElement("script");return R.type="application/ld+json",R.textContent=JSON.stringify(L),document.head.appendChild(R),()=>{var M;const O=document.querySelector('script[type="application/ld+json"]');O&&((M=O.textContent)!=null&&M.includes("CollectionPage"))&&document.head.removeChild(O)}},[j,x]),l&&!d?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading vehicles..."})]})}),r.jsx(It,{})]}):c?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:r.jsx("div",{className:"text-center max-w-sm sm:max-w-md mx-auto",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 sm:p-6 lg:p-8",children:[r.jsx("i",{className:"ri-error-warning-line text-2xl sm:text-3xl lg:text-4xl text-red-500 mb-3 sm:mb-4"}),r.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-red-800 mb-2",children:c}),r.jsx("p",{className:"text-red-600 mb-4 sm:mb-6 text-xs sm:text-sm lg:text-base",children:"Please check your connection and try again"}),r.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[r.jsxs("button",{onClick:()=>e(-1),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-xs sm:text-sm lg:text-base",children:[r.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Go Back"]}),r.jsxs("button",{onClick:()=>{p(!1),h()},className:"bg-red-600 hover:bg-red-700 text-white px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-xs sm:text-sm lg:text-base",children:[r.jsx("i",{className:"ri-refresh-line mr-2"}),"Try Again"]})]})]})})}),r.jsx(It,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:[r.jsxs("span",{itemScope:!0,itemType:"https://schema.org/ListItem",itemProp:"itemListElement",children:[r.jsx(se,{to:"/",className:"hover:text-blue-600 transition-colors",itemProp:"name",children:"Home"}),r.jsx("meta",{itemProp:"position",content:"1"})]}),r.jsx("i",{className:"ri-arrow-right-s-line"}),r.jsxs("span",{className:"text-gray-900 font-medium",itemScope:!0,itemType:"https://schema.org/ListItem",itemProp:"itemListElement",children:[r.jsxs("span",{itemProp:"name",children:[j.vehicleType==="car"?"Cars":j.vehicleType==="bike"?"Bikes":"Vehicles",j.make&&` - ${j.make}`]}),r.jsx("meta",{itemProp:"position",content:"2"})]})]})})}),r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:[j.vehicleType==="car"?"Cars":j.vehicleType==="bike"?"Bikes":"Vehicles"," for Sale",j.make&&` - ${j.make}`]}),r.jsx("p",{className:"text-gray-600 mt-2",children:l?"Loading...":`${x.toLocaleString()} ${j.vehicleType==="car"?"cars":j.vehicleType==="bike"?"bikes":"vehicles"} available`})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-xs sm:text-sm lg:text-base",children:"Reset Filters"}),r.jsxs(se,{to:"/vehicles/post",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap flex items-center","aria-label":"Post your vehicle for sale",children:[r.jsx("i",{className:"ri-add-line mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Post Vehicle"}),r.jsx("span",{className:"sm:hidden",children:"Post"})]})]})]})})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-8",children:[r.jsx("div",{className:"lg:w-1/4",children:r.jsx("div",{className:"sticky top-20",children:r.jsx(DS,{filters:{search:j.search,vehicleType:j.vehicleType,make:j.make,priceRange:t.get("priceRange")||"",priceMin:j.priceRange[0],priceMax:j.priceRange[1],yearFrom:j.yearRange[0],yearTo:j.yearRange[1],fuelType:j.fuelType,transmission:j.transmission},onFiltersChange:S=>{m({search:S.search||"",vehicleType:S.vehicleType||"all",make:S.make||"all",priceRange:[S.priceMin||0,S.priceMax||1e8],yearRange:[S.yearFrom||1990,S.yearTo||new Date().getFullYear()],location:j.location,fuelType:S.fuelType||"all",transmission:S.transmission||"all"})}})})}),r.jsx("div",{className:"lg:w-3/4",children:r.jsx(US,{vehicles:n,loading:!1,onResetFilters:N})})]})})})}),r.jsx(It,{})]})}function $f({src:e,alt:t,className:s="",watermarkOpacity:a=.3}){const[n,i]=v.useState(e),l=v.useRef(null);return v.useEffect(()=>{if(!e||e.includes("voiture-watermark")){i(e);return}(async()=>{try{const c=l.current;if(!c)return;const u=c.getContext("2d");if(!u)return;const g=new Image;g.crossOrigin="anonymous",g.onload=async()=>{c.width=g.width,c.height=g.height,u.drawImage(g,0,0);const f=new Image;f.crossOrigin="anonymous",f.onload=()=>{const d=Math.min(g.width*.1,150),p=f.width/f.height,w=d,b=d/p,j=20,y=g.width-w-j,x=g.height-b-j;u.globalAlpha=a,u.drawImage(f,y,x,w,b);const h=c.toDataURL("image/jpeg",.9);i(h)},f.onerror=()=>{i(e)},f.src="https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/6946ab200827b1a3dad2a3b3ab7d0afe.jfif"},g.onerror=()=>{i(e)},g.src=e}catch(c){console.error("Error adding watermark:",c),i(e)}})()},[e,a]),r.jsxs(r.Fragment,{children:[r.jsx("canvas",{ref:l,style:{display:"none"}}),r.jsx("img",{src:n,alt:t,className:s,loading:"lazy"})]})}function zS({images:e,title:t}){const[s,a]=v.useState(0),[n,i]=v.useState(!1),l=["https://readdy.ai/api/search-image?query=modern%20$%7Btitle.toLowerCase%28%29%7D%20luxury%20vehicle%20interior%20dashboard%20steering%20wheel%20premium%20leather%20seats%20clean%20bright%20automotive%20photography%20professional%20lighting&width=800&height=600&seq=gallery1&orientation=landscape","https://readdy.ai/api/search-image?query=$%7Btitle.toLowerCase%28%29%7D%20exterior%20side%20view%20profile%20sleek%20design%20modern%20automotive%20photography%20clean%20background%20professional%20studio%20lighting&width=800&height=600&seq=gallery2&orientation=landscape","https://readdy.ai/api/search-image?query=$%7Btitle.toLowerCase%28%29%7D%20front%20view%20headlights%20grille%20modern%20design%20automotive%20photography%20clean%20background%20professional%20lighting&width=800&height=600&seq=gallery3&orientation=landscape","https://readdy.ai/api/search-image?query=$%7Btitle.toLowerCase%28%29%7D%20rear%20view%20back%20lights%20modern%20design%20automotive%20photography%20clean%20background%20professional%20studio%20lighting&width=800&height=600&seq=gallery4&orientation=landscape"],o=e&&e.length>0?e:l,c=()=>{a(s>0?s-1:o.length-1)},u=()=>{a(s<o.length-1?s+1:0)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx($f,{src:o[s],alt:`Vehicle image ${s+1}`,className:"w-full h-96 object-cover rounded-xl"}),o.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-arrow-left-line text-xl"})}),r.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-arrow-right-line text-xl"})})]}),r.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[s+1," / ",o.length]}),r.jsx("button",{onClick:()=>i(!0),className:"absolute bottom-4 left-4 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-fullscreen-line text-lg"})})]}),o.length>1&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:o.map((g,f)=>r.jsx("button",{onClick:()=>a(f),className:`flex-shrink-0 relative cursor-pointer ${s===f?"ring-2 ring-blue-500":""}`,children:r.jsx($f,{src:g,alt:`Vehicle thumbnail ${f+1}`,className:"w-20 h-20 object-cover rounded-lg",watermarkOpacity:.2})},f))})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"relative max-w-7xl max-h-full p-4",children:[r.jsx("img",{src:o[s],alt:`${t} - Fullscreen`,className:"max-w-full max-h-full object-contain"}),r.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl"})}),o.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-arrow-left-line text-xl"})}),r.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-arrow-right-line text-xl"})})]}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:[s+1," / ",o.length]})]})})]})}function $S({vehicle:e,onClose:t}){const{user:s}=ls(),[a,n]=v.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",message:`Hi, I'm interested in your ${e.title}. Is it still available?`}),[i,l]=v.useState(!1),o=async c=>{c.preventDefault(),l(!0);const u=`Hi, I received an inquiry about your ${e.title}.

Vehicle Details:
- Vehicle ID: ${e.id.slice(-8).toUpperCase()}
- Make: ${e.make}
- Model: ${e.model}
- Year: ${e.year}
- Price: ${e.price.toLocaleString()}
- Location: ${e.location||"Not specified"}

Customer Details:
- Name: ${a.name}
- Email: ${a.email}
- Phone: ${a.phone}

Customer Message:
${a.message}

Please connect with the customer directly.`,g=`https://wa.me/919746725111?text=${encodeURIComponent(u)}`;window.open(g,"_blank"),l(!1),t()};return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Contact Seller"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Send a message about ",e.title]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]}),r.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),r.jsx("input",{type:"text",required:!0,value:a.name,onChange:c=>n({...a,name:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,value:a.email,onChange:c=>n({...a,email:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:c=>n({...a,phone:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),r.jsx("textarea",{required:!0,rows:4,value:a.message,onChange:c=>n({...a,message:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none",placeholder:"Write your message here..."})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("i",{className:"ri-information-line text-yellow-600 mt-0.5 mr-2"}),r.jsxs("div",{className:"text-sm text-yellow-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"WhatsApp Contact"}),r.jsx("p",{children:"Your message will be sent via WhatsApp to connect you with the seller."})]})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 border border-gray-300 text-gray-700 hover:bg-gray-50 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-logo-whatsapp mr-2"}),"Send via WhatsApp"]})})]})]})]})})}function BS({currentVehicleId:e,make:t,vehicleType:s,priceRange:a}){const[n,i]=v.useState([]),[l,o]=v.useState(!0);v.useEffect(()=>{c()},[e,t,s,a]);const c=async()=>{try{let f=V.from("vehicle_listings").select("*").eq("status","active").eq("vehicle_type",s).neq("id",e);t&&(f=f.eq("make",t));const{data:d,error:p}=await f.order("created_at",{ascending:!1}).limit(4);if(p)throw p;i(d||[])}catch(f){console.error("Error fetching similar vehicles:",f)}finally{o(!1)}},u=f=>f>=1e7?`${(f/1e7).toFixed(1)}Cr`:f>=1e5?`${(f/1e5).toFixed(1)}L`:`${f.toLocaleString()}`,g=f=>`https://readdy.ai/api/search-image?query=modern ${f.vehicle_type==="car"?"car":"motorcycle"} ${f.make} ${f.model} professional photography clean background automotive studio lighting high quality detailed&width=300&height=200&seq=${f.id}&orientation=landscape`;return l?r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Vehicles"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((f,d)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-48 bg-gray-200"}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]},d))})]}):n.length===0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Vehicles"}),r.jsxs("div",{className:"text-center py-12 bg-white rounded-xl",children:[r.jsx("i",{className:"ri-car-line text-4xl text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No similar vehicles found"}),r.jsx(se,{to:"/vehicles",className:"inline-block mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Browse All Vehicles"})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Similar Vehicles"}),r.jsx(se,{to:"/vehicles",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"View All"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(f=>{var d;return r.jsxs(se,{to:`/vehicles/${f.id}`,className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:((d=f.images)==null?void 0:d[0])||g(f),alt:f.title,className:"w-full h-48 object-cover object-top group-hover:scale-105 transition-transform duration-300"}),f.premium&&r.jsx("div",{className:`absolute top-2 left-2 bg-gradient-to-r from-yellow-400 to-orange-5
                00 text-white px-2 py-1 rounded-full text-xs font-semibold`,children:"Featured"}),r.jsx("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-xs capitalize",children:f.vehicle_type})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:f.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[f.make," ",f.model,"  ",f.year]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-lg font-bold text-blue-600",children:u(f.price)}),f.location&&r.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[r.jsx("i",{className:"ri-map-pin-line mr-1"}),f.location.split(",")[0]]})]})]})]},f.id)})})]})}function qS(){const{id:e}=r0(),t=tt(),{user:s}=ls(),[a,n]=v.useState(null),[i,l]=v.useState(!0),[o,c]=v.useState(null),[u,g]=v.useState(!1),[f,d]=v.useState(!1),[p,w]=v.useState(!1),[b,j]=v.useState(!1),[y,x]=v.useState({name:(s==null?void 0:s.name)||"",whatsapp:"",place:"",amount:""});v.useEffect(()=>{if(a){const R=`${a.title} - ${a.year} ${a.make} ${a.model} for Sale | Voiture.in`;document.title=R;const O=document.querySelector('meta[name="description"]');if(O){const $=`Buy ${a.title} - ${a.year} ${a.make} ${a.model} for ${a.price.toLocaleString()} in ${a.location||"India"}. ${a.fuel_type?a.fuel_type.charAt(0).toUpperCase()+a.fuel_type.slice(1):""} ${a.transmission?a.transmission:""} ${a.mileage?`${a.mileage.toLocaleString()} km`:""}. Contact verified seller on Voiture.in.`;O.setAttribute("content",$)}let M=document.querySelector('link[rel="canonical"]');M||(M=document.createElement("link"),M.setAttribute("rel","canonical"),document.head.appendChild(M)),M.setAttribute("href",`https://voiture.in/vehicles/${a.id}`);const z={"@context":"https://schema.org","@type":"Vehicle",name:a.title,description:a.description||`${a.year} ${a.make} ${a.model} for sale`,brand:{"@type":"Brand",name:a.make},model:a.model,vehicleModelDate:a.year.toString(),mileageFromOdometer:a.mileage?{"@type":"QuantitativeValue",value:a.mileage,unitCode:"KMT"}:void 0,fuelType:a.fuel_type,vehicleTransmission:a.transmission,color:a.color,vehicleEngine:a.engine_capacity?{"@type":"EngineSpecification",engineDisplacement:{"@type":"QuantitativeValue",value:a.engine_capacity,unitCode:"CMQ"}}:void 0,offers:{"@type":"Offer",price:a.price,priceCurrency:"INR",availability:"https://schema.org/InStock",seller:{"@type":"Person",name:a.seller_name||"Verified Seller"}},image:a.images&&a.images.length>0?a.images:void 0,url:`https://voiture.in/vehicles/${a.id}`},B=document.createElement("script");return B.type="application/ld+json",B.textContent=JSON.stringify(z),document.head.appendChild(B),()=>{var P;const $=document.querySelector('script[type="application/ld+json"]');$&&((P=$.textContent)!=null&&P.includes("Vehicle"))&&document.head.removeChild($)}}},[a]),v.useEffect(()=>{e&&h(e)},[e]),v.useEffect(()=>{s&&a&&N()},[s,a]);const h=async R=>{try{l(!0),c(null);const{data:O,error:M}=await V.from("vehicle_listings").select(`
          id,
          title,
          description,
          make,
          model,
          year,
          price,
          mileage,
          location,
          images,
          fuel_type,
          transmission,
          vehicle_type,
          body_type,
          color,
          engine_capacity,
          registration_year,
          ownership,
          insurance_validity,
          num_owners,
          insurance_expiry,
          accident_history,
          claim_history,
          seller_type,
          registration_state,
          fitness_valid_until,
          pollution_valid_until,
          service_history,
          tyres_condition,
          exterior_condition,
          interior_condition,
          engine_condition,
          parking_type,
          duplicate_key,
          loan_available,
          exchange_accepted,
          negotiable,
          test_drive_available,
          additional_notes,
          created_at,
          posted_by,
          status,
          users!vehicle_listings_posted_by_fkey (
            name,
            phone
          )
        `).eq("id",R).eq("status","active").single();if(M){M.code==="PGRST116"?c("Vehicle not found"):(console.error("Error fetching vehicle:",M),c("Failed to load vehicle details"));return}if(O){const z=Array.isArray(O.users)?O.users[0]:O.users;n({...O,seller_id:O.posted_by,seller_name:(z==null?void 0:z.name)??null,seller_phone:(z==null?void 0:z.phone)??null,seller_whatsapp:(z==null?void 0:z.phone)??null,contact_number:null})}}catch(O){console.error("Unexpected error while loading vehicle:",O),c("Failed to load vehicle details")}finally{l(!1)}},m=async()=>{if(!s){t("/login");return}if(a){w(!0);try{if(f){const{error:R}=await V.from("favorites").delete().eq("user_id",s.id).eq("vehicle_id",a.id);if(R)throw console.error("Delete favorite error:",R),R;d(!1),S("Removed from favorites","success")}else{const{error:R}=await V.from("favorites").insert({user_id:s.id,vehicle_id:a.id});if(R){if(console.error("Insert favorite error:",R),R.code==="23505"){d(!0),S("Vehicle already in favorites","success");return}throw R}d(!0),S("Added to favorites","success")}}catch(R){console.error("Error toggling favorite:",R),S("Failed to update favorites. Please try again.","error")}finally{w(!1)}}},N=async()=>{if(!(!s||!a))try{const{data:R,error:O}=await V.from("favorites").select("id").eq("user_id",s.id).eq("vehicle_id",a.id).maybeSingle();if(O){console.error("Error checking favorite status:",O),d(!1);return}d(!!R)}catch(R){console.error("Error checking favorite status:",R),d(!1)}},S=(R,O)=>{const M=document.createElement("div");M.className=`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium ${O==="success"?"bg-green-600":"bg-red-600"}`,M.textContent=R,document.body.appendChild(M),setTimeout(()=>{document.body.contains(M)&&document.body.removeChild(M)},3e3)},_=()=>{if(!s){t("/login");return}const R=`Hi, I'm interested in your ${a==null?void 0:a.title}.

Vehicle Details:
- Vehicle ID: ${a==null?void 0:a.id.slice(-8).toUpperCase()}
- Make: ${a==null?void 0:a.make}
- Model: ${a==null?void 0:a.model}
- Year: ${a==null?void 0:a.year}
- Price: ${a==null?void 0:a.price.toLocaleString()}
- Location: ${(a==null?void 0:a.location)||"Not specified"}

My Details:
- Name: ${(s==null?void 0:s.name)||(s==null?void 0:s.email)}
- Email: ${s==null?void 0:s.email}
- Phone: ${(s==null?void 0:s.phone)||"Not provided"}

Is this vehicle still available? Please share more details.`,O=`https://wa.me/919746725111?text=${encodeURIComponent(R)}`;window.open(O,"_blank")},T=()=>{if(!s){t("/login");return}const R=`Hi, I would like to get contact details for the ${a==null?void 0:a.title}.

Vehicle Details:
- Vehicle ID: ${a==null?void 0:a.id.slice(-8).toUpperCase()}
- Make: ${a==null?void 0:a.make}
- Model: ${a==null?void 0:a.model}
- Year: ${a==null?void 0:a.year}
- Price: ${a==null?void 0:a.price.toLocaleString()}
- Location: ${(a==null?void 0:a.location)||"Not specified"}

My Details:
- Name: ${(s==null?void 0:s.name)||(s==null?void 0:s.email)}
- Email: ${s==null?void 0:s.email}
- Phone: ${(s==null?void 0:s.phone)||"Not provided"}

Please share the seller's contact information so I can connect directly.`,O=`https://wa.me/919746725111?text=${encodeURIComponent(R)}`;window.open(O,"_blank")},D=R=>{if(R.preventDefault(),!a)return;const O=`Hi, I'm interested in a loan for the ${a.title}.

Vehicle Details:
- Vehicle ID: ${a.id.slice(-8).toUpperCase()}
- Make: ${a.make}
- Model: ${a.model}
- Year: ${a.year}
- Price: ${a.price.toLocaleString()}
- Location: ${a.location||"Not specified"}

My Loan Details:
- Name: ${y.name}
- WhatsApp: ${y.whatsapp}
- Location: ${y.place}
- Desired Loan Amount: ${y.amount}

Please help me with the loan process and required documentation.`,M=`https://wa.me/919746725111?text=${encodeURIComponent(O)}`;window.open(M,"_blank"),j(!1),x({name:(s==null?void 0:s.name)||"",whatsapp:"",place:"",amount:""})},L=R=>R>=1e7?`${(R/1e7).toFixed(1)} Cr`:R>=1e5?`${(R/1e5).toFixed(1)} L`:R>=1e3?`${(R/1e3).toFixed(0)}K`:`${R.toLocaleString()}`;return i?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading vehicle details..."})]})}),r.jsx(It,{})]}):o||!a?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"text-center max-w-md mx-auto px-4",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 sm:p-8",children:[r.jsx("i",{className:"ri-error-warning-line text-3xl sm:text-4xl text-red-500 mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-red-800 mb-2",children:o||"Vehicle not found"}),r.jsx("p",{className:"text-red-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"The vehicle you're looking for might have been removed or doesn't exist"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>t("/vehicles"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Browse Vehicles"]}),r.jsxs("button",{onClick:()=>t(-1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Go Back"]})]})]})})}),r.jsx(It,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",itemScope:!0,itemType:"https://schema.org/Product",children:[r.jsx(Gt,{}),r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:[r.jsxs("span",{itemScope:!0,itemType:"https://schema.org/ListItem",itemProp:"itemListElement",children:[r.jsx("button",{onClick:()=>t("/"),className:"hover:text-blue-600 transition-colors cursor-pointer",itemProp:"name",children:"Home"}),r.jsx("meta",{itemProp:"position",content:"1"})]}),r.jsx("i",{className:"ri-arrow-right-s-line"}),r.jsxs("span",{itemScope:!0,itemType:"https://schema.org/ListItem",itemProp:"itemListElement",children:[r.jsx("button",{onClick:()=>t("/vehicles"),className:"hover:text-blue-600 transition-colors cursor-pointer",itemProp:"name",children:"Vehicles"}),r.jsx("meta",{itemProp:"position",content:"2"})]}),r.jsx("i",{className:"ri-arrow-right-s-line"}),r.jsxs("span",{className:"text-gray-900 font-medium truncate",itemScope:!0,itemType:"https://schema.org/ListItem",itemProp:"itemListElement",children:[r.jsx("span",{itemProp:"name",children:a.title}),r.jsx("meta",{itemProp:"position",content:"3"})]})]})})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors cursor-pointer px-4 py-2 rounded-lg hover:bg-gray-100","aria-label":"Go back to previous page",children:[r.jsx("i",{className:"ri-arrow-left-line"}),r.jsx("span",{children:"Back"})]}),r.jsx(zS,{images:a.images??[],title:a.title}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",itemProp:"name",children:a.title}),r.jsxs("div",{className:"flex items-center space-x-4 text-gray-600",children:[r.jsxs("span",{className:"flex items-center",itemProp:"vehicleModelDate",children:[r.jsx("i",{className:"ri-calendar-line mr-1"}),a.year]}),a.mileage&&r.jsxs("span",{className:"flex items-center",itemProp:"mileageFromOdometer",children:[r.jsx("i",{className:"ri-dashboard-line mr-1"}),a.mileage.toLocaleString()," km"]}),a.location&&r.jsxs("span",{className:"flex items-center",children:[r.jsx("i",{className:"ri-map-pin-line mr-1"}),a.location]})]})]}),r.jsxs("div",{className:"text-right",itemScope:!0,itemType:"https://schema.org/Offer",itemProp:"offers",children:[r.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600 mb-1",itemProp:"price",content:a.price.toString(),children:L(a.price)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Best Price"}),r.jsx("meta",{itemProp:"priceCurrency",content:"INR"}),r.jsx("meta",{itemProp:"availability",content:"https://schema.org/InStock"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("i",{className:"ri-car-line text-xl text-gray-600 mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Make"}),r.jsx("div",{className:"font-semibold text-gray-900",itemProp:"brand",children:a.make})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("i",{className:"ri-settings-line text-xl text-gray-600 mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Model"}),r.jsx("div",{className:"font-semibold text-gray-900",itemProp:"model",children:a.model})]}),a.fuel_type&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("i",{className:"ri-gas-station-line text-xl text-gray-600 mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Fuel"}),r.jsx("div",{className:"font-semibold text-gray-900 capitalize",itemProp:"fuelType",children:a.fuel_type})]}),a.transmission&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("i",{className:"ri-steering-line text-xl text-gray-600 mb-2"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Transmission"}),r.jsx("div",{className:"font-semibold text-gray-900 capitalize",itemProp:"vehicleTransmission",children:a.transmission})]})]}),(a.body_type||a.color||a.engine_capacity||a.ownership||a.registration_year||a.insurance_validity||a.num_owners||a.registration_state||a.accident_history||a.service_history)&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Details"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.body_type&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Body Type:"}),r.jsx("span",{className:"font-medium capitalize",children:a.body_type})]}),a.color&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Color:"}),r.jsx("span",{className:"font-medium capitalize",itemProp:"color",children:a.color})]}),a.engine_capacity&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Engine:"}),r.jsxs("span",{className:"font-medium",children:[a.engine_capacity," cc"]})]}),a.num_owners&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Owners:"}),r.jsxs("span",{className:"font-medium",children:[a.num_owners," Owner",a.num_owners>1?"s":""]})]}),a.registration_year&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Registration Year:"}),r.jsx("span",{className:"font-medium",children:a.registration_year})]}),a.registration_state&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Registration State:"}),r.jsx("span",{className:"font-medium",children:a.registration_state})]}),a.insurance_expiry&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Insurance Expiry:"}),r.jsx("span",{className:"font-medium",children:new Date(a.insurance_expiry).toLocaleDateString()})]}),a.seller_type&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Seller Type:"}),r.jsx("span",{className:"font-medium capitalize",children:a.seller_type})]})]})]}),(a.service_history||a.tyres_condition||a.exterior_condition||a.interior_condition||a.engine_condition||a.accident_history||a.claim_history||a.parking_type)&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Condition"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.service_history&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Service History:"}),r.jsx("span",{className:"font-medium capitalize",children:a.service_history.replace("_"," ")})]}),a.tyres_condition&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tyres:"}),r.jsx("span",{className:"font-medium capitalize",children:a.tyres_condition.replace("_"," ")})]}),a.exterior_condition&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Exterior:"}),r.jsx("span",{className:"font-medium capitalize",children:a.exterior_condition})]}),a.interior_condition&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Interior:"}),r.jsx("span",{className:"font-medium capitalize",children:a.interior_condition})]}),a.engine_condition&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Engine:"}),r.jsx("span",{className:"font-medium capitalize",children:a.engine_condition})]}),a.accident_history&&a.accident_history!=="none"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Accident History:"}),r.jsxs("span",{className:"font-medium capitalize",children:[a.accident_history," Accident"]})]}),a.claim_history&&a.claim_history!=="none"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Insurance Claims:"}),r.jsx("span",{className:"font-medium",children:"Previous Claims"})]}),a.parking_type&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Parking:"}),r.jsxs("span",{className:"font-medium capitalize",children:[a.parking_type," Parked"]})]})]})]}),(a.duplicate_key||a.loan_available||a.exchange_accepted||a.negotiable||a.test_drive_available)&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Features"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.duplicate_key&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[r.jsx("i",{className:"ri-key-line mr-1"}),"Duplicate Key Available"]}),a.loan_available&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[r.jsx("i",{className:"ri-bank-line mr-1"}),"Loan Available"]}),a.exchange_accepted&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[r.jsx("i",{className:"ri-exchange-line mr-1"}),"Exchange Accepted"]}),a.negotiable&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:[r.jsx("i",{className:"ri-price-tag-line mr-1"}),"Price Negotiable"]}),a.test_drive_available&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-teal-100 text-teal-800",children:[r.jsx("i",{className:"ri-steering-line mr-1"}),"Test Drive Available"]})]})]}),(a.fitness_valid_until||a.pollution_valid_until)&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Certificate Validity"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.fitness_valid_until&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fitness Valid Until:"}),r.jsx("span",{className:"font-medium",children:new Date(a.fitness_valid_until).toLocaleDateString()})]}),a.pollution_valid_until&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Pollution Valid Until:"}),r.jsx("span",{className:"font-medium",children:new Date(a.pollution_valid_until).toLocaleDateString()})]})]})]}),a.additional_notes&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Notes"}),r.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:a.additional_notes})]}),a.description&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),r.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",itemProp:"description",children:a.description})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-24",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Seller"}),a.seller_name&&r.jsxs("div",{className:"flex items-center space-x-3 mb-4",itemScope:!0,itemType:"https://schema.org/Person",itemProp:"seller",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"ri-user-line text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",itemProp:"name",children:a.seller_name}),r.jsx("div",{className:"text-sm text-gray-500",children:"Verified Seller"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center whitespace-nowrap cursor-pointer","aria-label":"Send message to seller via WhatsApp",children:[r.jsx("i",{className:"ri-message-line mr-2"}),"Send Message"]}),r.jsxs("button",{onClick:T,className:"w-full bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center whitespace-nowrap cursor-pointer","aria-label":"Get seller contact details",children:[r.jsx("i",{className:"ri-phone-line mr-2"}),"Get Contact Details"]}),r.jsxs("button",{onClick:()=>j(!0),className:"w-full bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center whitespace-nowrap cursor-pointer","aria-label":"Apply for vehicle loan",children:[r.jsx("i",{className:"ri-bank-line mr-2"}),"Looking for Loan"]}),r.jsxs("button",{onClick:m,disabled:p,className:`w-full px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center whitespace-nowrap cursor-pointer ${f?"bg-red-600 hover:bg-red-700 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"} ${p?"opacity-50 cursor-not-allowed":""}`,"aria-label":f?"Remove from favorites":"Add to favorites",children:[p?r.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}):r.jsx("i",{className:`${f?"ri-heart-fill":"ri-heart-line"} mr-2`}),p?"Updating...":f?"Remove from Favorites":"Save to Favorites"]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t",children:r.jsxs("div",{className:"text-sm text-gray-500 text-center space-y-1",children:[r.jsxs("p",{children:["Listed ",new Date(a.created_at).toLocaleDateString()]}),r.jsxs("p",{children:["Vehicle ID: ",a.id.slice(-8).toUpperCase()]})]})})]}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-sm font-semibold text-amber-800 mb-3 flex items-center",children:[r.jsx("i",{className:"ri-shield-check-line mr-2"}),"Safety Tips"]}),r.jsxs("ul",{className:"text-sm text-amber-700 space-y-2",children:[r.jsx("li",{children:" Meet in a public place"}),r.jsx("li",{children:" Inspect the vehicle thoroughly"}),r.jsx("li",{children:" Verify all documents"}),r.jsx("li",{children:" Don't pay advance without inspection"}),r.jsx("li",{children:" Contact details will be shared after verification"})]})]})]})]}),r.jsx("div",{className:"mt-8 sm:mt-12",children:r.jsx(BS,{vehicleType:a.vehicle_type,currentVehicleId:a.id,make:a.make})})]})}),u&&r.jsx($S,{vehicle:a,onClose:()=>g(!1)}),b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Loan Inquiry"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Get loan assistance for ",a.title]})]}),r.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer","aria-label":"Close loan form",children:r.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]}),r.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),r.jsx("input",{type:"text",required:!0,value:y.name,onChange:R=>x({...y,name:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"Enter your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",required:!0,value:y.whatsapp,onChange:R=>x({...y,whatsapp:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"Enter your WhatsApp number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsx("input",{type:"text",required:!0,value:y.place,onChange:R=>x({...y,place:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"Enter your location"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desired Loan Amount"}),r.jsx("input",{type:"text",required:!0,value:y.amount,onChange:R=>x({...y,amount:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"e.g. 500000"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center",children:[r.jsx("i",{className:"ri-logo-whatsapp mr-2"}),"Send via WhatsApp"]})]})]})]})}),r.jsx(It,{})]})}const vl={Toyota:["Camry","Corolla","RAV4","Highlander","Prius","Innova","Fortuner","Glanza","Urban Cruiser"],Honda:["Civic","Accord","CR-V","Pilot","City","Amaze","WR-V","BR-V","Jazz"],Ford:["Mustang","F-150","Explorer","Escape","Focus","EcoSport","Endeavour","Figo","Aspire"],BMW:["3 Series","5 Series","X3","X5","i3","i8","Z4","7 Series","X1"],Mercedes:["C-Class","E-Class","S-Class","GLC","GLE","A-Class","CLA","GLA","GLS"],Audi:["A3","A4","A6","Q5","Q7","A8","Q3","TT","R8"],Nissan:["Altima","Sentra","Rogue","Pathfinder","Leaf","Kicks","Magnite","GT-R"],Hyundai:["Elantra","Sonata","Tucson","Santa Fe","i10","i20","Creta","Venue","Verna"],Chevrolet:["Malibu","Equinox","Traverse","Silverado","Camaro","Beat","Cruze","Trailblazer"],Volkswagen:["Jetta","Passat","Tiguan","Atlas","Golf","Polo","Vento","T-Roc","Taigun"],"Maruti Suzuki":["Swift","Baleno","Dzire","Vitara Brezza","Ertiga","Ciaz","Alto","WagonR","Celerio"],Mahindra:["XUV500","Scorpio","Thar","Bolero","KUV100","XUV300","Marazzo","Alturas G4"],Tata:["Nexon","Harrier","Safari","Altroz","Tigor","Tiago","Hexa","Zest","Punch"],Kia:["Optima","Sorento","Sportate","Rio","Seltos","Carnival","Sonet","Stinger"],Skoda:["Octavia","Superb","Kodiaq","Karoq","Rapid","Kushaq","Slavia","Fabia"]},jl={"Royal Enfield":["Classic 350","Bullet 350","Himalayan","Interceptor 650","Continental GT 650","Meteor 350","Hunter 350"],Bajaj:["Pulsar 150","Pulsar 220F","Avenger 220","Dominar 400","CT 100","Platina","Chetak Electric"],KTM:["Duke 200","Duke 390","RC 200","RC 390","Adventure 390","790 Duke","890 Duke"],Yamaha:["R15 V4","MT-15","FZ-S","R3","MT-03","YZF-R1","Fascino","Ray ZR"],Hero:["Splendor Plus","HF Deluxe","Passion Pro","Glamour","Xtreme 160R","Xpulse 200","Maestro Edge"],TVS:["Apache RTR 160","Apache RTR 200","Jupiter","XL100","Ntorq 125","Radeon","Star City Plus"],Honda:["CB Shine","Unicorn","CB Hornet 160R","X-Blade","Activa 6G","Dio","Grazia","CB350RS"],Suzuki:["Gixxer 155","Gixxer SF","Intruder 150","Access 125","Burgman Street","V-Strom 650","Hayabusa"],Kawasaki:["Ninja 300","Ninja 650","Z650","Versys 650","Z900","Ninja ZX-10R","W800"],"Harley Davidson":["Iron 883","Forty-Eight","Street 750","Fat Boy","Road King","Sportster S"],BMW:["G 310 R","G 310 GS","F 750 GS","R 1250 GS","S 1000 RR","R nineT"],Ducati:["Panigale V2","Monster 821","Scrambler Icon","Multistrada V4","Diavel 1260","SuperSport"]};function VS(){const{user:e,loading:t}=ls(),s=tt(),{logVehiclePosted:a}=fr(),[n,i]=v.useState(!1),[l,o]=v.useState(1),[c,u]=v.useState(""),[g,f]=v.useState(""),[d,p]=v.useState(!1),[w,b]=v.useState(!1),[j,y]=v.useState(null),[x,h]=v.useState(null),[m,N]=v.useState({title:"",make:"",model:"",year:"",mileage:"",fuel_type:"",transmission:"",location:"",price:"",vehicle_type:"car",description:"",images:[],contact_number:"",body_type:"",color:"",engine_capacity:"",num_owners:1,insurance_expiry:"",accident_history:"none",claim_history:"none",seller_type:"owner",registration_year:"",registration_state:"",other_state_registered:!1,fitness_valid_until:"",pollution_valid_until:"",service_history:"complete",tyres_condition:"good",exterior_condition:"good",interior_condition:"good",engine_condition:"good",parking_type:"covered",duplicate_key:!1,loan_available:!1,exchange_accepted:!1,negotiable:!0,test_drive_available:!0,additional_notes:"",home_vehicles:[]});if(v.useEffect(()=>{console.log(" PostVehicle component mounted"),console.log("Current path:",window.location.pathname),console.log("User loaded:",!!e),console.log("Loading state:",t),!t&&!e&&window.location.pathname==="/vehicles/post"&&(console.log(" Redirecting to login..."),s("/login",{replace:!0}))},[e,t,s]),v.useEffect(()=>{if(m.make&&m.model){const k=`${m.year||""} ${m.make} ${m.model}`.trim();(m.title===""||m.title===k)&&N(H=>({...H,title:k}))}},[m.make,m.model,m.year]),t)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading vehicle posting form..."})]})});if(!e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"ri-login-box-line text-2xl text-blue-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to post a vehicle listing."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>s("/login"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Sign In"}),r.jsx("button",{onClick:()=>s("/"),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Go Home"})]})]})});const S=()=>m.vehicle_type==="car"?Object.keys(vl).sort():Object.keys(jl).sort(),_=()=>m.make?(m.vehicle_type==="car"?vl:jl)[m.make]||[]:[],T=m.vehicle_type==="car"?["Petrol","Diesel","Electric","Hybrid","CNG","LPG"]:["Petrol","Electric","Kick Start","Self Start"],D=m.vehicle_type==="car"?["Manual","Automatic","CVT","DCT"]:["Manual","Automatic","CVT"],L=m.vehicle_type==="car"?["Sedan","Hatchback","SUV","Crossover","Coupe","Convertible","Wagon","Pickup","Van","Luxury"]:["Sport","Cruiser","Touring","Standard","Scooter","Adventure","Dirt","Racing"],R=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Gold","Maroon","Other"],O=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Chandigarh","Puducherry"],M=S(),z=_(),B=(k,H)=>{N(Y=>({...Y,[k]:H})),c&&u(""),k==="make"&&N(Y=>({...Y,model:""}))},$=k=>{B("make",k),p(!1)},P=k=>{B("model",k),b(!1)},G=M.filter(k=>k.toLowerCase().includes(m.make.toLowerCase())),ae=z.filter(k=>k.toLowerCase().includes(m.model.toLowerCase())),me=k=>k.size>5*1024*1024?"Image size must be less than 5MB":["image/jpeg","image/jpg","image/png","image/webp"].includes(k.type)?null:"Only JPEG, PNG and WebP images are allowed",Ie=k=>{const H=Array.from(k.target.files||[]);if(H.length+m.images.length>10){u("Maximum 10 images allowed");return}const Y=[],W=[];H.forEach(ie=>{const ge=me(ie);ge?W.push(`${ie.name}: ${ge}`):Y.push(ie)}),W.length>0&&(u("Some images were not added: "+W.join(", ")),setTimeout(()=>{Y.length>0&&u("")},3e3)),Y.length>0&&(N(ie=>({...ie,images:[...ie.images,...Y]})),console.log(` Added ${Y.length} valid images. Total: ${m.images.length+Y.length}`)),k.target.value=""},Ye=k=>{const H=m.images[k];N(Y=>({...Y,images:Y.images.filter((W,ie)=>ie!==k)})),console.log(` Removed image: ${H.name}. Remaining: ${m.images.length-1}`)},$e=async()=>{var H;if(!(e!=null&&e.id)){u("Authentication error. Please login again."),s("/login");return}if(!m.title||!m.price||!m.make||!m.model||!m.year||!m.contact_number){u("Please fill in all required fields including contact number");return}if(!/^[6-9]\d{9}$/.test(m.contact_number)){u("Please enter a valid 10-digit Indian mobile number");return}if(n){console.log("Submission already in progress, ignoring click");return}i(!0),u(""),f("");try{console.log(" Submitting vehicle via Edge Function for user:",e.id),console.log(" Processing",m.images.length,"images for upload");const Y=[];if(m.images.length>0){console.log(" Converting",m.images.length,"images to base64...");for(let re=0;re<m.images.length;re++){const be=m.images[re];try{console.log(` Converting image ${re+1}/${m.images.length}: ${be.name} (${(be.size/1024/1024).toFixed(2)}MB)`);const Ue=await new Promise((Be,xt)=>{const De=new FileReader;De.onload=()=>{const mt=De.result.split(",")[1];Be(mt)},De.onerror=xt,De.readAsDataURL(be)});Y.push({name:be.name,data:Ue,type:be.type}),console.log(` Image ${re+1} converted successfully`),f(`Converting images... ${re+1}/${m.images.length} completed`)}catch(Ue){console.error(" Failed to convert image",re+1,":",Ue),u(`Failed to process image ${re+1}: ${be.name}. Please try again.`),i(!1);return}}console.log(" All images converted successfully. Total images:",Y.length),f("Images processed successfully. Submitting vehicle listing...")}const W={posted_by:e.id,title:m.title.trim(),make:m.make.trim(),model:m.model.trim(),year:Number(m.year),price:Number(m.price),location:m.location.trim()||null,vehicle_type:m.vehicle_type,description:m.description.trim()||null,mileage:m.mileage?Number(m.mileage):null,fuel_type:m.fuel_type||null,transmission:m.transmission||null,body_type:m.body_type||null,color:m.color||null,engine_capacity:m.engine_capacity?Number(m.engine_capacity):null,registration_year:m.registration_year?Number(m.registration_year):null,ownership:m.num_owners?m.num_owners.toString():"1",insurance_validity:m.insurance_expiry||null,num_owners:m.num_owners||1,insurance_expiry:m.insurance_expiry||null,accident_history:m.accident_history||"none",claim_history:m.claim_history||"none",seller_type:m.seller_type||"owner",registration_state:m.registration_state||null,fitness_valid_until:m.fitness_valid_until||null,pollution_valid_until:m.pollution_valid_until||null,service_history:m.service_history||"complete",tyres_condition:m.tyres_condition||"good",exterior_condition:m.exterior_condition||"good",interior_condition:m.interior_condition||"good",engine_condition:m.engine_condition||"good",parking_type:m.parking_type||"covered",duplicate_key:m.duplicate_key||!1,loan_available:m.loan_available||!1,exchange_accepted:m.exchange_accepted||!1,negotiable:m.negotiable!==void 0?m.negotiable:!0,test_drive_available:m.test_drive_available!==void 0?m.test_drive_available:!0,additional_notes:((H=m.additional_notes)==null?void 0:H.trim())||null,contact_number:m.contact_number.trim(),imageData:Y,home_vehicles:m.home_vehicles.filter(re=>re.make&&re.model&&re.year&&re.registration_number).map(re=>({vehicle_type:re.vehicle_type||"car",make:re.make.trim(),model:re.model.trim(),year:Number(re.year),registration_number:re.registration_number.trim().toUpperCase()}))};console.log(" Submitting vehicle data via Edge Function with",Y.length,"images"),console.log(" Submitting",W.home_vehicles.length,"home vehicles:",W.home_vehicles);const ie=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/submit-vehicle",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sb_publishable_9x-dJknR6kXLpGnGR9HwkA_RgG6k-hr"},body:JSON.stringify({vehicleData:W})}),ge=await ie.json();if(!ie.ok||!ge.success){console.error(" Edge Function error:",ge),u(ge.error||"Failed to submit vehicle listing");return}console.log(" Vehicle submitted successfully via Edge Function:",ge.vehicleId),a(ge.vehicleId,W),f("Vehicle submitted successfully! Redirecting to dashboard..."),setTimeout(()=>{s("/dashboard",{replace:!0})},2e3)}catch(Y){console.error(" Error posting vehicle:",Y),u("Failed to post vehicle. Please check your internet connection and try again.")}finally{i(!1)}},ye=()=>o(k=>Math.min(k+1,4)),ee=()=>o(k=>Math.max(k-1,1)),oe=k=>{switch(k){case 1:return m.vehicle_type&&m.make&&m.model&&m.year;case 2:return m.title&&m.price&&m.location&&m.contact_number;case 3:return m.seller_type&&m.num_owners;case 4:return!0;default:return!1}},A=()=>{const k={id:Date.now().toString(),vehicle_type:"car",make:"",model:"",year:"",registration_number:""};N(H=>({...H,home_vehicles:[...H.home_vehicles,k]}))},C=k=>{N(H=>({...H,home_vehicles:H.home_vehicles.filter((Y,W)=>W!==k)}))},q=(k,H,Y)=>{N(W=>({...W,home_vehicles:W.home_vehicles.map((ie,ge)=>ge===k?{...ie,[H]:Y}:ie)})),H==="make"&&N(W=>({...W,home_vehicles:W.home_vehicles.map((ie,ge)=>ge===k?{...ie,model:""}:ie)}))},J=k=>k.make?(k.vehicle_type==="car"?vl:jl)[k.make]||[]:[];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Post Your Vehicle"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"List your vehicle for sale on our platform"})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"flex items-center justify-center space-x-4 sm:space-x-8 mb-8",children:[1,2,3,4].map(k=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${l>=k?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:k}),r.jsxs("div",{className:"ml-3 text-sm",children:[r.jsxs("div",{className:`font-medium ${l>=k?"text-blue-600":"text-gray-600"}`,children:[k===1&&"Vehicle Details",k===2&&"Listing Info",k===3&&"Condition & History",k===4&&"Photos & Review"]}),k<4&&r.jsx("div",{className:`w-16 h-0.5 ml-6 ${l>k?"bg-blue-600":"bg-gray-200"}`})]})]},k))}),c&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-error-warning-line mr-2"}),c]})})}),g&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-check-line mr-2"}),g]})})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[r.jsxs("form",{onSubmit:k=>k.preventDefault(),children:[l===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Vehicle Details"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type *"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>B("vehicle_type","car"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.vehicle_type==="car"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Car"]}),r.jsxs("button",{type:"button",onClick:()=>B("vehicle_type","bike"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.vehicle_type==="bike"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-motorbike-line mr-2"}),"Bike"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make *"}),r.jsx("input",{type:"text",value:m.make,onChange:k=>{B("make",k.target.value),p(!0)},onFocus:()=>p(!0),onBlur:()=>setTimeout(()=>p(!1),200),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select make",required:!0}),d&&G.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:G.slice(0,10).map((k,H)=>r.jsx("button",{type:"button",onClick:()=>$(k),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:k},H))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),r.jsx("input",{type:"text",value:m.model,onChange:k=>{B("model",k.target.value),b(!0)},onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select model",required:!0}),w&&ae.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:ae.slice(0,10).map((k,H)=>r.jsx("button",{type:"button",onClick:()=>P(k),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:k},H))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"number",value:m.year,onChange:k=>B("year",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter year",min:"1990",max:new Date().getFullYear()+1,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Year"}),r.jsx("input",{type:"number",value:m.registration_year,onChange:k=>B("registration_year",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Registration year",min:"1990",max:new Date().getFullYear()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KM Driven"}),r.jsx("input",{type:"number",value:m.mileage,onChange:k=>B("mileage",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter kilometers driven",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registered from Other State?"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"button",onClick:()=>B("other_state_registered",!1),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.other_state_registered?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:"No"}),r.jsx("button",{type:"button",onClick:()=>B("other_state_registered",!0),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.other_state_registered?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Yes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuel Type"}),r.jsxs("select",{value:m.fuel_type,onChange:k=>B("fuel_type",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Fuel Type"}),T.map(k=>r.jsx("option",{value:k.toLowerCase(),children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmission"}),r.jsxs("select",{value:m.transmission,onChange:k=>B("transmission",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Transmission"}),D.map(k=>r.jsx("option",{value:k.toLowerCase(),children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body Type"}),r.jsxs("select",{value:m.body_type,onChange:k=>B("body_type",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Body Type"}),L.map(k=>r.jsx("option",{value:k.toLowerCase(),children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),r.jsxs("select",{value:m.color,onChange:k=>B("color",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Color"}),R.map(k=>r.jsx("option",{value:k.toLowerCase(),children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Engine Capacity (CC)"}),r.jsx("input",{type:"number",value:m.engine_capacity,onChange:k=>B("engine_capacity",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Engine capacity in CC",min:"50",max:"8000"})]})]})]})]}),l===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Listing Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title * ",r.jsx("span",{className:"text-sm text-gray-500",children:"(Auto-generated, can be edited)"})]}),r.jsx("input",{type:"text",value:m.title,onChange:k=>B("title",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 2020 Toyota Camry - Excellent Condition",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),r.jsx("input",{type:"number",value:m.price,onChange:k=>B("price",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter price",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),r.jsx("input",{type:"text",value:m.location,onChange:k=>B("location",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number *"}),r.jsx("input",{type:"tel",value:m.contact_number,onChange:k=>B("contact_number",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter 10-digit mobile number",pattern:"[6-9][0-9]{9}",maxLength:10,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seller Type *"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>B("seller_type","owner"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.seller_type==="owner"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-user-line mr-2"}),"Owner"]}),r.jsxs("button",{type:"button",onClick:()=>B("seller_type","dealer"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${m.seller_type==="dealer"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-store-line mr-2"}),"Dealer"]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:m.description,onChange:k=>B("description",k.target.value),rows:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your vehicle's condition, features, service history, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Features & Benefits"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.duplicate_key,onChange:k=>B("duplicate_key",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Duplicate Key Available"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.loan_available,onChange:k=>B("loan_available",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Loan Available"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.exchange_accepted,onChange:k=>B("exchange_accepted",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Exchange Accepted"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.negotiable,onChange:k=>B("negotiable",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Price Negotiable"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.test_drive_available,onChange:k=>B("test_drive_available",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Test Drive Available"})]})]})]})]}),l===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Vehicle Condition & History"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Owners *"}),r.jsxs("select",{value:m.num_owners,onChange:k=>B("num_owners",parseInt(k.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",required:!0,children:[r.jsx("option",{value:1,children:"1st Owner"}),r.jsx("option",{value:2,children:"2nd Owner"}),r.jsx("option",{value:3,children:"3rd Owner"}),r.jsx("option",{value:4,children:"4th Owner"}),r.jsx("option",{value:5,children:"5+ Owners"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accident History"}),r.jsxs("select",{value:m.accident_history,onChange:k=>B("accident_history",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"none",children:"No Accident"}),r.jsx("option",{value:"minor",children:"Minor Accident"}),r.jsx("option",{value:"major",children:"Major Accident"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Claim History"}),r.jsxs("select",{value:m.claim_history,onChange:k=>B("claim_history",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"none",children:"No Claims"}),r.jsx("option",{value:"yes",children:"Previous Claims"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Year"}),r.jsx("input",{type:"number",value:m.registration_year,onChange:k=>B("registration_year",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Registration year",min:"1990",max:new Date().getFullYear()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration State"}),r.jsxs("select",{value:m.registration_state,onChange:k=>B("registration_state",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Registration State"}),O.map(k=>r.jsx("option",{value:k,children:k},k))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Expiry Date"}),r.jsx("input",{type:"date",value:m.insurance_expiry,onChange:k=>B("insurance_expiry",k.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fitness Certificate Valid Until"}),r.jsx("input",{type:"date",value:m.fitness_valid_until,onChange:k=>B("fitness_valid_until",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-5
                      focus:border-transparent`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pollution Certificate Valid Until"}),r.jsx("input",{type:"date",value:m.pollution_valid_until,onChange:k=>B("pollution_valid_until",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                      focus:border-transparent`})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Condition Assessment"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service History"}),r.jsxs("select",{value:m.service_history,onChange:k=>B("service_history",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"complete",children:"Complete Service History"}),r.jsx("option",{value:"partial",children:"Partial Service History"}),r.jsx("option",{value:"none",children:"No Service History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tyres Condition"}),r.jsxs("select",{value:m.tyres_condition,onChange:k=>B("tyres_condition",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"needs_replacement",children:"Needs Replacement"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exterior Condition"}),r.jsxs("select",{value:m.exterior_condition,onChange:k=>B("exterior_condition",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interior Condition"}),r.jsxs("select",{value:m.interior_condition,onChange:k=>B("interior_condition",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Engine Condition"}),r.jsxs("select",{value:m.engine_condition,onChange:k=>B("engine_condition",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Type"}),r.jsxs("select",{value:m.parking_type,onChange:k=>B("parking_type",k.target.value),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                        focus:border-transparent pr-8`,children:[r.jsx("option",{value:"garage",children:"Garage Parked"}),r.jsx("option",{value:"covered",children:"Covered Parking"}),r.jsx("option",{value:"open",children:"Open Parking"}),r.jsx("option",{value:"street",children:"Street Parked"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{value:m.additional_notes,onChange:k=>B("additional_notes",k.target.value),rows:4,className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500
                    focus:border-transparent`,placeholder:"Any additional information about the vehicle condition, modifications, recent repairs, etc."})]})]}),l===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos & Review"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("i",{className:"ri-home-4-line mr-2 text-blue-600"}),"Other Vehicles in Your Home/Garage"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please provide information about any other vehicles you own. This information is only visible to you and administrators, not to the public."}),m.home_vehicles.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("i",{className:"ri-car-line text-4xl text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No vehicles added yet"}),r.jsxs("button",{type:"button",onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Vehicle"]})]}):r.jsxs("div",{className:"space-y-4",children:[m.home_vehicles.map((k,H)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:["Vehicle ",H+1]}),r.jsx("button",{type:"button",onClick:()=>C(H),className:"text-red-600 hover:text-red-700 transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-delete-bin-line"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>q(H,"vehicle_type","car"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${k.vehicle_type==="car"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Car"}),r.jsx("button",{type:"button",onClick:()=>q(H,"vehicle_type","bike"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${k.vehicle_type==="bike"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Bike"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make *"}),r.jsx("input",{type:"text",value:k.make,onChange:Y=>{q(H,"make",Y.target.value),y(H)},onFocus:()=>y(H),onBlur:()=>setTimeout(()=>y(null),200),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select make",required:!0}),j===H&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1",children:(k.vehicle_type==="car"?Object.keys(vl):Object.keys(jl)).filter(Y=>Y.toLowerCase().includes(k.make.toLowerCase())).slice(0,8).map((Y,W)=>r.jsx("button",{type:"button",onClick:()=>{q(H,"make",Y),y(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:Y},W))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),r.jsx("input",{type:"text",value:k.model,onChange:Y=>{q(H,"model",Y.target.value),h(H)},onFocus:()=>h(H),onBlur:()=>setTimeout(()=>h(null),200),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select model",required:!0}),x===H&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto mt-1",children:J(k).filter(Y=>Y.toLowerCase().includes(k.model.toLowerCase())).slice(0,8).map((Y,W)=>r.jsx("button",{type:"button",onClick:()=>{q(H,"model",Y),h(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:Y},W))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"number",value:k.year,onChange:Y=>q(H,"year",Y.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Year",min:"1990",max:new Date().getFullYear()+1,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),r.jsx("input",{type:"text",value:k.registration_number,onChange:Y=>q(H,"registration_number",Y.target.value.toUpperCase()),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., MH01AB1234",required:!0})]})]})]},k.id||H)),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Another Vehicle"]})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Photos"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Ie,className:"hidden",id:"image-upload",disabled:n}),r.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap ${n?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("i",{className:"ri-upload-2-line mr-2"}),m.images.length===0?"Upload Photos":"Add More Photos"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Upload up to 10 high-quality photos (JPEG, PNG, WebP). Max 5MB each."})]}),m.images.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-4",children:["Selected Photos (",m.images.length,"/10)"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:m.images.map((k,H)=>r.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden aspect-square",children:[r.jsx("img",{src:URL.createObjectURL(k),alt:`Upload ${H+1}`,className:"w-full h-full object-cover"}),H===0&&r.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded font-medium",children:"Main Photo"}),r.jsx("button",{type:"button",onClick:()=>Ye(H),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 hover:bg-red-700 text-white rounded-full flex items-center justify-center transition-colors opacity-0 group-hover:opacity-100 cursor-pointer",disabled:n,children:r.jsx("i",{className:"ri-close-line text-sm"})})]},H))})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Review Your Listing"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle:"}),r.jsxs("span",{className:"font-medium",children:[m.year," ",m.make," ",m.model]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("span",{className:"font-medium capitalize",children:m.vehicle_type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Price:"}),r.jsxs("span",{className:"font-medium",children:["",m.price?Number(m.price).toLocaleString():"0"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{className:"font-medium",children:m.location})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Seller Type:"}),r.jsx("span",{className:"font-medium capitalize",children:m.seller_type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Owners:"}),r.jsxs("span",{className:"font-medium",children:[m.num_owners," Owner",Number(m.num_owners)>1?"s":""]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Photos:"}),r.jsxs("span",{className:"font-medium",children:[m.images.length," uploaded"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Contact:"}),r.jsx("span",{className:"font-medium",children:m.contact_number})]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between gap-4 pt-8 border-t border-gray-200 mt-8",children:[r.jsxs("button",{type:"button",onClick:ee,disabled:l===1||n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Previous"]}),l<4?r.jsxs("button",{type:"button",onClick:ye,disabled:!oe(l)||n,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:["Next Step",r.jsx("i",{className:"ri-arrow-right-line ml-2"})]}):r.jsx("button",{type:"button",onClick:$e,disabled:n||!m.title||!m.price||!m.make||!m.model||!m.year||!m.contact_number,className:"px-8 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:n?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-send-plane-line mr-2"}),"Submit for Approval"]})})]})]})]})]})}const Bf={Toyota:["Camry","Corolla","RAV4","Highlander","Prius","Innova","Fortuner","Glanza","Urban Cruiser"],Honda:["Civic","Accord","CR-V","Pilot","City","Amaze","WR-V","BR-V","Jazz"],Ford:["Mustang","F-150","Explorer","Escape","Focus","EcoSport","Endeavour","Figo","Aspire"],BMW:["3 Series","5 Series","X3","X5","i3","i8","Z4","7 Series","X1"],Mercedes:["C-Class","E-Class","S-Class","GLC","GLE","A-Class","CLA","GLA","GLS"],Audi:["A3","A4","A6","Q5","Q7","A8","Q3","TT","R8"],Nissan:["Altima","Sentra","Rogue","Pathfinder","Leaf","Kicks","Magnite","GT-R"],Hyundai:["Elantra","Sonata","Tucson","Santa Fe","i10","i20","Creta","Venue","Verna"],Chevrolet:["Malibu","Equinox","Traverse","Silverado","Camaro","Beat","Cruze","Trailblazer"],Volkswagen:["Jetta","Passat","Tiguan","Atlas","Golf","Polo","Vento","T-Roc","Taigun"],"Maruti Suzuki":["Swift","Baleno","Dzire","Vitara Brezza","Ertiga","Ciaz","Alto","WagonR","Celerio"],Mahindra:["XUV500","Scorpio","Thar","Bolero","KUV100","XUV300","Marazzo","Alturas G4"],Tata:["Nexon","Harrier","Safari","Altroz","Tigor","Tiago","Hexa","Zest","Punch"],Kia:["Optima","Sorento","Sportate","Rio","Seltos","Carnival","Sonet","Stinger"],Skoda:["Octavia","Superb","Kodiaq","Karoq","Rapid","Kushaq","Slavia","Fabia"]},qf={"Royal Enfield":["Classic 350","Bullet 350","Himalayan","Interceptor 650","Continental GT 650","Meteor 350","Hunter 350"],Bajaj:["Pulsar 150","Pulsar 220F","Avenger 220","Dominar 400","CT 100","Platina","Chetak Electric"],KTM:["Duke 200","Duke 390","RC 200","RC 390","Adventure 390","790 Duke","890 Duke"],Yamaha:["R15 V4","MT-15","FZ-S","R3","MT-03","YZF-R1","Fascino","Ray ZR"],Hero:["Splendor Plus","HF Deluxe","Passion Pro","Glamour","Xtreme 160R","Xpulse 200","Maestro Edge"],TVS:["Apache RTR 160","Apache RTR 200","Jupiter","XL100","Ntorq 125","Radeon","Star City Plus"],Honda:["CB Shine","Unicorn","CB Hornet 160R","X-Blade","Activa 6G","Dio","Grazia","CB350RS"],Suzuki:["Gixxer 155","Gixxer SF","Intruder 150","Access 125","Burgman Street","V-Strom 650","Hayabusa"],Kawasaki:["Ninja 300","Ninja 650","Z650","Versys 650","Z900","Ninja ZX-10R","W800"],"Harley Davidson":["Iron 883","Forty-Eight","Street 750","Fat Boy","Road King","Sportster S"],BMW:["G 310 R","G 310 GS","F 750 GS","R 1250 GS","S 1000 RR","R nineT"],Ducati:["Panigale V2","Monster 821","Scrambler Icon","Multistrada V4","Diavel 1260","SuperSport"]};function PS(){const{user:e,loading:t}=ls(),s=tt(),{id:a}=r0(),{logVehicleUpdated:n}=fr(),[i,l]=v.useState(!1),[o,c]=v.useState(!0),[u,g]=v.useState(1),[f,d]=v.useState(""),[p,w]=v.useState(""),[b,j]=v.useState(!1),[y,x]=v.useState(!1),[h,m]=v.useState({title:"",make:"",model:"",year:"",mileage:"",fuel_type:"",transmission:"",location:"",price:"",vehicle_type:"car",description:"",images:[],existingImages:[],contact_number:"",body_type:"",color:"",engine_capacity:"",num_owners:1,insurance_expiry:"",accident_history:"none",claim_history:"none",seller_type:"owner",registration_year:"",registration_state:"",other_state_registered:!1,fitness_valid_until:"",pollution_valid_until:"",service_history:"complete",tyres_condition:"good",exterior_condition:"good",interior_condition:"good",engine_condition:"good",parking_type:"covered",duplicate_key:!1,loan_available:!1,exchange_accepted:!1,negotiable:!0,test_drive_available:!0,additional_notes:""});if(v.useEffect(()=>{e&&a&&(async()=>{if(!a){d("Vehicle ID not provided"),c(!1);return}try{const{data:C,error:q}=await V.from("vehicle_listings").select("*").eq("id",a).eq("posted_by",e==null?void 0:e.id).single();if(q){console.error("Error loading vehicle:",q),d("Failed to load vehicle data");return}if(!C){d("Vehicle not found or you do not have permission to edit it");return}m({title:C.title||"",make:C.make||"",model:C.model||"",year:C.year||"",mileage:C.mileage||"",fuel_type:C.fuel_type||"",transmission:C.transmission||"",location:C.location||"",price:C.price||"",vehicle_type:C.vehicle_type||"car",description:C.description||"",images:[],existingImages:C.images||[],contact_number:C.contact_number||"",body_type:C.body_type||"",color:C.color||"",engine_capacity:C.engine_capacity||"",num_owners:C.num_owners||1,insurance_expiry:C.insurance_expiry||"",accident_history:C.accident_history||"none",claim_history:C.claim_history||"none",seller_type:C.seller_type||"owner",registration_year:C.registration_year||"",registration_state:C.registration_state||"",other_state_registered:C.other_state_registered||!1,fitness_valid_until:C.fitness_valid_until||"",pollution_valid_until:C.pollution_valid_until||"",service_history:C.service_history||"complete",tyres_condition:C.tyres_condition||"good",exterior_condition:C.exterior_condition||"good",interior_condition:C.interior_condition||"good",engine_condition:C.engine_condition||"good",parking_type:C.parking_type||"covered",duplicate_key:C.duplicate_key||!1,loan_available:C.loan_available||!1,exchange_accepted:C.exchange_accepted||!1,negotiable:C.negotiable!==void 0?C.negotiable:!0,test_drive_available:C.test_drive_available!==void 0?C.test_drive_available:!0,additional_notes:C.additional_notes||""})}catch(C){console.error("Error loading vehicle:",C),d("Failed to load vehicle data")}finally{c(!1)}})()},[e,a]),v.useEffect(()=>{!t&&!e&&s("/login",{replace:!0})},[e,t,s]),v.useEffect(()=>{if(h.make&&h.model){const A=`${h.year||""} ${h.make} ${h.model}`.trim();(h.title===""||h.title===A)&&m(C=>({...C,title:A}))}},[h.make,h.model,h.year]),t||o)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading vehicle data..."})]})});if(!e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"ri-login-box-line text-2xl text-blue-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to edit a vehicle listing."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>s("/login"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Sign In"}),r.jsx("button",{onClick:()=>s("/"),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Go Home"})]})]})});const N=()=>h.vehicle_type==="car"?Object.keys(Bf).sort():Object.keys(qf).sort(),S=()=>h.make?(h.vehicle_type==="car"?Bf:qf)[h.make]||[]:[],_=h.vehicle_type==="car"?["Petrol","Diesel","Electric","Hybrid","CNG","LPG"]:["Petrol","Electric","Kick Start","Self Start"],T=h.vehicle_type==="car"?["Manual","Automatic","CVT","DCT"]:["Manual","Automatic","CVT"],D=h.vehicle_type==="car"?["Sedan","Hatchback","SUV","Crossover","Coupe","Convertible","Wagon","Pickup","Van","Luxury"]:["Sport","Cruiser","Touring","Standard","Scooter","Adventure","Dirt","Racing"],L=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Gold","Maroon","Other"],R=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Chandigarh","Puducherry"],O=N(),M=S(),z=(A,C)=>{m(q=>({...q,[A]:C})),f&&d(""),A==="make"&&m(q=>({...q,model:""}))},B=A=>{z("make",A),j(!1)},$=A=>{z("model",A),x(!1)},P=O.filter(A=>A.toLowerCase().includes(h.make.toLowerCase())),G=M.filter(A=>A.toLowerCase().includes(h.model.toLowerCase())),ae=A=>A.size>5*1024*1024?"Image size must be less than 5MB":["image/jpeg","image/jpg","image/png","image/webp"].includes(A.type)?null:"Only JPEG, PNG and WebP images are allowed",me=A=>{const C=Array.from(A.target.files||[]);if(C.length+h.images.length+h.existingImages.length>10){d("Maximum 10 images allowed");return}const q=[],J=[];C.forEach(k=>{const H=ae(k);H?J.push(`${k.name}: ${H}`):q.push(k)}),J.length>0&&(d("Some images were not added: "+J.join(", ")),setTimeout(()=>{q.length>0&&d("")},3e3)),q.length>0&&m(k=>({...k,images:[...k.images,...q]})),A.target.value=""},Ie=A=>{m(C=>({...C,images:C.images.filter((q,J)=>J!==A)}))},Ye=A=>{m(C=>({...C,existingImages:C.existingImages.filter((q,J)=>J!==A)}))},$e=async()=>{var C;if(!(e!=null&&e.id)||!a){d("Authentication error. Please login again."),s("/login");return}if(!h.title||!h.price||!h.make||!h.model||!h.year||!h.contact_number){d("Please fill in all required fields including contact number");return}if(!/^[6-9]\\d{9}$/.test(h.contact_number)){d("Please enter a valid 10-digit Indian mobile number");return}if(!i){l(!0),d(""),w("");try{console.log(" Updating vehicle via direct Supabase for user:",e.id);const q=[];if(h.images.length>0){console.log(" Converting",h.images.length,"new images to base64...");for(let Y=0;Y<h.images.length;Y++){const W=h.images[Y];try{const ie=await new Promise((ge,re)=>{const be=new FileReader;be.onload=()=>{const Be=be.result.split(",")[1];ge(Be)},be.onerror=re,be.readAsDataURL(W)});q.push({name:W.name,data:ie,type:W.type})}catch(ie){console.error(" Failed to convert image",Y+1,":",ie),d(`Failed to process image ${Y+1}: ${W.name}. Please try again.`),l(!1);return}}}const J={title:h.title.trim(),make:h.make.trim(),model:h.model.trim(),year:Number(h.year),price:Number(h.price),location:h.location.trim()||null,vehicle_type:h.vehicle_type,description:h.description.trim()||null,mileage:h.mileage?Number(h.mileage):null,fuel_type:h.fuel_type||null,transmission:h.transmission||null,body_type:h.body_type||null,color:h.color||null,engine_capacity:h.engine_capacity?Number(h.engine_capacity):null,registration_year:h.registration_year?Number(h.registration_year):null,ownership:h.num_owners?h.num_owners.toString():"1",insurance_validity:h.insurance_expiry||null,num_owners:h.num_owners||1,insurance_expiry:h.insurance_expiry||null,accident_history:h.accident_history||"none",claim_history:h.claim_history||"none",seller_type:h.seller_type||"owner",registration_state:h.registration_state||null,fitness_valid_until:h.fitness_valid_until||null,pollution_valid_until:h.pollution_valid_until||null,service_history:h.service_history||"complete",tyres_condition:h.tyres_condition||"good",exterior_condition:h.exterior_condition||"good",interior_condition:h.interior_condition||"good",engine_condition:h.engine_condition||"good",parking_type:h.parking_type||"covered",duplicate_key:h.duplicate_key||!1,loan_available:h.loan_available||!1,exchange_accepted:h.exchange_accepted||!1,negotiable:h.negotiable!==void 0?h.negotiable:!0,test_drive_available:h.test_drive_available!==void 0?h.test_drive_available:!0,additional_notes:((C=h.additional_notes)==null?void 0:C.trim())||null,contact_number:h.contact_number.trim(),updated_at:new Date().toISOString()};let k=[...h.existingImages];if(q.length>0){w("Uploading new images...");for(const Y of q)try{const W=atob(Y.data),ie=new Array(W.length);for(let De=0;De<W.length;De++)ie[De]=W.charCodeAt(De);const ge=new Uint8Array(ie),re=new Blob([ge],{type:Y.type}),be=`${a}_${Date.now()}_${Y.name}`,{data:Ue,error:Be}=await V.storage.from("vehicle-images").upload(be,re);if(Be){console.error("Upload error:",Be);continue}const{data:xt}=V.storage.from("vehicle-images").getPublicUrl(be);xt!=null&&xt.publicUrl&&k.push(xt.publicUrl)}catch(W){console.error("Error uploading image:",W)}}const{error:H}=await V.from("vehicle_listings").update({...J,images:k}).eq("id",a).eq("posted_by",e.id);if(H){console.error(" Update error:",H),d("Failed to update vehicle listing");return}console.log(" Vehicle updated successfully"),n(a,J,J),w("Vehicle updated successfully! Redirecting to dashboard..."),setTimeout(()=>{s("/dashboard",{replace:!0})},2e3)}catch(q){console.error(" Error updating vehicle:",q),d("Failed to update vehicle. Please check your internet connection and try again.")}finally{l(!1)}}},ye=()=>g(A=>Math.min(A+1,4)),ee=()=>g(A=>Math.max(A-1,1)),oe=A=>{switch(A){case 1:return h.vehicle_type&&h.make&&h.model&&h.year;case 2:return h.title&&h.price&&h.location&&h.contact_number;case 3:return h.seller_type&&h.num_owners;case 4:return!0;default:return!1}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Gt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Vehicle Listing"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Update your vehicle information"})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"flex items-center justify-center space-x-4 sm:space-x-8 mb-8",children:[1,2,3,4].map(A=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${u>=A?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:A}),r.jsx("div",{className:"ml-3 text-sm",children:r.jsxs("div",{className:`font-medium ${u>=A?"text-blue-600":"text-gray-600"}`,children:[A===1&&"Vehicle Details",A===2&&"Listing Info",A===3&&"Condition & History",A===4&&"Photos & Review"]})}),A<4&&r.jsx("div",{className:`w-16 h-0.5 ml-6 ${u>A?"bg-blue-600":"bg-gray-200"}`})]},A))}),f&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-error-warning-line mr-2"}),f]})})}),p&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-check-line mr-2"}),p]})})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[r.jsxs("form",{onSubmit:A=>A.preventDefault(),children:[u===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Vehicle Details"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type *"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>z("vehicle_type","car"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${h.vehicle_type==="car"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Car"]}),r.jsxs("button",{type:"button",onClick:()=>z("vehicle_type","bike"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${h.vehicle_type==="bike"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-motorbike-line mr-2"}),"Bike"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make *"}),r.jsx("input",{type:"text",value:h.make,onChange:A=>{z("make",A.target.value),j(!0)},onFocus:()=>j(!0),onBlur:()=>setTimeout(()=>j(!1),200),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select make",required:!0}),b&&P.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:P.slice(0,10).map((A,C)=>r.jsx("button",{type:"button",onClick:()=>B(A),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:A},C))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),r.jsx("input",{type:"text",value:h.model,onChange:A=>{z("model",A.target.value),x(!0)},onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),200),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type or select model",required:!0}),y&&G.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:G.slice(0,10).map((A,C)=>r.jsx("button",{type:"button",onClick:()=>$(A),className:"w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors cursor-pointer border-b border-gray-100 last:border-b-0",children:A},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"number",value:h.year,onChange:A=>z("year",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter year",min:"1990",max:new Date().getFullYear()+1,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Year"}),r.jsx("input",{type:"number",value:h.registration_year,onChange:A=>z("registration_year",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Registration year",min:"1990",max:new Date().getFullYear()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KM Driven"}),r.jsx("input",{type:"number",value:h.mileage,onChange:A=>z("mileage",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter kilometers driven",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuel Type"}),r.jsxs("select",{value:h.fuel_type,onChange:A=>z("fuel_type",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Fuel Type"}),_.map(A=>r.jsx("option",{value:A.toLowerCase(),children:A},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmission"}),r.jsxs("select",{value:h.transmission,onChange:A=>z("transmission",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Transmission"}),T.map(A=>r.jsx("option",{value:A.toLowerCase(),children:A},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body Type"}),r.jsxs("select",{value:h.body_type,onChange:A=>z("body_type",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Body Type"}),D.map(A=>r.jsx("option",{value:A.toLowerCase(),children:A},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),r.jsxs("select",{value:h.color,onChange:A=>z("color",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Color"}),L.map(A=>r.jsx("option",{value:A.toLowerCase(),children:A},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Engine Capacity (CC)"}),r.jsx("input",{type:"number",value:h.engine_capacity,onChange:A=>z("engine_capacity",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Engine capacity in CC",min:"50",max:"8000"})]})]})]})]}),u===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Listing Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title * ",r.jsx("span",{className:"text-sm text-gray-500",children:"(Auto-generated, can be edited)"})]}),r.jsx("input",{type:"text",value:h.title,onChange:A=>z("title",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 2020 Toyota Camry - Excellent Condition",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),r.jsx("input",{type:"number",value:h.price,onChange:A=>z("price",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter price",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),r.jsx("input",{type:"text",value:h.location,onChange:A=>z("location",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number *"}),r.jsx("input",{type:"tel",value:h.contact_number,onChange:A=>z("contact_number",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter 10-digit mobile number",pattern:"[6-9][0-9]{9}",maxLength:10,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seller Type *"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>z("seller_type","owner"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${h.seller_type==="owner"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-user-line mr-2"}),"Owner"]}),r.jsxs("button",{type:"button",onClick:()=>z("seller_type","dealer"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ${h.seller_type==="dealer"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("i",{className:"ri-store-line mr-2"}),"Dealer"]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:h.description,onChange:A=>z("description",A.target.value),rows:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your vehicle's condition, features, service history, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Features & Benefits"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.duplicate_key,onChange:A=>z("duplicate_key",A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Duplicate Key Available"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.loan_available,onChange:A=>z("loan_available",A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Loan Available"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.exchange_accepted,onChange:A=>z("exchange_accepted",A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Exchange Accepted"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.negotiable,onChange:A=>z("negotiable",A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Price Negotiable"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.test_drive_available,onChange:A=>z("test_drive_available",A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Test Drive Available"})]})]})]})]}),u===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Vehicle Condition & History"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Owners *"}),r.jsxs("select",{value:h.num_owners,onChange:A=>z("num_owners",parseInt(A.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",required:!0,children:[r.jsx("option",{value:1,children:"1st Owner"}),r.jsx("option",{value:2,children:"2nd Owner"}),r.jsx("option",{value:3,children:"3rd Owner"}),r.jsx("option",{value:4,children:"4th Owner"}),r.jsx("option",{value:5,children:"5+ Owners"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accident History"}),r.jsxs("select",{value:h.accident_history,onChange:A=>z("accident_history",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"none",children:"No Accident"}),r.jsx("option",{value:"minor",children:"Minor Accident"}),r.jsx("option",{value:"major",children:"Major Accident"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Claim History"}),r.jsxs("select",{value:h.claim_history,onChange:A=>z("claim_history",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"none",children:"No Claims"}),r.jsx("option",{value:"yes",children:"Previous Claims"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration State"}),r.jsxs("select",{value:h.registration_state,onChange:A=>z("registration_state",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"",children:"Select Registration State"}),R.map(A=>r.jsx("option",{value:A,children:A},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Expiry Date"}),r.jsx("input",{type:"date",value:h.insurance_expiry,onChange:A=>z("insurance_expiry",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fitness Certificate Valid Until"}),r.jsx("input",{type:"date",value:h.fitness_valid_until,onChange:A=>z("fitness_valid_until",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pollution Certificate Valid Until"}),r.jsx("input",{type:"date",value:h.pollution_valid_until,onChange:A=>z("pollution_valid_until",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Condition Assessment"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service History"}),r.jsxs("select",{value:h.service_history,onChange:A=>z("service_history",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"complete",children:"Complete Service History"}),r.jsx("option",{value:"partial",children:"Partial Service History"}),r.jsx("option",{value:"none",children:"No Service History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tyres Condition"}),r.jsxs("select",{value:h.tyres_condition,onChange:A=>z("tyres_condition",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"needs_replacement",children:"Needs Replacement"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exterior Condition"}),r.jsxs("select",{value:h.exterior_condition,onChange:A=>z("exterior_condition",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interior Condition"}),r.jsxs("select",{value:h.interior_condition,onChange:A=>z("interior_condition",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Engine Condition"}),r.jsxs("select",{value:h.engine_condition,onChange:A=>z("engine_condition",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"poor",children:"Poor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Type"}),r.jsxs("select",{value:h.parking_type,onChange:A=>z("parking_type",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8",children:[r.jsx("option",{value:"garage",children:"Garage Parked"}),r.jsx("option",{value:"covered",children:"Covered Parking"}),r.jsx("option",{value:"open",children:"Open Parking"}),r.jsx("option",{value:"street",children:"Street Parked"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{value:h.additional_notes,onChange:A=>z("additional_notes",A.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information about the vehicle condition, modifications, recent repairs, etc."})]})]}),u===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos & Review"}),h.existingImages.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-4",children:["Current Photos (",h.existingImages.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:h.existingImages.map((A,C)=>r.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden aspect-square",children:[r.jsx("img",{src:A,alt:`Existing ${C+1}`,className:"w-full h-full object-cover"}),C===0&&r.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded font-medium",children:"Main Photo"}),r.jsx("button",{type:"button",onClick:()=>Ye(C),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 hover:bg-red-700 text-white rounded-full flex items-center justify-center transition-colors opacity-0 group-hover:opacity-100 cursor-pointer",disabled:i,children:r.jsx("i",{className:"ri-close-line text-sm"})})]},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Photos"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:me,className:"hidden",id:"image-upload",disabled:i}),r.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap ${i?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("i",{className:"ri-upload-2-line mr-2"}),"Add More Photos"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Upload up to 10 high-quality photos total (JPEG, PNG, WebP). Max 5MB each."})]}),h.images.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-4",children:["New Photos (",h.images.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:h.images.map((A,C)=>r.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden aspect-square",children:[r.jsx("img",{src:URL.createObjectURL(A),alt:`New ${C+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded font-medium",children:"New"}),r.jsx("button",{type:"button",onClick:()=>Ie(C),className:"absolute top-2 right-2 w-6 h-6 bg-red-600 hover:bg-red-700 text-white rounded-full flex items-center justify-center transition-colors opacity-0 group-hover:opacity-100 cursor-pointer",disabled:i,children:r.jsx("i",{className:"ri-close-line text-sm"})})]},C))})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Review Your Changes"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle:"}),r.jsxs("span",{className:"font-medium",children:[h.year," ",h.make," ",h.model]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("span",{className:"font-medium capitalize",children:h.vehicle_type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Price:"}),r.jsxs("span",{className:"font-medium",children:["",h.price?Number(h.price).toLocaleString():"0"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{className:"font-medium",children:h.location})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Seller Type:"}),r.jsx("span",{className:"font-medium capitalize",children:h.seller_type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Owners:"}),r.jsxs("span",{className:"font-medium",children:[h.num_owners," Owner",Number(h.num_owners)>1?"s":""]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Photos:"}),r.jsx("span",{className:"font-medium",children:h.existingImages.length+h.images.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Contact:"}),r.jsx("span",{className:"font-medium",children:h.contact_number})]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between gap-4 pt-8 border-t border-gray-200 mt-8",children:[r.jsxs("button",{type:"button",onClick:ee,disabled:u===1||i,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Previous"]}),u<4?r.jsxs("button",{type:"button",onClick:ye,disabled:!oe(u)||i,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:["Next Step",r.jsx("i",{className:"ri-arrow-right-line ml-2"})]}):r.jsx("button",{type:"button",onClick:$e,disabled:i||!h.title||!h.price||!h.make||!h.model||!h.year||!h.contact_number,className:"px-8 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:i?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-save-line mr-2"}),"Update Vehicle"]})})]})]})]}),r.jsx(It,{})]})}function HS(){var S;const e=tt(),[t,s]=v.useState([]),[a,n]=v.useState(!0),[i,l]=v.useState(null),[o,c]=v.useState("all"),[u,g]=v.useState(!1),[f,d]=v.useState({isOpen:!1,requirement:null}),[p,w]=v.useState({name:"",phone:"",email:"",message:""});v.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0),l(null);const{data:_,error:T}=await V.from("requirements").select(`
          *,
          users:posted_by (
            name,
            email,
            phone
          )
        `).eq("status","open").order("created_at",{ascending:!1});if(T)throw T;console.log(" Fetched requirements with users:",(_==null?void 0:_.length)||0),s(_||[])}catch(_){console.error("Error fetching requirements:",_.message),l("Failed to load requirements")}finally{n(!1)}},j=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(_),y=t.filter(_=>o==="all"||_.vehicle_type===o),x=_=>{d({isOpen:!0,requirement:_}),w({name:"",phone:"",email:"",message:`Hi! I have a ${_.vehicle_type} that matches your requirements. Here are the details:

Requirement ID: ${_.id}
Vehicle Type: ${_.vehicle_type}
Make/Model: ${[_.make,_.model].filter(Boolean).join(" ")}
Price Range: ${_.price_range_min&&_.price_range_max?`${j(_.price_range_min)} - ${j(_.price_range_max)}`:"As per requirement"}

I would like to discuss this with you.`})},h=()=>{if(!f.requirement)return;const _=f.requirement,T=`Hi! I have a ${_.vehicle_type} that matches your requirements.

*Requirement Details:*
- ID: ${_.id}
- Vehicle Type: ${_.vehicle_type}
- Make/Model: ${[_.make,_.model].filter(Boolean).join(" ")}
- Year Range: ${_.year_range_min&&_.year_range_max?`${_.year_range_min} - ${_.year_range_max}`:"As specified"}
- Price Range: ${_.price_range_min&&_.price_range_max?`${j(_.price_range_min)} - ${j(_.price_range_max)}`:"As per requirement"}
- Location: ${_.location||"As specified"}

*My Contact Details:*
- Name: ${p.name}
- Phone: ${p.phone}
- Email: ${p.email}

*Message:*
${p.message}

I would like to discuss this vehicle with you.`,D=`https://wa.me/919746725111?text=${encodeURIComponent(T)}`;window.open(D,"_blank"),d({isOpen:!1,requirement:null}),w({name:"",phone:"",email:"",message:""})},m=()=>{g(!0)},N=()=>{g(!1),b()};return a?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading requirements..."})]})}),r.jsx(It,{})]}):i?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"text-center max-w-md mx-auto px-4",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 sm:p-8",children:[r.jsx("i",{className:"ri-error-warning-line text-3xl sm:text-4xl text-red-500 mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-red-800 mb-2",children:"Failed to Load Requirements"}),r.jsx("p",{className:"text-red-600 mb-4 sm:mb-6 text-sm sm:text-base",children:i}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>e(-1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Go Back"]}),r.jsxs("button",{onClick:b,className:"bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-refresh-line mr-2"}),"Try Again"]})]})]})})}),r.jsx(It,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-2",children:[r.jsx("button",{onClick:()=>e("/"),className:"hover:text-blue-600 transition-colors cursor-pointer",children:"Home"}),r.jsx("i",{className:"ri-arrow-right-s-line"}),r.jsx("span",{className:"text-gray-900 font-medium",children:"Requirements"})]}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Vehicle Requirements"}),r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:[y.length," active requirement",y.length!==1?"s":""]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("button",{onClick:()=>e(-1),className:"flex items-center justify-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors cursor-pointer px-4 py-2 rounded-lg hover:bg-gray-100",children:[r.jsx("i",{className:"ri-arrow-left-line"}),r.jsx("span",{children:"Back"})]}),r.jsxs("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap inline-flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Post Your Requirement"]}),r.jsxs(se,{to:"/vehicles",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap inline-flex items-center justify-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-search-line mr-2"}),"Browse Vehicles"]})]})]})})}),r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:["all","car","bike"].map(_=>r.jsx("button",{onClick:()=>c(_),className:`px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${o===_?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_==="all"?"All Requirements":`${_.charAt(0).toUpperCase()+_.slice(1)}s`},_))})})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:y.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-file-search-line text-4xl sm:text-6xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-600 mb-2",children:"No Requirements Found"}),r.jsx("p",{className:"text-gray-500 mb-4 sm:mb-6 text-sm sm:text-base",children:"There are currently no active requirements matching your criteria."}),r.jsxs(se,{to:"/vehicles",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap inline-flex items-center text-sm sm:text-base",children:[r.jsx("i",{className:"ri-search-line mr-2"}),"Browse Available Vehicles"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:y.map(_=>{var T;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:`${_.vehicle_type==="car"?"ri-car-line":"ri-motorcycle-line"} text-xl sm:text-2xl text-blue-600 mr-3`}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 capitalize text-sm sm:text-base",children:[_.vehicle_type," Required"]}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Posted by ",((T=_.users)==null?void 0:T.name)||"Anonymous"]})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.status==="open"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:_.status})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[(_.make||_.model)&&r.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[r.jsx("i",{className:"ri-car-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:[_.make,_.model].filter(Boolean).join(" ")})]}),(_.year_range_min||_.year_range_max)&&r.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[r.jsx("i",{className:"ri-calendar-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:_.year_range_min&&_.year_range_max?`${_.year_range_min} - ${_.year_range_max}`:_.year_range_min?`From ${_.year_range_min}`:`Up to ${_.year_range_max}`})]}),(_.price_range_min||_.price_range_max)&&r.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[r.jsx("i",{className:"ri-money-dollar-circle-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:_.price_range_min&&_.price_range_max?`${j(_.price_range_min)} - ${j(_.price_range_max)}`:_.price_range_min?`From ${j(_.price_range_min)}`:`Up to ${j(_.price_range_max)}`})]}),_.location&&r.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[r.jsx("i",{className:"ri-map-pin-line mr-2 w-4 h-4 flex items-center justify-center"}),r.jsx("span",{children:_.location})]}),_.description&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsx("p",{className:"text-xs sm:text-sm text-gray-700 line-clamp-2",children:_.description})})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.created_at).toLocaleDateString()}),r.jsxs("button",{onClick:()=>x(_),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-xs font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center",children:[r.jsx("i",{className:"ri-whatsapp-line mr-1"}),"Contact"]})]})]},_.id)})})})}),u&&r.jsx(gy,{onClose:N}),f.isOpen&&f.requirement&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Requirement Owner"}),r.jsx("button",{onClick:()=>d({isOpen:!1,requirement:null}),className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl"})})]}),r.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Requirement by:"}),r.jsx("p",{className:"font-medium text-gray-900",children:((S=f.requirement.users)==null?void 0:S.name)||"Anonymous"}),r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[f.requirement.vehicle_type,"  ",[f.requirement.make,f.requirement.model].filter(Boolean).join(" ")]})]}),r.jsxs("form",{onSubmit:_=>{_.preventDefault(),h()},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),r.jsx("input",{type:"text",required:!0,value:p.name,onChange:_=>w({...p,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number *"}),r.jsx("input",{type:"tel",required:!0,value:p.phone,onChange:_=>w({...p,phone:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your WhatsApp number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:p.email,onChange:_=>w({...p,email:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter your email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{value:p.message,onChange:_=>w({...p,message:_.target.value}),rows:4,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none",placeholder:"Describe your vehicle details..."}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[p.message.length,"/500 characters"]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>d({isOpen:!1,requirement:null}),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer whitespace-nowrap",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center",children:[r.jsx("i",{className:"ri-whatsapp-line mr-2"}),"Send WhatsApp"]})]})]})]})})}),r.jsx(It,{})]})}function GS(){const[e,t]=v.useState({name:"",email:"",subject:"",message:"",category:"general"}),[s,a]=v.useState(!1),[n,i]=v.useState(!1),l=async o=>{o.preventDefault(),a(!0),setTimeout(()=>{a(!1),i(!0)},2e3)};return n?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsx(se,{to:"/",className:"flex items-center",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 w-auto object-contain"})})})}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("i",{className:"ri-check-line text-2xl text-green-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Message Sent Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. Our support team will get back to you within 24 hours."}),r.jsxs(se,{to:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-home-line mr-2"}),"Back to Home"]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsx(se,{to:"/",className:"flex items-center",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 w-auto object-contain"})})})}),r.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Contact Support"}),r.jsx("p",{className:"text-gray-600",children:"Have a question or need help? We're here to assist you."})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:r.jsxs("form",{onSubmit:l,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",required:!0,value:e.name,onChange:o=>t({...e,name:o.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:e.email,onChange:o=>t({...e,email:o.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"your@email.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{value:e.category,onChange:o=>t({...e,category:o.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm pr-8",children:[r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"technical",children:"Technical Support"}),r.jsx("option",{value:"account",children:"Account Issues"}),r.jsx("option",{value:"billing",children:"Billing Questions"}),r.jsx("option",{value:"feedback",children:"Feedback"}),r.jsx("option",{value:"bug",children:"Report a Bug"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",required:!0,value:e.subject,onChange:o=>t({...e,subject:o.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Brief description of your issue"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),r.jsx("textarea",{required:!0,rows:6,value:e.message,onChange:o=>t({...e,message:o.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-none",placeholder:"Please provide detailed information about your question or issue...",maxLength:500}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.message.length,"/500 characters"]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("i",{className:"ri-information-line text-blue-600 mt-0.5 mr-3"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Response Time"}),r.jsx("p",{children:"We typically respond to support requests within 24 hours during business days."})]})]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(se,{to:"/",className:"flex-1 border border-gray-300 text-gray-700 hover:bg-gray-50 py-3 px-4 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap text-center",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-send-plane-line mr-2"}),"Send Message"]})})]})]})}),r.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"ri-mail-line text-xl text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-600",children:"support@voiture.in"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"ri-whatsapp-line text-xl text-green-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"WhatsApp"}),r.jsx("p",{className:"text-sm text-gray-600",children:"+91 8111890101"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("i",{className:"ri-time-line text-xl text-purple-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Business Hours"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mon-Fri: 9 AM - 6 PM IST"})]})]})]})]})}function IS(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsx(se,{to:"/",className:"flex items-center",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 w-auto object-contain"})})})}),r.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-80px)] text-center px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-9xl font-bold text-gray-200 mb-4",children:"404"}),r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"ri-car-line text-3xl text-blue-600"})})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(se,{to:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-home-line mr-2"}),"Go Home"]}),r.jsxs(se,{to:"/vehicles",className:"border border-blue-600 text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Browse Vehicles"]})]})]})})]})}function YS(){const e=tt(),t=Oa(),{signIn:s,user:a,loading:n,initialized:i}=ls(),[l,o]=v.useState({email:"",password:""}),[c,u]=v.useState(""),[g,f]=v.useState(!1),{logUserLogin:d}=fr();v.useEffect(()=>{const j=new URLSearchParams(t.search).get("message");j&&u(j)},[t]),v.useEffect(()=>{var b,j;if(i&&!n&&a){const y=((j=(b=t.state)==null?void 0:b.from)==null?void 0:j.pathname)||"/dashboard";e(y,{replace:!0})}},[a,i,n,e,t.state]);const p=b=>{o({...l,[b.target.name]:b.target.value}),c&&u("")},w=async b=>{var j,y;if(b.preventDefault(),!g){f(!0),u("");try{const{data:x,error:h}=await s(l.email,l.password);if(h||!x){u((h==null?void 0:h.message)||"Invalid email or password");return}await d(x);const m=((y=(j=t.state)==null?void 0:j.from)==null?void 0:y.pathname)||"/dashboard";e(m,{replace:!0})}catch(x){console.error("Login error:",x),u("Login failed. Please try again.")}finally{f(!1)}}};return i?a?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 sm:h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Sign in to your account to continue"})]}),r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsxs("div",{className:"bg-white py-6 sm:py-8 px-4 sm:px-6 lg:px-10 shadow rounded-lg sm:rounded-xl",children:[r.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:w,children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-3 sm:px-4 py-3 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-error-warning-line mr-2"}),c]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:p,disabled:g,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your email"}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-mail-line text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l.password,onChange:p,disabled:g,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your password"}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-lock-line text-gray-400"})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsx(se,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500 cursor-pointer",children:"Forgot your password?"})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-2 sm:py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors cursor-pointer whitespace-nowrap",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-login-circle-line mr-2"}),"Sign in"]})})})]}),r.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",r.jsx(se,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 cursor-pointer",children:"Sign up now"})]})})]}),r.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:r.jsx(se,{to:"/",className:"text-blue-600 hover:text-blue-500 text-sm cursor-pointer",children:" Back to Home"})})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})}function FS(){const[e,t]=v.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",city:""}),[s,a]=v.useState(!1),[n,i]=v.useState(null),[l,o]=v.useState(""),[c,u]=v.useState(!1),{user:g,loading:f}=ls(),d=tt(),{logUserRegistration:p}=fr();if(v.useEffect(()=>{!f&&g&&d("/dashboard",{replace:!0})},[g,f,d]),f)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(g)return null;const w=async b=>{if(b.preventDefault(),e.password!==e.confirmPassword){i("Passwords do not match");return}if(e.password.length<6){i("Password must be at least 6 characters long");return}a(!0),i("");try{console.log(" Starting registration process...");const y=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5173/login?verified=true":"https://voiture.in/login?verified=true";console.log(" Email verification will redirect to:",y);const{data:x,error:h}=await V.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:y,data:{name:e.name,phone:e.phone||null,city:e.city}}});if(h){i(h.message||"Registration failed");return}x.user&&await p(x.user.id,e.email),o("Registration successful! Please check your email to verify your account before logging in."),u(!0)}catch(j){i(j.message||"An error occurred during registration")}finally{a(!1)}};return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 sm:h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"We've sent a verification link to your email"})]}),r.jsx("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:r.jsx("i",{className:"ri-mail-check-line text-green-600 text-xl"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Email Sent"}),r.jsxs("p",{className:"text-gray-600 text-sm mb-6",children:["We've sent a verification link to ",r.jsx("strong",{children:e.email}),". Please check your email and click the link to verify your account."]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("i",{className:"ri-information-line text-blue-600 mt-0.5 mr-2"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-blue-800 text-sm font-medium mb-1",children:"Next Steps:"}),r.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[r.jsx("li",{children:" Check your email inbox"}),r.jsx("li",{children:" Look for an email from Voiture.in"}),r.jsx("li",{children:" Click the verification link"}),r.jsx("li",{children:" Return to login page"})]})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(se,{to:"/login",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 sm:py-3 px-4 rounded-lg transition duration-300 ease-in-out text-sm sm:text-base inline-block text-center",children:"Go to Login"}),r.jsx("button",{onClick:()=>{u(!1),o(""),t({name:"",email:"",phone:"",password:"",confirmPassword:"",city:""})},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 sm:py-3 px-4 rounded-lg transition duration-300 ease-in-out text-sm sm:text-base",children:"Register Different Email"})]})]})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Didn't receive the email? Check your spam folder or"," ",r.jsx("button",{onClick:()=>u(!1),className:"font-medium text-blue-600 hover:text-blue-5",children:"try again"})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-10 sm:h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Create Account"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Join our community of vehicle enthusiasts"})]}),r.jsxs("div",{className:"bg-white rounded-lg sm:rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8",children:[r.jsxs("form",{onSubmit:w,className:"space-y-4 sm:space-y-6",children:[n&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-3 sm:px-4 py-3 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-error-warning-line mr-2"}),n]})}),l&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-3 sm:px-4 py-3 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-check-line mr-2"}),l]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",required:!0,value:e.name,onChange:b=>t({...e,name:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,value:e.email,onChange:b=>t({...e,email:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your email"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.jsx("i",{className:"ri-information-line mr-1"}),"We'll send a verification link to this email"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",required:!0,value:e.phone,onChange:b=>t({...e,phone:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"Password"}),r.jsx("input",{type:"password",required:!0,minLength:6,value:e.password,onChange:b=>t({...e,password:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your password"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"Confirm Password"}),r.jsx("input",{type:"password",required:!0,minLength:6,value:e.confirmPassword,onChange:b=>t({...e,confirmPassword:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Confirm your password"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-7 mb-2",children:"City"}),r.jsx("input",{type:"text",required:!0,value:e.city,onChange:b=>t({...e,city:b.target.value}),disabled:s,className:"w-full p-2 sm:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your city"})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 sm:py-3 px-4 rounded-lg transition duration-300 ease-in-out text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:s?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),r.jsxs("div",{className:"mt-4 sm:mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",r.jsx(se,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})]})})}function jy(){const[e,t]=v.useState(null),[s,a]=v.useState(!0),[n,i]=v.useState(!1),[l,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await V.auth.getSession();if(b!=null&&b.user){const{data:j,error:y}=await V.from("admin_users").select("*").eq("auth_user_id",b.user.id).eq("status","active").single();y||!j?(console.warn("No admin record found for authenticated user"),await V.auth.signOut(),localStorage.removeItem("admin_user")):(t(j),localStorage.setItem("admin_user",JSON.stringify(j)))}else localStorage.removeItem("admin_user")}catch(b){console.warn("Admin session check failed:",b),localStorage.removeItem("admin_user")}finally{a(!1),i(!0)}})();const{data:{subscription:w}}=V.auth.onAuthStateChange(async(b,j)=>{if(b==="SIGNED_OUT")t(null),localStorage.removeItem("admin_user");else if(b==="SIGNED_IN"&&(j!=null&&j.user)){const{data:y}=await V.from("admin_users").select("*").eq("auth_user_id",j.user.id).eq("status","active").single();y&&(t(y),localStorage.setItem("admin_user",JSON.stringify(y)))}});return()=>{w.unsubscribe()}},[]);const{logAdminLogin:c}=fr();return{adminUser:e,isLoading:s,isInitialized:n,error:l,adminSignIn:async(p,w)=>{try{a(!0),o(null);const b=p.trim().toLowerCase(),j=w.trim();console.log(" Admin login attempt for:",b);const{data:y,error:x}=await V.auth.signInWithPassword({email:b,password:j});if(x)return console.error(" Auth error:",x),o("Invalid admin credentials"),{data:null,error:x};if(!y.user)return console.error(" No user data returned"),o("Invalid admin credentials"),{data:null,error:new Error("No user data")};console.log(" Auth successful, checking admin status...");const{data:h,error:m}=await V.from("admin_users").select("*").eq("email",b).eq("status","active").single();if(m||!h)return console.error(" Admin not found or inactive:",m),await V.auth.signOut(),o("Invalid admin credentials"),{data:null,error:new Error("Invalid admin credentials")};console.log(" Admin login successful:",h.name),await V.from("admin_users").update({last_login_at:new Date().toISOString()}).eq("id",h.id);try{await c(h)}catch(S){console.warn(" Failed to log admin login activity:",S)}const N={id:h.id,name:h.name,email:h.email,is_super_admin:h.is_super_admin,status:h.status,last_login_at:new Date().toISOString()};return t(N),localStorage.setItem("admin_session",JSON.stringify(N)),{data:N,error:null}}catch(b){return console.error(" Admin sign in error:",b),o("Login failed. Please try again."),{data:null,error:b}}finally{a(!1)}},adminSignOut:async()=>{try{await V.auth.signOut(),t(null),window.REACT_APP_NAVIGATE("/admin-login")}catch(p){console.error("Error signing out:",p)}},resetUserPassword:async(p,w)=>{if(!e)throw new Error("Admin not authenticated");try{const{error:b}=await V.from("users").update({password_hash:w}).eq("id",p);if(b)throw b;return{success:!0}}catch(b){return{success:!1,error:b.message}}},logActivity:async(p,w,b,j)=>{if(e)try{await V.from("activity_logs").insert([{admin_id:e.id,action:p,target_type:w||null,target_id:b||null,details:j||null,created_at:new Date().toISOString()}])}catch(y){console.warn("Failed to log activity:",y)}}}}function Vf(){const e=tt(),{adminSignIn:t,adminUser:s,isLoading:a,isInitialized:n}=jy(),[i,l]=v.useState({email:"",password:""}),[o,c]=v.useState(""),[u,g]=v.useState(!1);if(v.useEffect(()=>{n&&s&&(console.log("Admin logged in, redirecting to admin dashboard"),e("/admin/dashboard",{replace:!0}))},[s,n,e]),!n||s)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const f=p=>{l({...i,[p.target.name]:p.target.value}),o&&c("")},d=async p=>{if(p.preventDefault(),!u){if(!i.email.trim()||!i.password){c("Please fill in all fields");return}g(!0),c("");try{const{data:w,error:b}=await t(i.email,i.password);if(b){c("Invalid admin credentials");return}w?console.log("Admin login successful, user:",w.email):c("Admin login failed - please try again")}catch(w){c((w==null?void 0:w.message)||"An unexpected error occurred")}finally{g(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Login"}),r.jsx("p",{className:"text-gray-600",children:"Access the administrative dashboard"})]})}),r.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:r.jsxs("form",{className:"space-y-6",onSubmit:d,children:[o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-error-warning-line mr-2"}),o]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Admin Email"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:f,disabled:u,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-red-5 00 focus:border-red-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter admin email"}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-admin-line text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Admin Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i.password,onChange:f,disabled:u,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter admin password"}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-lock-line text-gray-400"})})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:u||a,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400 disabled:cursor-not-allowed transition-colors cursor-pointer whitespace-nowrap",children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-shield-check-line mr-2"}),"Admin Sign In"]})})})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(se,{to:"/login",className:"text-blue-600 hover:text-blue-5 00 text-sm cursor-pointer",children:" Back to User Login"})})]})]})}function KS(){const[e,t]=v.useState(""),[s,a]=v.useState(!1),[n,i]=v.useState(""),[l,o]=v.useState(""),c=async u=>{u.preventDefault(),a(!0),o(""),i("");try{const f=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5173/reset-password":"https://voiture.in/reset-password";console.log(" Sending password reset email with redirect:",f);const{error:d}=await V.auth.resetPasswordForEmail(e,{redirectTo:f});if(d)throw d;i("Password reset instructions have been sent to your email. Please check your inbox and spam folder."),t("")}catch(g){console.error(" Password reset error:",g),o(g.message||"Failed to send reset email. Please try again.")}finally{a(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(se,{to:"/",className:"flex justify-center items-center mb-6",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password"}),r.jsx("p",{className:"text-gray-600",children:"Enter your email to reset your password"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-error-warning-line mr-2 mt-0.5"}),r.jsx("span",{children:l})]}),n&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-checkbox-circle-line mr-2 mt-0.5"}),r.jsx("span",{children:n})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",required:!0,value:e,onChange:u=>t(u.target.value),disabled:s,className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter your email address"}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-mail-line text-gray-400"})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-mail-send-line mr-2"}),"Send Reset Link"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600 text-sm",children:["Remember your password?"," ",r.jsx(se,{to:"/login",className:"text-blue-600 hover:text-blue-500 font-medium cursor-pointer",children:"Back to Sign In"})]})})]})]})})}function XS(){const[e,t]=v.useState(""),[s,a]=v.useState(""),[n,i]=v.useState(!1),[l,o]=v.useState(""),[c,u]=v.useState(!1),[g,f]=v.useState(!1),[d,p]=v.useState(!1),[w,b]=v.useState(!0),j=tt();v.useEffect(()=>{(async()=>{try{const h=new URLSearchParams(window.location.hash.substring(1)),m=h.get("access_token"),N=h.get("refresh_token"),S=h.get("type");if(console.log(" Checking reset session...",{hasAccessToken:!!m,hasRefreshToken:!!N,type:S}),m&&S==="recovery"){console.log(" Found recovery tokens in URL, setting session...");const{data:_,error:T}=await V.auth.setSession({access_token:m,refresh_token:N||""});T?(console.error(" Session error:",T),o("Invalid or expired reset link. Please request a new one."),p(!1)):_.session?(console.log(" Valid password reset session established"),p(!0),window.history.replaceState({},document.title,window.location.pathname)):(o("Invalid or expired reset link. Please request a new one."),p(!1))}else{const{data:{session:_},error:T}=await V.auth.getSession();T?(console.error(" Session error:",T),o("Invalid or expired reset link. Please request a new one."),p(!1)):_?(console.log(" Valid session found"),p(!0)):(console.log(" No valid session found"),o("Invalid or expired reset link. Please request a new one."),p(!1))}}catch(h){console.error(" Error checking session:",h),o("Failed to verify reset link. Please try again."),p(!1)}finally{b(!1)}})()},[]);const y=async x=>{if(x.preventDefault(),o(""),e!==s){o("Passwords do not match");return}if(e.length<6){o("Password must be at least 6 characters long");return}i(!0);try{const{error:h}=await V.auth.updateUser({password:e});h?o(h.message):(await V.auth.signOut(),j("/login?message=Password updated successfully! Please sign in with your new password."))}catch{o("Failed to update password. Please try again.")}finally{i(!1)}};return w?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Verifying reset link..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(se,{to:"/",className:"flex justify-center items-center mb-6",children:r.jsx("img",{src:"https://static.readdy.ai/image/02fae2dc1f09ff057a6d421cf0d8e42d/74c49d58028519ef85759f1bff88ebee.jfif",alt:"Voiture.in",className:"h-12 w-auto object-contain"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),r.jsx("p",{className:"text-gray-600",children:"Enter your new password"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d?r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-error-warning-line mr-2 mt-0.5"}),r.jsx("span",{children:l})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",required:!0,value:e,onChange:x=>t(x.target.value),disabled:n,className:"w-full p-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter new password",minLength:6}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-lock-line text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",children:r.jsx("i",{className:`${c?"ri-eye-off-line":"ri-eye-line"} text-gray-400 hover:text-gray-600`})})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:g?"text":"password",required:!0,value:s,onChange:x=>a(x.target.value),disabled:n,className:"w-full p-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Confirm new password",minLength:6}),r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-lock-line text-gray-400"})}),r.jsx("button",{type:"button",onClick:()=>f(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",children:r.jsx("i",{className:`${g?"ri-eye-off-line":"ri-eye-line"} text-gray-400 hover:text-gray-600`})})]})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-check-line mr-2"}),"Update Password"]})})]}):r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-error-warning-line mr-2 mt-0.5 text-lg"}),r.jsx("span",{children:l})]}),r.jsx(se,{to:"/forgot-password",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:"Request New Reset Link"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(se,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm cursor-pointer",children:" Back to Sign In"})})]})]})})}function QS(){const{user:e,initialized:t,loading:s}=ls(),a=tt(),[n,i]=v.useState("overview"),[l,o]=v.useState([]),[c,u]=v.useState([]),[g,f]=v.useState([]),[d,p]=v.useState([]),[w,b]=v.useState(!0),[j,y]=v.useState(!1),[x,h]=v.useState(!1),[m,N]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,_]=v.useState(""),[T,D]=v.useState(""),[L,R]=v.useState(!1),[O,M]=v.useState(!1),[z,B]=v.useState({vehicle_name:"",make:"",model:"",year:"",registration_number:""}),[$,P]=v.useState(!1),G=async()=>{if(e)try{b(!0);const[C,q,J,k]=await Promise.all([V.from("vehicle_listings").select("*").eq("posted_by",e.id).order("created_at",{ascending:!1}),V.from("requirements").select("*").eq("posted_by",e.id).order("created_at",{ascending:!1}),V.from("house_vehicles").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}),V.from("favorites").select(`
            *,
            vehicle_listings (
              id,
              title,
              make,
              model,
              year,
              price,
              images,
              status
            )
          `).eq("user_id",e.id).order("created_at",{ascending:!1})]);o(C.data||[]),u(q.data||[]),f(J.data||[]),p(k.data||[]),y(!0)}catch(C){console.error("Error loading dashboard data:",C)}finally{b(!1)}};v.useEffect(()=>{t&&e?G():t&&!e&&a("/login")},[t,e]);const ae=async C=>{try{const{error:q}=await V.from("favorites").delete().eq("id",C);if(q)throw q;p(d.filter(J=>J.id!==C))}catch(q){console.error("Error removing favorite:",q)}},me=async C=>{if(confirm("Are you sure you want to delete this vehicle listing?"))try{const{error:q}=await V.from("vehicle_listings").delete().eq("id",C);if(q)throw q;o(l.filter(J=>J.id!==C))}catch(q){console.error("Error deleting vehicle:",q)}},Ie=async C=>{if(confirm("Are you sure you want to delete this requirement?"))try{const{error:q}=await V.from("requirements").delete().eq("id",C);if(q)throw q;u(c.filter(J=>J.id!==C))}catch(q){console.error("Error deleting requirement:",q)}},Ye=async C=>{if(confirm("Are you sure you want to delete this house vehicle?"))try{const{error:q}=await V.from("house_vehicles").delete().eq("id",C);if(q)throw q;f(g.filter(J=>J.id!==C))}catch(q){console.error("Error deleting house vehicle:",q)}},$e=async C=>{if(C.preventDefault(),!!e){P(!0);try{const{error:q}=await V.from("house_vehicles").insert([{user_id:e.id,vehicle_name:`${z.make} ${z.model}`,make:z.make,model:z.model,year:parseInt(z.year),registration_number:z.registration_number.toUpperCase(),status:"active",created_at:new Date().toISOString()}]);if(q)throw q;B({vehicle_name:"",make:"",model:"",year:"",registration_number:""}),M(!1),await G(),alert("House vehicle added successfully!")}catch(q){console.error("Error adding house vehicle:",q),alert("Failed to add house vehicle: "+q.message)}finally{P(!1)}}},ye=C=>!C||C===null?"N/A":C>=1e7?`${(C/1e7).toFixed(1)} Cr`:C>=1e5?`${(C/1e5).toFixed(1)} L`:`${C.toLocaleString()}`,ee=C=>{switch(C.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"sold":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},oe=[{id:"overview",name:"Overview",icon:"ri-dashboard-line"},{id:"vehicles",name:"My Vehicles",icon:"ri-car-line"},{id:"requirements",name:"Requirements",icon:"ri-file-list-line"},{id:"favorites",name:"Favorites",icon:"ri-heart-line"},{id:"house-vehicles",name:"House Vehicles",icon:"ri-home-4-line"},{id:"settings",name:"Settings",icon:"ri-settings-3-line"}],A=async C=>{if(C.preventDefault(),_(""),D(""),m.newPassword!==m.confirmPassword){_("New passwords do not match");return}if(m.newPassword.length<6){_("Password must be at least 6 characters long");return}R(!0);try{const{error:q}=await V.auth.updateUser({password:m.newPassword});if(q)throw q;D("Password updated successfully!"),N({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{h(!1),D("")},2e3)}catch(q){_(q.message||"Failed to update password")}finally{R(!1)}};return!t||s||e&&w&&!j?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:!t||s?"Loading...":"Loading dashboard..."})]})}),r.jsx(It,{})]}):e?r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(Gt,{}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Welcome back, ",e==null?void 0:e.name]})]}),r.jsx("div",{className:"sm:hidden mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:n,onChange:C=>i(C.target.value),className:"w-full px-3 py-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm appearance-none bg-white",children:oe.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))}),r.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]})}),r.jsx("div",{className:"hidden sm:block mb-6 sm:mb-8",children:r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto",children:oe.map(C=>r.jsxs("button",{onClick:()=>i(C.id),className:`flex items-center space-x-2 py-3 sm:py-4 px-1 border-b-2 font-medium text-sm sm:text-base whitespace-nowrap transition-colors ${n===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:C.icon}),r.jsx("span",{children:C.name})]},C.id))})})}),r.jsxs("div",{className:"space-y-6",children:[n==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6",children:[r.jsx("div",{onClick:()=>i("vehicles"),className:"bg-white p-4 sm:p-6 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"ri-car-line text-2xl sm:text-3xl text-blue-600"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Listed Vehicles"}),r.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:l.length})]})]})}),r.jsx("div",{onClick:()=>i("requirements"),className:"bg-white p-4 sm:p-6 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"ri-file-list-line text-2xl sm:text-3xl text-green-600"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Requirements"}),r.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:c.length})]})]})}),r.jsx("div",{onClick:()=>i("favorites"),className:"bg-white p-4 sm:p-6 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"ri-heart-line text-2xl sm:text-3xl text-red-600"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Favorites"}),r.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:d.length})]})]})}),r.jsx("div",{onClick:()=>i("house-vehicles"),className:"bg-white p-4 sm:p-6 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"ri-home-4-line text-2xl sm:text-3xl text-purple-600"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"House Vehicles"}),r.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:g.length})]})]})}),r.jsx("div",{onClick:()=>i("vehicles"),className:"bg-white p-4 sm:p-6 rounded-lg border cursor-pointer hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"ri-check-line text-2xl sm:text-3xl text-orange-600"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Active Listings"}),r.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:l.filter(C=>C.status==="active").length})]})]})})]}),n==="vehicles"&&r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"My Vehicles"}),r.jsxs("button",{onClick:()=>a("/vehicles/post"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base flex items-center justify-center",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Post Vehicle"]})]})}),l.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("i",{className:"ri-car-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No vehicles listed yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Start by posting your first vehicle for sale"}),r.jsx("button",{onClick:()=>a("/vehicles/post"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Post Your First Vehicle"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(C=>{var q;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:r.jsx("img",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded object-cover",src:((q=C.images)==null?void 0:q[0])||`https://readdy.ai/api/search-image?query=$%7Bvehicle.make%7D%20$%7Bvehicle.model%7D&width=100&height=100&seq=${C.id}&orientation=squarish`,alt:C.title})}),r.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:C.title}),r.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[C.make," ",C.model,"  ",C.year]})]})]})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ye(C.price)}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(C.status)}`,children:C.status})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>a(`/vehicles/${C.id}`),className:"text-blue-600 hover:text-blue-900 mr-3 cursor-pointer",children:"View"}),r.jsx("button",{onClick:()=>a(`/vehicles/edit/${C.id}`),className:"text-green-600 hover:text-green-900 mr-3 cursor-pointer",children:"Edit"}),r.jsx("button",{onClick:()=>me(C.id),className:"text-red-600 hover:text-red-900 cursor-pointer",children:"Delete"})]})]},C.id)})})]})})]}),n==="requirements"&&r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"My Requirements"}),r.jsxs("button",{onClick:()=>a("/requirements"),className:"bg-green-600 hover:bg-green-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base flex items-center justify-center",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Requirement"]})]})}),c.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("i",{className:"ri-file-list-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requirements posted yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Let dealers know what vehicle you're looking for"}),r.jsx("button",{onClick:()=>a("/requirements"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Post Your First Requirement"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle Type"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Make"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:C.vehicle_type}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.make}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[ye(C.budget_min)," - ",ye(C.budget_max)]}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.location}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(C.status)}`,children:C.status})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>Ie(C.id),className:"text-red-600 hover:text-red-900 cursor-pointer",children:"Delete"})})]},C.id))})]})})]}),n==="favorites"&&r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Favorite Vehicles"}),r.jsxs("button",{onClick:()=>a("/vehicles"),className:"bg-red-600 hover:bg-red-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base flex items-center justify-center",children:[r.jsx("i",{className:"ri-heart-line mr-2"}),"Browse Vehicles"]})]})}),d.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("i",{className:"ri-heart-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorite vehicles yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Browse vehicles and add them to your favorites"}),r.jsx("button",{onClick:()=>a("/vehicles"),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Browse Vehicles"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(C=>{var q,J,k,H,Y,W,ie,ge,re,be;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:r.jsx("img",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded object-cover",src:((J=(q=C.vehicle_listings)==null?void 0:q.images)==null?void 0:J[0])||`https://readdy.ai/api/search-image?query=$%7Bfavorite.vehicle_listings%3F.make%7D%20$%7Bfavorite.vehicle_listings%3F.model%7D&width=100&height=100&seq=${C.vehicle_id}&orientation=squarish`,alt:(k=C.vehicle_listings)==null?void 0:k.title})}),r.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:(H=C.vehicle_listings)==null?void 0:H.title}),r.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[(Y=C.vehicle_listings)==null?void 0:Y.make," ",(W=C.vehicle_listings)==null?void 0:W.model,"  ",(ie=C.vehicle_listings)==null?void 0:ie.year]})]})]})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ye((ge=C.vehicle_listings)==null?void 0:ge.price)}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(((re=C.vehicle_listings)==null?void 0:re.status)||"unknown")}`,children:(be=C.vehicle_listings)==null?void 0:be.status})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>a(`/vehicles/${C.vehicle_id}`),className:"text-blue-600 hover:text-blue-900 mr-3 cursor-pointer",children:"View"}),r.jsx("button",{onClick:()=>ae(C.id),className:"text-red-600 hover:text-red-900 cursor-pointer",children:"Remove"})]})]},C.id)})})]})})]}),n==="house-vehicles"&&r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"House Vehicles"}),r.jsxs("button",{onClick:()=>M(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap text-sm sm:text-base flex items-center justify-center",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Vehicle"]})]})}),g.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("i",{className:"ri-home-4-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No house vehicles added yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Keep track of vehicles you own for personal use"}),r.jsx("button",{onClick:()=>M(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:"Add Your First Vehicle"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Price"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Value"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-3 sm:px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.vehicle_name}),r.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[C.make," ",C.model,"  ",C.year]})]}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.registration_number||"N/A"}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ye(C.purchase_price)}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ye(C.current_value)}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(C.status)}`,children:C.status})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>Ye(C.id),className:"text-red-600 hover:text-red-900 cursor-pointer",children:"Delete"})})]},C.id))})]})})]}),n==="settings"&&r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Account Settings"})}),r.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Security"}),r.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center",children:[r.jsx("i",{className:"ri-lock-password-line mr-2"}),"Change Password"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Account Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.phone)||"Not provided"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date((e==null?void 0:e.created_at)||"").toLocaleDateString()})]})]})]})]})]})]})]})})}),O&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>M(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add House Vehicle"}),r.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl"})})]}),r.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make *"}),r.jsx("input",{type:"text",required:!0,value:z.make,onChange:C=>B({...z,make:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"e.g., Honda"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),r.jsx("input",{type:"text",required:!0,value:z.model,onChange:C=>B({...z,model:C.target.value}),className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-5

0 focus:border-transparent text-sm`,placeholder:"e.g., City"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),r.jsx("input",{type:"number",required:!0,value:z.year,onChange:C=>B({...z,year:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"e.g., 2020",min:"1900",max:new Date().getFullYear()+1})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),r.jsx("input",{type:"text",required:!0,value:z.registration_number,onChange:C=>B({...z,registration_number:C.target.value.toUpperCase()}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"e.g., MH01AB1234"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>M(!1),disabled:$,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer whitespace-nowrap disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:$,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-medium cursor-pointer whitespace-nowrap disabled:opacity-50 flex items-center",children:$?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Vehicle"]})})]})]})]})})]})}),x&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>h(!1)}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Change Password"}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-xl"})})]}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[S&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-error-warning-line mr-2 mt-0.5"}),r.jsx("span",{children:S})]}),T&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg text-sm flex items-start",children:[r.jsx("i",{className:"ri-checkbox-circle-line mr-2 mt-0.5"}),r.jsx("span",{children:T})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsx("input",{type:"password",required:!0,value:m.newPassword,onChange:C=>N({...m,newPassword:C.target.value}),disabled:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100",placeholder:"Enter new password",minLength:6}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",required:!0,value:m.confirmPassword,onChange:C=>N({...m,confirmPassword:C.target.value}),disabled:L,className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-5
0 focus:border-transparent text-sm disabled:bg-gray-100`,placeholder:"Confirm new password",minLength:6})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>h(!1),disabled:L,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer whitespace-nowrap disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium cursor-pointer whitespace-nowrap disabled:opacity-50 flex items-center",children:L?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Password"})]})]})]})})]})}),r.jsx(It,{})]}):null}function Pf({placeholder:e="Search...",value:t,onChange:s}){return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"ri-search-line text-gray-400"})}),r.jsx("input",{type:"text",value:t,onChange:a=>s(a.target.value),placeholder:e,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-red-500 focus:border-red-500 sm:text-sm"}),t&&r.jsx("button",{onClick:()=>s(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-gray-400 hover:text-gray-600"})})]})}function JS({adminUsers:e,currentAdmin:t,onRefresh:s,searchFilter:a}){const[n,i]=v.useState(!1),[l,o]=v.useState(!1),[c,u]=v.useState(null),[g,f]=v.useState(!1),[d,p]=v.useState(null),w=()=>{if(!a)return e;const m=a.toLowerCase();return e.filter(N=>{var S,_,T;return((S=N.name)==null?void 0:S.toLowerCase().includes(m))||((_=N.email)==null?void 0:_.toLowerCase().includes(m))||((T=N.status)==null?void 0:T.toLowerCase().includes(m))})},b=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},j=async m=>{m.preventDefault(),f(!0),p(null);const N=new FormData(m.currentTarget),S=N.get("email"),_=N.get("password"),T=N.get("name"),D=N.get("is_super_admin")==="true";try{const{data:{session:L}}=await V.auth.getSession();if(!L)throw new Error("Not authenticated");const R=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/create-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.access_token}`},body:JSON.stringify({email:S,password:_,name:T,isSuperAdmin:D})}),O=await R.json();if(!R.ok||!O.success)throw new Error(O.error||"Failed to create admin");alert("Admin created successfully!"),i(!1),s()}catch(L){console.error("Error creating admin:",L),p(L.message)}finally{f(!1)}},y=async m=>{if(m.preventDefault(),!c)return;f(!0),p(null);const N=new FormData(m.currentTarget),S=N.get("name"),_=N.get("email"),T=N.get("is_super_admin")==="true",D=N.get("status");try{const{data:{session:L}}=await V.auth.getSession();if(!L)throw new Error("Not authenticated");const R=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/update-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.access_token}`},body:JSON.stringify({adminId:c.id,name:S,email:_,isSuperAdmin:T,status:D})}),O=await R.json();if(!R.ok||!O.success)throw new Error(O.error||"Failed to update admin");alert("Admin updated successfully!"),o(!1),u(null),s()}catch(L){console.error("Error updating admin:",L),p(L.message)}finally{f(!1)}},x=async m=>{if(confirm(`Are you sure you want to delete admin "${m.name}"? This action cannot be undone.`)){f(!0),p(null);try{const{data:{session:N}}=await V.auth.getSession();if(!N)throw new Error("Not authenticated");const S=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/delete-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify({adminId:m.id})}),_=await S.json();if(!S.ok||!_.success)throw new Error(_.error||"Failed to delete admin");alert("Admin deleted successfully!"),s()}catch(N){console.error("Error deleting admin:",N),alert("Error: "+N.message)}finally{f(!1)}}},h=async m=>{const N=m.status==="active"?"inactive":"active";f(!0);try{const{data:{session:S}}=await V.auth.getSession();if(!S)throw new Error("Not authenticated");const _=await fetch("https://mzfqbhumzvajrbohyjgz.supabase.co/functions/v1/update-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.access_token}`},body:JSON.stringify({adminId:m.id,status:N})}),T=await _.json();if(!_.ok||!T.success)throw new Error(T.error||"Failed to update status");alert(`Admin ${N==="active"?"activated":"deactivated"} successfully!`),s()}catch(S){console.error("Error updating status:",S),alert("Error: "+S.message)}finally{f(!1)}};return r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admin Management"}),t.is_super_admin&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage admin users and permissions"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:t.is_super_admin&&r.jsxs("button",{onClick:()=>i(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Admin"]})})]})}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w().map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ci,{src:void 0,name:m.name,size:"sm"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name}),r.jsx("div",{className:"text-sm text-gray-500",children:m.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.is_super_admin?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:m.is_super_admin?"Super Admin":"Admin"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(m.status)}`,children:m.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.last_login_at?new Date(m.last_login_at).toLocaleDateString():"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[t.is_super_admin&&m.id!==t.id&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{u(m),o(!0)},className:"text-blue-600 hover:text-blue-900 cursor-pointer",title:"Edit admin",children:r.jsx("i",{className:"ri-edit-line"})}),r.jsx("button",{onClick:()=>h(m),className:`${m.status==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"} cursor-pointer`,title:m.status==="active"?"Deactivate":"Activate",disabled:g,children:r.jsx("i",{className:m.status==="active"?"ri-pause-line":"ri-play-line"})}),r.jsx("button",{onClick:()=>x(m),className:"text-red-600 hover:text-red-900 cursor-pointer",title:"Delete admin",disabled:g,children:r.jsx("i",{className:"ri-delete-bin-line"})})]}),m.id===t.id&&r.jsx("span",{className:"text-xs text-gray-400",children:"(You)"})]})})]},m.id))})]}),w().length===0&&e.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-search-line text-4xl text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No admins match your search"})]}),e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-admin-line text-4xl text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No admin users found"})]})]}),n&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("form",{onSubmit:j,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Admin"}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:d})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),r.jsx("input",{type:"text",name:"name",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),r.jsx("input",{type:"email",name:"email",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),r.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),r.jsxs("select",{name:"is_super_admin",defaultValue:"false",className:"mt-1 block w-full pr-8 border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500",children:[r.jsx("option",{value:"false",children:"Admin"}),r.jsx("option",{value:"true",children:"Super Admin"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",disabled:g,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 cursor-pointer whitespace-nowrap",children:g?"Creating...":"Create Admin"}),r.jsx("button",{type:"button",onClick:()=>{i(!1),p(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm cursor-pointer whitespace-nowrap",children:"Cancel"})]})]})})]})}),l&&c&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("form",{onSubmit:y,children:[r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Admin"}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:d})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),r.jsx("input",{type:"text",name:"name",defaultValue:c.name,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),r.jsx("input",{type:"email",name:"email",defaultValue:c.email,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),r.jsxs("select",{name:"is_super_admin",defaultValue:c.is_super_admin?"true":"false",className:"mt-1 block w-full pr-8 border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500",children:[r.jsx("option",{value:"false",children:"Admin"}),r.jsx("option",{value:"true",children:"Super Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),r.jsxs("select",{name:"status",defaultValue:c.status,className:"mt-1 block w-full pr-8 border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",disabled:g,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 cursor-pointer whitespace-nowrap",children:g?"Updating...":"Update Admin"}),r.jsx("button",{type:"button",onClick:()=>{o(!1),u(null),p(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm cursor-pointer whitespace-nowrap",children:"Cancel"})]})]})})]})})]})}const ZS=()=>{var An,cs;const e=tt(),{adminUser:t,isLoading:s}=jy(),{logVehicleApproval:a,logDataDeletion:n}=fr(),[i,l]=v.useState("overview"),[o,c]=v.useState(!0),[u,g]=v.useState(!1),[f,d]=v.useState(!1),[p,w]=v.useState(!1),[b,j]=v.useState(!1),[y,x]=v.useState(null),[h,m]=v.useState(null),[N,S]=v.useState([]),[_,T]=v.useState([]),[D,L]=v.useState([]),[R,O]=v.useState(!1),[M,z]=v.useState(null),[B,$]=v.useState("vehicle"),[P,G]=v.useState(!1),[ae,me]=v.useState(null),[Ie,Ye]=v.useState(null),[$e,ye]=v.useState({totalUsers:0,totalVehicles:0,pendingVehicles:0,activeRequirements:0}),[ee,oe]=v.useState([]),[A,C]=v.useState([]),[q,J]=v.useState([]),[k,H]=v.useState([]),[Y,W]=v.useState([]),[ie,ge]=v.useState([]),[re,be]=v.useState([]),Ue=ee,[Be,xt]=v.useState({vehicles:"",users:"",requirements:"",houseVehicles:"",admins:"",activity:"",pending:""});v.useEffect(()=>{s||(t?De():e("/admin-login"))},[t,s,e]);const De=async()=>{var E,I;try{c(!0);const[K,Pe,Ii,Vo,Yi,Ma]=await Promise.all([V.from("vehicle_listings").select(`
            *,
            users!vehicle_listings_posted_by_fkey (
              id,
              name,
              email,
              phone
            )
          `).order("created_at",{ascending:!1}),V.from("users").select("*").order("created_at",{ascending:!1}),V.from("requirements").select(`
            *,
            users!requirements_posted_by_fkey (
              id,
              name,
              email,
              phone
            )
          `).order("created_at",{ascending:!1}),V.from("house_vehicles").select(`
            *,
            users!house_vehicles_user_id_fkey (
              id,
              name,
              email,
              phone
            )
          `).order("created_at",{ascending:!1}),V.from("admin_users").select("*").order("created_at",{ascending:!1}),V.from("activity_logs").select(`
            *,
            admin_users!activity_logs_admin_id_fkey (
              id,
              name,
              email
            ),
            users!activity_logs_user_id_fkey (
              id,
              name,
              email
            )
          `).order("created_at",{ascending:!1}).limit(100)]),Ua=(K.data||[]).map(fe=>{var Ot,Rt,Nt;return{...fe,seller_name:((Ot=fe.users)==null?void 0:Ot.name)||"Unknown User",seller_email:((Rt=fe.users)==null?void 0:Rt.email)||"N/A",seller_phone:((Nt=fe.users)==null?void 0:Nt.phone)||"N/A"}}),On=(Ii.data||[]).map(fe=>{var Ot,Rt,Nt;return{...fe,user_name:((Ot=fe.users)==null?void 0:Ot.name)||"Unknown User",user_email:((Rt=fe.users)==null?void 0:Rt.email)||"N/A",user_phone:((Nt=fe.users)==null?void 0:Nt.phone)||"N/A"}}),Fi=(Vo.data||[]).map(fe=>{var Ot,Rt,Nt;return{...fe,owner_name:((Ot=fe.users)==null?void 0:Ot.name)||"Unknown User",owner_email:((Rt=fe.users)==null?void 0:Rt.email)||"N/A",owner_phone:((Nt=fe.users)==null?void 0:Nt.phone)||"N/A"}}),yr=(Ma.data||[]).map(fe=>{var Ot,Rt,Nt,vr;return{...fe,performer_name:((Ot=fe.admin_users)==null?void 0:Ot.name)||((Rt=fe.users)==null?void 0:Rt.name)||fe.user_name||"System",performer_email:((Nt=fe.admin_users)==null?void 0:Nt.email)||((vr=fe.users)==null?void 0:vr.email)||fe.user_email||"N/A",performer_type:fe.admin_id?"Admin":fe.user_id?"User":fe.user_type||"System"}});oe(Ua),Pe.data&&C(Pe.data),J(On),H(Fi),Yi.data&&W(Yi.data),ge(yr);const br=Ua.filter(fe=>fe.status==="pending")||[];be(br),ye({totalUsers:((E=Pe.data)==null?void 0:E.length)||0,totalVehicles:Ua.length,pendingVehicles:br.length,activeRequirements:On.filter(fe=>fe.status==="active").length||0}),console.log(" Admin data loaded:",{vehicles:Ua.length,pending:br.length,users:((I=Pe.data)==null?void 0:I.length)||0,requirements:On.length,houseVehicles:Fi.length,activities:yr.length})}catch(K){console.error("Error fetching data:",K)}finally{c(!1)}},pt=(E,I)=>{xt(K=>({...K,[E]:I}))},mt=async(E,I,K)=>{try{const{error:Pe}=await V.from(K).update({status:I}).eq("id",E);if(Pe)throw Pe;await De()}catch(Pe){console.error("Error updating status:",Pe)}},Kt=async(E,I)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:K}=await V.from(I).delete().eq("id",E);if(K)throw K;await De()}catch(K){console.error("Error deleting:",K)}},xs=async E=>{const I=ee.find(K=>K.id===E);if(I){await mt(E,"active","vehicle_listings");try{await a(E,I,!0)}catch(K){console.warn("Failed to log vehicle approval activity:",K)}}},Xt=async E=>{const I=ee.find(K=>K.id===E);if(I){await mt(E,"hidden","vehicle_listings");try{await a(E,I,!1)}catch(K){console.warn("Failed to log vehicle rejection activity:",K)}}},ps=async E=>{const I=ee.find(K=>K.id===E);if(I){await Kt(E,"vehicle_listings");try{await n("vehicle_listing",E,I)}catch(K){console.warn("Failed to log vehicle deletion activity:",K)}}},wt=async E=>{const I=q.find(K=>K.id===E);if(I){await Kt(E,"requirements");try{await n("requirement",E,I)}catch(K){console.warn("Failed to log requirement deletion activity:",K)}}},Xs=async E=>{const I=k.find(K=>K.id===E);if(I){await Kt(E,"house_vehicles");try{await n("house_vehicle",E,I)}catch(K){console.warn("Failed to log house vehicle deletion activity:",K)}}},_s=(E,I)=>{console.log("Edit:",E,I)},kn=(E,I)=>{z(E),$(I),O(!0)},Da=E=>{me(E),Ye({vehicle_type:E.vehicle_type,make:E.make||"",model:E.model||"",year_min:E.year_min||"",year_max:E.year_max||"",price_range_min:E.price_range_min||"",price_range_max:E.price_range_max||"",fuel_type:E.fuel_type||"",transmission:E.transmission||"",location:E.location||"",description:E.description||"",contact_number:E.contact_number||"",status:E.status||"active"}),G(!0)},Gi=async E=>{x(E),T(E.images||[]),S([]),L([]),m({title:E.title,make:E.make,model:E.model,year:E.year,price:E.price,mileage:E.mileage||"",fuel_type:E.fuel_type||"",transmission:E.transmission||"",location:E.location||"",vehicle_type:E.vehicle_type,description:E.description||"",body_type:E.body_type||"",color:E.color||"",engine_capacity:E.engine_capacity||"",num_owners:E.num_owners||1,insurance_expiry:E.insurance_expiry||"",accident_history:E.accident_history||"none",claim_history:E.claim_history||"none",seller_type:E.seller_type||"owner",registration_year:E.registration_year||"",registration_state:E.registration_state||"",fitness_valid_until:E.fitness_valid_until||"",pollution_valid_until:E.pollution_valid_until||"",service_history:E.service_history||"complete",tyres_condition:E.tyres_condition||"good",exterior_condition:E.exterior_condition||"good",interior_condition:E.interior_condition||"good",engine_condition:E.engine_condition||"good",parking_type:E.parking_type||"covered",duplicate_key:E.duplicate_key||!1,loan_available:E.loan_available||!1,exchange_accepted:E.exchange_accepted||!1,negotiable:E.negotiable!==void 0?E.negotiable:!0,test_drive_available:E.test_drive_available!==void 0?E.test_drive_available:!0,additional_notes:E.additional_notes||"",contact_number:E.contact_number||""}),j(!0)},xr=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E),os=E=>{switch(E){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"hidden":case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},pr=()=>A.filter(E=>{var I,K;return((I=E.name)==null?void 0:I.toLowerCase().includes(Be.users.toLowerCase()))||((K=E.email)==null?void 0:K.toLowerCase().includes(Be.users.toLowerCase()))}),Tn=()=>ie.filter(E=>{var I,K,Pe;return((I=E.action)==null?void 0:I.toLowerCase().includes(Be.activity.toLowerCase()))||((K=E.performer_name)==null?void 0:K.toLowerCase().includes(Be.activity.toLowerCase()))||((Pe=E.performer_email)==null?void 0:Pe.toLowerCase().includes(Be.activity.toLowerCase()))});return s||o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t==null?void 0:t.name]}),r.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900 cursor-pointer",children:r.jsx("i",{className:"ri-home-line text-xl"})})]})]})})}),R&&M&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/50",children:r.jsx("div",{className:"flex items-start justify-center min-h-screen px-4 pt-4 pb-20",children:r.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full my-8",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl z-10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:B==="vehicle"?"Vehicle Submission Details":"Requirement Details"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",M.id.slice(-8).toUpperCase()]})]}),r.jsx("button",{onClick:()=>{O(!1),z(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:r.jsx("i",{className:"ri-close-line text-2xl text-gray-600"})})]})}),r.jsx("div",{className:"px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:B==="vehicle"?r.jsxs("div",{className:"space-y-6",children:[M.images&&M.images.length>0&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Images"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:M.images.map((E,I)=>r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-200",children:r.jsx("img",{src:E,alt:`Vehicle ${I+1}`,className:"w-full h-full object-cover"})},I))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("p",{className:"text-gray-900",children:M.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),r.jsx("p",{className:"text-gray-900 capitalize",children:M.vehicle_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Make"}),r.jsx("p",{className:"text-gray-900",children:M.make})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),r.jsx("p",{className:"text-gray-900",children:M.model})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),r.jsx("p",{className:"text-gray-900",children:M.year})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),r.jsx("p",{className:"text-gray-900 font-semibold",children:xr(M.price)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mileage"}),r.jsxs("p",{className:"text-gray-900",children:[M.mileage||"N/A"," km"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("p",{className:"text-gray-900",children:M.location||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Type"}),r.jsx("p",{className:"text-gray-900",children:M.fuel_type||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmission"}),r.jsx("p",{className:"text-gray-900",children:M.transmission||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),r.jsx("p",{className:"text-gray-900",children:M.contact_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full whitespace-nowrap ${os(M.status)}`,children:M.status})]})]}),M.description&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:M.description})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seller Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:M.seller_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("p",{className:"text-gray-900",children:M.seller_email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("p",{className:"text-gray-900",children:M.seller_phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted"}),r.jsx("p",{className:"text-gray-900",children:new Date(M.created_at).toLocaleString()})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Requirement Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),r.jsx("p",{className:"text-gray-900 capitalize",children:M.vehicle_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Make"}),r.jsx("p",{className:"text-gray-900",children:M.make||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),r.jsx("p",{className:"text-gray-900",children:M.model||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Range"}),r.jsxs("p",{className:"text-gray-900",children:[M.year_min||"Any"," - ",M.year_max||"Any"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Range"}),r.jsxs("p",{className:"text-gray-900 font-semibold",children:["",((An=M.price_range_min)==null?void 0:An.toLocaleString())||"0"," - ",((cs=M.price_range_max)==null?void 0:cs.toLocaleString())||"0"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("p",{className:"text-gray-900",children:M.location||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Type"}),r.jsx("p",{className:"text-gray-900",children:M.fuel_type||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmission"}),r.jsx("p",{className:"text-gray-900",children:M.transmission||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),r.jsx("p",{className:"text-gray-900",children:M.contact_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full whitespace-nowrap ${os(M.status)}`,children:M.status})]})]}),M.description&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:M.description})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:M.user_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("p",{className:"text-gray-900",children:M.user_email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("p",{className:"text-gray-900",children:M.user_phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted"}),r.jsx("p",{className:"text-gray-900",children:new Date(M.created_at).toLocaleString()})]})]})]})]})}),r.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 rounded-b-2xl",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex space-x-3",children:[B==="vehicle"&&M.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{xs(M.id),O(!1)},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-check-line mr-2"}),"Approve"]}),r.jsxs("button",{onClick:()=>{Xt(M.id),O(!1)},className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-close-line mr-2"}),"Reject"]})]}),B==="vehicle"&&r.jsxs("button",{onClick:()=>{O(!1),Gi(M)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]}),B==="requirement"&&r.jsxs("button",{onClick:()=>{O(!1),Da(M)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]})]}),r.jsx("button",{onClick:()=>{O(!1),z(null)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors cursor-pointer whitespace-nowrap",children:"Close"})]})})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>l("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="overview"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-dashboard-line mr-2"}),"Overview"]}),r.jsxs("button",{onClick:()=>l("pending"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="pending"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-time-line mr-2"}),"Pending Approvals",re.length>0&&r.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full",children:re.length})]}),r.jsxs("button",{onClick:()=>l("vehicles"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="vehicles"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-car-line mr-2"}),"Vehicles"]}),r.jsxs("button",{onClick:()=>l("users"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="users"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-user-line mr-2"}),"Users"]}),r.jsxs("button",{onClick:()=>l("requirements"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="requirements"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-file-list-line mr-2"}),"Requirements"]}),r.jsxs("button",{onClick:()=>l("house-vehicles"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="house-vehicles"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-home-line mr-2"}),"House Vehicles"]}),r.jsxs("button",{onClick:()=>l("admins"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="admins"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-admin-line mr-2"}),"Admins"]}),r.jsxs("button",{onClick:()=>l("activity"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="activity"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-history-line mr-2"}),"Activity Logs"]}),r.jsxs("button",{onClick:()=>l("settings"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i==="settings"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx("i",{className:"ri-settings-3-line mr-2"}),"Settings"]})]})})}),i==="overview"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx("i",{className:"ri-car-line text-2xl text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Vehicles"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee.length})]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx("i",{className:"ri-user-line text-2xl text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.length})]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx("i",{className:"ri-file-list-line text-2xl text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Requirements"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.length})]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx("i",{className:"ri-home-line text-2xl text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"House Vehicles"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.length})]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 cursor-pointer",onClick:()=>l("pending"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx("i",{className:"ri-time-line text-2xl text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approvals"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:re.length})]})]})})]}),re.length>0&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Urgent: Pending Approvals"}),r.jsxs("button",{onClick:()=>l("pending"),className:"text-red-600 hover:text-red-700 font-medium cursor-pointer",children:["View All (",re.length,")"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[re.slice(0,4).map(E=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:r.jsx("i",{className:"ri-car-line text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-900 truncate",children:E.title}),r.jsx("p",{className:"text-sm text-gray-600",children:xr(E.price)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",E.seller_name]}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>xs(E.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 whitespace-nowrap",children:"Approve"}),r.jsx("button",{onClick:()=>Xt(E.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 whitespace-nowrap",children:"Reject"})]})]},E.id)),re.filter(E=>E.status==="pending").length===0&&r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No pending approvals"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"System Overview"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Vehicle Listings"}),r.jsxs("div",{className:"space-y-4",children:[ee.slice(0,5).map(E=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:r.jsx("i",{className:"ri-car-line text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-900 truncate",children:E.title}),r.jsx("p",{className:"text-sm text-gray-600",children:xr(E.price)}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full whitespace-nowrap ${os(E.status)}`,children:E.status})]})]},E.id)),ee.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No vehicle listings yet"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Users"}),r.jsxs("div",{className:"space-y-4",children:[A.slice(0,5).map(E=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[r.jsx(Ci,{src:E.profile_picture,name:E.name,size:"sm"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:E.name}),r.jsx("p",{className:"text-sm text-gray-600",children:E.email}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(E.created_at).toLocaleDateString()]})]})]},E.id)),A.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No users registered yet"})]})]})]})]})]}),i==="pending"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Vehicle Approvals"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and approve vehicle listings"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Ue.filter(E=>E.status==="pending").map(E=>{var I;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[E.images&&E.images.length>0&&r.jsx("img",{src:E.images[0],alt:E.title,className:"w-16 h-16 rounded-lg object-cover mr-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[E.make," ",E.model]})]})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E.seller_name}),r.jsx("div",{className:"text-sm text-gray-500",children:E.seller_email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.seller_phone})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",(I=E.price)==null?void 0:I.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>kn(E,"vehicle"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"View Details"}),r.jsx("button",{onClick:()=>xs(E.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 whitespace-nowrap",children:"Approve"}),r.jsx("button",{onClick:()=>Xt(E.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 whitespace-nowrap",children:"Reject"})]})})]},E.id)}),Ue.filter(E=>E.status==="pending").length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No pending approvals"})})]})]})})]}),i==="vehicles"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"All Vehicles"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all vehicle listings"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Ue.map(E=>{var I;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[E.images&&E.images.length>0&&r.jsx("img",{src:E.images[0],alt:E.title,className:"w-16 h-16 rounded-lg object-cover mr-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),r.jsxs("div",{className:"text-sm text-gray-500",children:[E.make," ",E.model]})]})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E.seller_name}),r.jsx("div",{className:"text-sm text-gray-500",children:E.seller_email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.seller_phone})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",(I=E.price)==null?void 0:I.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full whitespace-nowrap ${os(E.status)}`,children:E.status})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>kn(E,"vehicle"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"View"}),r.jsx("button",{onClick:()=>Gi(E),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 whitespace-nowrap",children:"Edit"}),r.jsx("button",{onClick:()=>ps(E.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 whitespace-nowrap",children:"Delete"})]})})]},E.id)}),Ue.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No vehicles found"})})]})]})})]}),i==="users"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Pf,{placeholder:"Search users...",value:Be.users,onChange:E=>pt("users",E)}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",pr().length," of ",A.length," users"]}),r.jsx("button",{onClick:De,className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:r.jsx("i",{className:"ri-refresh-line"})})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:pr().map(E=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ci,{src:E.profile_picture,name:E.name,size:"sm"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),r.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.phone||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.city||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${os(E.status)}`,children:E.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[r.jsx("button",{onClick:()=>_s(E,"users"),className:"text-blue-600 hover:text-blue-900 cursor-pointer",children:r.jsx("i",{className:"ri-edit-line"})}),r.jsx("button",{onClick:()=>Kt(E.id,"users"),className:"text-red-600 hover:text-red-900 cursor-pointer",children:r.jsx("i",{className:"ri-delete-bin-line"})})]})]},E.id))})]}),pr().length===0&&A.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-search-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matching users"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms"})]}),A.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-user-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users registered yet"}),r.jsx("p",{className:"text-gray-500",children:"User accounts will appear here once people start registering"})]})]})})]}),i==="requirements"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Requirements"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View all user requirements"})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[q.map(E=>{var I,K;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E.user_name}),r.jsx("div",{className:"text-sm text-gray-500",children:E.user_email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.user_phone})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:E.vehicle_type}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",(I=E.price_range_min)==null?void 0:I.toLocaleString()," - ",(K=E.price_range_max)==null?void 0:K.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full whitespace-nowrap ${os(E.status)}`,children:E.status})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>kn(E,"requirement"),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"View"}),r.jsx("button",{onClick:()=>Da(E),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 whitespace-nowrap",children:"Edit"}),r.jsx("button",{onClick:()=>wt(E.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 whitespace-nowrap",children:"Delete"})]})})]},E.id)}),q.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No requirements found"})})]})]})})})]}),i==="house-vehicles"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"House Vehicles"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View all house vehicle registrations"})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registered"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[k.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E.owner_name}),r.jsx("div",{className:"text-sm text-gray-500",children:E.owner_email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:E.owner_phone})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:[E.make," ",E.model]}),r.jsx("div",{className:"text-sm text-gray-500",children:E.year})]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:E.registration_number}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>Xs(E.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 whitespace-nowrap",children:"Delete"})})]},E.id)),k.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No house vehicles found"})})]})]})})})]}),i==="admins"&&r.jsx(JS,{adminUsers:Y,currentAdmin:t,onRefresh:De,searchFilter:Be.admins}),i==="activity"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Logs"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Pf,{placeholder:"Search activities...",value:Be.activity,onChange:E=>pt("activity",E)}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",Tn().length," of ",ie.length," activities"]}),r.jsx("button",{onClick:De,className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:r.jsx("i",{className:"ri-refresh-line"})})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[Tn().map(E=>{var I;return r.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-xl border border-gray-200 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${E.performer_type==="Admin"?"bg-red-100":"bg-blue-100"}`,children:r.jsx("i",{className:`${E.performer_type==="Admin"?"ri-admin-line text-red-600":"ri-user-line text-blue-600"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.performer_type==="Admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:E.performer_type}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.performer_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",E.performer_email,")"]})]}),r.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:E.action}),E.target_type&&r.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Target:"})," ",E.target_type,E.target_id&&r.jsxs("span",{className:"ml-1",children:["(",E.target_id.slice(0,8),"...)"]})]}),E.details&&typeof E.details=="object"&&r.jsx("div",{className:"mt-2 p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("div",{className:"text-xs text-gray-600 space-y-1",children:Object.entries(E.details).map(([K,Pe])=>["timestamp","admin_name","user_name"].includes(K)?null:r.jsxs("div",{className:"flex",children:[r.jsxs("span",{className:"font-medium capitalize w-24 flex-shrink-0",children:[K.replace(/_/g," "),":"]}),r.jsx("span",{className:"text-gray-800 break-words",children:typeof Pe=="object"?JSON.stringify(Pe):String(Pe)})]},K))})}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsx("div",{className:"text-xs text-gray-400",children:new Date(E.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),((I=E.details)==null?void 0:I.ip_address)&&r.jsxs("div",{className:"text-xs text-gray-400",children:["IP: ",E.details.ip_address]})]})]})]},E.id)}),Tn().length===0&&ie.length>0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-search-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matching activities"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms"}),r.jsx("button",{onClick:()=>pt("activity",""),className:"mt-4 text-red-600 hover:text-red-700 font-medium cursor-pointer",children:"Clear search"})]}),ie.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("i",{className:"ri-history-line text-4xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Activity Logs Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No activities have been recorded yet"}),r.jsxs("button",{onClick:De,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-refresh-line mr-2"}),"Refresh Data"]})]})]})})]}),i==="settings"&&r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Admin Settings"}),r.jsxs("div",{className:"border-b pb-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),r.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 w-32",children:"Name:"}),r.jsx("span",{className:"font-medium text-gray-900",children:t==null?void 0:t.name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 w-32",children:"Email:"}),r.jsx("span",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 w-32",children:"Role:"}),r.jsx("span",{className:"font-medium text-gray-900",children:t!=null&&t.is_super_admin?"Super Admin":"Admin"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 w-32",children:"Status:"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(t==null?void 0:t.status)==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t==null?void 0:t.status})]})]})]}),r.jsx("div",{className:"border-b pb-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your password to keep your account secure"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"ri-lock-password-line mr-2"}),"Change Password"]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Users"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:$e.totalUsers})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Vehicles"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:$e.totalVehicles})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Pending Approvals"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:$e.pendingVehicles})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active Requirements"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:$e.activeRequirements})]})]})]})]})})]})]})},WS=[{path:"/",element:r.jsx(tS,{})},{path:"/vehicles",element:r.jsx(LS,{})},{path:"/vehicles/post",element:r.jsx(VS,{})},{path:"/vehicles/edit/:id",element:r.jsx(PS,{})},{path:"/vehicles/:id",element:r.jsx(qS,{})},{path:"/requirements",element:r.jsx(HS,{})},{path:"/contact-support",element:r.jsx(GS,{})},{path:"/login",element:r.jsx(YS,{})},{path:"/register",element:r.jsx(FS,{})},{path:"/admin-login",element:r.jsx(Vf,{})},{path:"/admin/login",element:r.jsx(Vf,{})},{path:"/forgot-password",element:r.jsx(KS,{})},{path:"/reset-password",element:r.jsx(XS,{})},{path:"/dashboard",element:r.jsx(QS,{})},{path:"/admin/dashboard",element:r.jsx(ZS,{})},{path:"*",element:r.jsx(IS,{})}];let wy;new Promise(e=>{wy=e});function e2(){const e=tt(),t=ew(WS);return v.useEffect(()=>{window.REACT_APP_NAVIGATE||(window.REACT_APP_NAVIGATE=e,wy(e))},[e]),t}function t2(){return r.jsx(ww,{basename:"/",children:r.jsx(e2,{})})}const Ny=document.getElementById("root");if(!Ny)throw new Error("Root element not found");const s2=_j.createRoot(Ny);s2.render(r.jsx(tg.StrictMode,{children:r.jsx(t2,{})}));
//# sourceMappingURL=index-wlQp-pCd.js.map
